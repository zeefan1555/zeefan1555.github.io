

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://hexoblogzeefan.oss-cn-guangzhou.aliyuncs.com/img/202206251952371.png">
  <link rel="icon" href="https://hexoblogzeefan.oss-cn-guangzhou.aliyuncs.com/img/202206251952371.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="zeefan">
  <meta name="keywords" content="">
  
    <meta name="description" content="üìùgithub MySQL Á¨îËÆ∞::   1: Âü∫Á°ÄÁØá  1.1: ÈÄöÁî®ËØ≠Ê≥ïÂèäÂàÜÁ±ª  DDL: Êï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºåÁî®Êù•ÂÆö‰πâÊï∞ÊçÆÂ∫ìÂØπË±°ÔºàÊï∞ÊçÆÂ∫ì„ÄÅË°®„ÄÅÂ≠óÊÆµÔºâ DML: Êï∞ÊçÆÊìç‰ΩúËØ≠Ë®ÄÔºåÁî®Êù•ÂØπÊï∞ÊçÆÂ∫ìË°®‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÂ¢ûÂà†Êîπ DQL: Êï∞ÊçÆÊü•ËØ¢ËØ≠Ë®ÄÔºåÁî®Êù•Êü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠Ë°®ÁöÑËÆ∞ÂΩï DCL: Êï∞ÊçÆÊéßÂà∂ËØ≠Ë®ÄÔºåÁî®Êù•ÂàõÂª∫Êï∞ÊçÆÂ∫ìÁî®Êà∑„ÄÅÊéßÂà∂Êï∞ÊçÆÂ∫ìÁöÑÊéßÂà∂ÊùÉÈôê   1.1.1: DDLÔºàÊï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºâ Êï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä  1.1.1.1:">
<meta property="og:type" content="article">
<meta property="og:title" content="github MySQL Á¨îËÆ∞">
<meta property="og:url" content="https://zeefan1555.github.io/posts/14623/index.html">
<meta property="og:site_name" content="‰∏ÄÊùØÁ©∫Ê∞î">
<meta property="og:description" content="üìùgithub MySQL Á¨îËÆ∞::   1: Âü∫Á°ÄÁØá  1.1: ÈÄöÁî®ËØ≠Ê≥ïÂèäÂàÜÁ±ª  DDL: Êï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºåÁî®Êù•ÂÆö‰πâÊï∞ÊçÆÂ∫ìÂØπË±°ÔºàÊï∞ÊçÆÂ∫ì„ÄÅË°®„ÄÅÂ≠óÊÆµÔºâ DML: Êï∞ÊçÆÊìç‰ΩúËØ≠Ë®ÄÔºåÁî®Êù•ÂØπÊï∞ÊçÆÂ∫ìË°®‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÂ¢ûÂà†Êîπ DQL: Êï∞ÊçÆÊü•ËØ¢ËØ≠Ë®ÄÔºåÁî®Êù•Êü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠Ë°®ÁöÑËÆ∞ÂΩï DCL: Êï∞ÊçÆÊéßÂà∂ËØ≠Ë®ÄÔºåÁî®Êù•ÂàõÂª∫Êï∞ÊçÆÂ∫ìÁî®Êà∑„ÄÅÊéßÂà∂Êï∞ÊçÆÂ∫ìÁöÑÊéßÂà∂ÊùÉÈôê   1.1.1: DDLÔºàÊï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºâ Êï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä  1.1.1.1:">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://dhc.pythonanywhere.com/media/editor/%E9%80%BB%E8%BE%91%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84_20220316030616590001.png">
<meta property="og:image" content="https://dhc.pythonanywhere.com/media/editor/%E4%BA%8C%E5%8F%89%E6%A0%91_20220316153214227108.png">
<meta property="og:image" content="https://dhc.pythonanywhere.com/media/editor/%E7%BA%A2%E9%BB%91%E6%A0%91_20220316163142686602.png">
<meta property="og:image" content="https://dhc.pythonanywhere.com/media/editor/%E7%BB%93%E6%9E%84%E5%9B%BE_20220316171730865611.png">
<meta property="og:image" content="https://dhc.pythonanywhere.com/media/editor/%E5%8E%9F%E7%90%86%E5%9B%BE_20220318194454880073.png">
<meta property="og:image" content="https://dhc.pythonanywhere.com/media/editor/%E6%BC%94%E7%A4%BA%E5%9B%BE_20220319215403721066.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/pre.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/uion.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/keySort.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic2.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic3.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic4.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic5.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic6.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic7.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic8.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/MVCC.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/MVCCList.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/readview0.png">
<meta property="og:image" content="https://github.com/Buildings-Lei/mysql_note/blob/main/images/readview.png">
<meta property="article:published_time" content="2022-11-08T12:53:00.000Z">
<meta property="article:modified_time" content="2022-11-21T02:00:38.209Z">
<meta property="article:author" content="zeefan">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://dhc.pythonanywhere.com/media/editor/%E9%80%BB%E8%BE%91%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84_20220316030616590001.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>github MySQL Á¨îËÆ∞ - ‰∏ÄÊùØÁ©∫Ê∞î</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.15.6/katex.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"zeefan1555.github.io","root":"/","version":"1.9.1","typing":{"enable":true,"typeSpeed":150,"cursorChar":"_","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"Text"},"copy_btn":true,"image_caption":{"enable":false},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":10},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>‰∏ÄÊùØÁ©∫Ê∞î</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                È¶ñÈ°µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                ÂΩíÊ°£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                ÂàÜÁ±ª
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Ê†áÁ≠æ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                ÂÖ≥‰∫é
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="github MySQL Á¨îËÆ∞"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-11-08 20:53" pubdate>
          2022Âπ¥11Êúà8Êó• Êôö‰∏ä
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          38k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          192 ÂàÜÈíü
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> Ê¨°
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">github MySQL Á¨îËÆ∞</h1>
            
              <p class="note note-info">
                
                  
                    Êú¨ÊñáÊúÄÂêéÊõ¥Êñ∞‰∫éÔºö2022Âπ¥11Êúà21Êó• ‰∏äÂçà
                  
                
              </p>
            
            <div class="markdown-body">
              
              <p>üìùgithub MySQL Á¨îËÆ∞::</p>
<!-- basicblock-end -->
<h1 id="1-Âü∫Á°ÄÁØá"><a class="markdownIt-Anchor" href="#1-Âü∫Á°ÄÁØá"></a> 1: Âü∫Á°ÄÁØá</h1>
<h2 id="11-ÈÄöÁî®ËØ≠Ê≥ïÂèäÂàÜÁ±ª"><a class="markdownIt-Anchor" href="#11-ÈÄöÁî®ËØ≠Ê≥ïÂèäÂàÜÁ±ª"></a> 1.1: ÈÄöÁî®ËØ≠Ê≥ïÂèäÂàÜÁ±ª</h2>
<ul>
<li>DDL: Êï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºåÁî®Êù•ÂÆö‰πâÊï∞ÊçÆÂ∫ìÂØπË±°ÔºàÊï∞ÊçÆÂ∫ì„ÄÅË°®„ÄÅÂ≠óÊÆµÔºâ</li>
<li>DML: Êï∞ÊçÆÊìç‰ΩúËØ≠Ë®ÄÔºåÁî®Êù•ÂØπÊï∞ÊçÆÂ∫ìË°®‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÂ¢ûÂà†Êîπ</li>
<li>DQL: Êï∞ÊçÆÊü•ËØ¢ËØ≠Ë®ÄÔºåÁî®Êù•Êü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠Ë°®ÁöÑËÆ∞ÂΩï</li>
<li>DCL: Êï∞ÊçÆÊéßÂà∂ËØ≠Ë®ÄÔºåÁî®Êù•ÂàõÂª∫Êï∞ÊçÆÂ∫ìÁî®Êà∑„ÄÅÊéßÂà∂Êï∞ÊçÆÂ∫ìÁöÑÊéßÂà∂ÊùÉÈôê</li>
</ul>
<h3 id="111-ddlÊï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä"><a class="markdownIt-Anchor" href="#111-ddlÊï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä"></a> 1.1.1: DDLÔºàÊï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºâ</h3>
<p>Êï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä</p>
<h4 id="1111-Êï∞ÊçÆÂ∫ìÊìç‰Ωú"><a class="markdownIt-Anchor" href="#1111-Êï∞ÊçÆÂ∫ìÊìç‰Ωú"></a> 1.1.1.1: Êï∞ÊçÆÂ∫ìÊìç‰Ωú</h4>
<p>Êü•ËØ¢ÊâÄÊúâÊï∞ÊçÆÂ∫ì:<br>
<code>SHOW DATABASES;</code><br>
Êü•ËØ¢ÂΩìÂâçÊï∞ÊçÆÂ∫ìÔºö<br>
<code>SELECT DATABASE();</code><br>
ÂàõÂª∫Êï∞ÊçÆÂ∫ìÔºö<br>
<code>CREATE DATABASE [ IF NOT EXISTS ] Êï∞ÊçÆÂ∫ìÂêç [ DEFAULT CHARSET Â≠óÁ¨¶ÈõÜ] [COLLATE ÊéíÂ∫èËßÑÂàô ];</code><br>
Âà†Èô§Êï∞ÊçÆÂ∫ì:<br>
<code>DROP DATABASE [ IF EXISTS ] Êï∞ÊçÆÂ∫ìÂêç;</code><br>
‰ΩøÁî®Êï∞ÊçÆÂ∫ìÔºö<br>
<code>USE Êï∞ÊçÆÂ∫ìÂêç;</code></p>
<h5 id="11111-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#11111-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.1.1.1.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<ul>
<li>UTF8 Â≠óÁ¨¶ÈõÜÈïøÂ∫¶‰∏∫ 3 Â≠óËäÇÔºåÊúâ‰∫õÁ¨¶Âè∑Âç† 4 Â≠óËäÇÔºåÊâÄ‰ª•Êé®ËçêÁî® utf8mb4 Â≠óÁ¨¶ÈõÜ</li>
</ul>
<h4 id="1112-Ë°®Êìç‰Ωú"><a class="markdownIt-Anchor" href="#1112-Ë°®Êìç‰Ωú"></a> 1.1.1.2: Ë°®Êìç‰Ωú</h4>
<p>Êü•ËØ¢ÂΩìÂâçÊï∞ÊçÆÂ∫ìÊâÄÊúâË°®Ôºö<br>
<code>SHOW TABLES;</code><br>
Êü•ËØ¢Ë°®ÁªìÊûÑÔºö<br>
<code>DESC Ë°®Âêç;</code><br>
Êü•ËØ¢ÊåáÂÆöË°®ÁöÑÂª∫Ë°®ËØ≠Âè•Ôºö<br>
<code>SHOW CREATE TABLE Ë°®Âêç;</code></p>
<p>ÂàõÂª∫Ë°®Ôºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE Ë°®Âêç(<br>	Â≠óÊÆµ1 Â≠óÊÆµ1Á±ªÂûã [COMMENT Â≠óÊÆµ1Ê≥®Èáä],<br>	Â≠óÊÆµ2 Â≠óÊÆµ2Á±ªÂûã [COMMENT Â≠óÊÆµ2Ê≥®Èáä],<br>	Â≠óÊÆµ3 Â≠óÊÆµ3Á±ªÂûã [COMMENT Â≠óÊÆµ3Ê≥®Èáä],<br>	...<br>	Â≠óÊÆµn Â≠óÊÆµnÁ±ªÂûã [COMMENT Â≠óÊÆµnÊ≥®Èáä]<br>)[ COMMENT Ë°®Ê≥®Èáä ];<br></code></pre></td></tr></tbody></table></figure>
<p>ÊâÄÊúâÁöÑË¶ÅÁî®Ëã±ÊñáÁöÑÊ†ºÂºè<br>
<strong>ÊúÄÂêé‰∏Ä‰∏™Â≠óÊÆµÂêéÈù¢Ê≤°ÊúâÈÄóÂè∑</strong></p>
<p>Ê∑ªÂä†Â≠óÊÆµÔºö<br>
<code>ALTER TABLE Ë°®Âêç ADD Â≠óÊÆµÂêç Á±ªÂûã(ÈïøÂ∫¶) [COMMENT Ê≥®Èáä] [Á∫¶Êùü];</code><br>
‰æãÔºö<code>ALTER TABLE emp ADD nickname varchar(20) COMMENT 'ÊòµÁß∞';</code></p>
<p>‰øÆÊîπÊï∞ÊçÆÁ±ªÂûãÔºö<br>
<code>ALTER TABLE Ë°®Âêç MODIFY Â≠óÊÆµÂêç Êñ∞Êï∞ÊçÆÁ±ªÂûã(ÈïøÂ∫¶);</code></p>
<p>‰øÆÊîπÂ≠óÊÆµÂêçÂíåÂ≠óÊÆµÁ±ªÂûãÔºö<br>
<code>ALTER TABLE Ë°®Âêç CHANGE ÊóßÂ≠óÊÆµÂêç Êñ∞Â≠óÊÆµÂêç Á±ªÂûã(ÈïøÂ∫¶) [COMMENT Ê≥®Èáä] [Á∫¶Êùü];</code></p>
<p>‰æãÔºöÂ∞ÜempË°®ÁöÑnicknameÂ≠óÊÆµ‰øÆÊîπ‰∏∫usernameÔºåÁ±ªÂûã‰∏∫varchar(30)<br>
<code>ALTER TABLE emp CHANGE nickname username varchar(30) COMMENT 'ÊòµÁß∞';</code></p>
<p>Âà†Èô§Â≠óÊÆµÔºö<br>
<code>ALTER TABLE Ë°®Âêç DROP Â≠óÊÆµÂêç;</code></p>
<p>‰øÆÊîπË°®ÂêçÔºö<br>
<code>ALTER TABLE Ë°®Âêç RENAME TO Êñ∞Ë°®Âêç</code></p>
<p>Âà†Èô§Ë°®Ôºö<br>
<code>DROP TABLE [IF EXISTS] Ë°®Âêç;</code></p>
<p>Âà†Èô§Ë°®ÔºåÂπ∂ÈáçÊñ∞ÂàõÂª∫ËØ•Ë°®Ôºö<br>
<code>TRUNCATE TABLE Ë°®Âêç;</code></p>
<h3 id="112-dmlÊï∞ÊçÆÊìç‰ΩúËØ≠Ë®Ä"><a class="markdownIt-Anchor" href="#112-dmlÊï∞ÊçÆÊìç‰ΩúËØ≠Ë®Ä"></a> 1.1.2: DMLÔºàÊï∞ÊçÆÊìç‰ΩúËØ≠Ë®ÄÔºâ</h3>
<h4 id="1121-Ê∑ªÂä†Êï∞ÊçÆ"><a class="markdownIt-Anchor" href="#1121-Ê∑ªÂä†Êï∞ÊçÆ"></a> 1.1.2.1: Ê∑ªÂä†Êï∞ÊçÆ</h4>
<p>ÊåáÂÆöÂ≠óÊÆµÔºö<br>
<code>INSERT INTO Ë°®Âêç (Â≠óÊÆµÂêç1, Â≠óÊÆµÂêç2, ...) VALUES (ÂÄº1, ÂÄº2, ...);</code><br>
ÂÖ®ÈÉ®Â≠óÊÆµÔºö<br>
<code>INSERT INTO Ë°®Âêç VALUES (ÂÄº1, ÂÄº2, ...);</code></p>
<p>ÊâπÈáèÊ∑ªÂä†Êï∞ÊçÆÔºö<br>
<code>INSERT INTO Ë°®Âêç (Â≠óÊÆµÂêç1, Â≠óÊÆµÂêç2, ...) VALUES (ÂÄº1, ÂÄº2, ...), (ÂÄº1, ÂÄº2, ...), (ÂÄº1, ÂÄº2, ...);</code><br>
<code>INSERT INTO Ë°®Âêç VALUES (ÂÄº1, ÂÄº2, ...), (ÂÄº1, ÂÄº2, ...), (ÂÄº1, ÂÄº2, ...);</code></p>
<h5 id="11211-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#11211-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.1.2.1.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<ul>
<li>Â≠óÁ¨¶‰∏≤ÂíåÊó•ÊúüÁ±ªÂûãÊï∞ÊçÆÂ∫îËØ•ÂåÖÂê´Âú®ÂºïÂè∑‰∏≠</li>
<li>ÊèíÂÖ•ÁöÑÊï∞ÊçÆÂ§ßÂ∞èÂ∫îËØ•Âú®Â≠óÊÆµÁöÑËßÑÂÆöËåÉÂõ¥ÂÜÖ</li>
</ul>
<h4 id="1122-Êõ¥Êñ∞ÂíåÂà†Èô§Êï∞ÊçÆ"><a class="markdownIt-Anchor" href="#1122-Êõ¥Êñ∞ÂíåÂà†Èô§Êï∞ÊçÆ"></a> 1.1.2.2: Êõ¥Êñ∞ÂíåÂà†Èô§Êï∞ÊçÆ</h4>
<p>‰øÆÊîπÊï∞ÊçÆÔºö<br>
<code>UPDATE Ë°®Âêç SET Â≠óÊÆµÂêç1 = ÂÄº1, Â≠óÊÆµÂêç2 = ÂÄº2, ... [ WHERE Êù°‰ª∂ ];</code><br>
‰æãÔºö<br>
<code>UPDATE emp SET name = 'Jack' WHERE id = 1;</code></p>
<p>Âà†Èô§Êï∞ÊçÆÔºö<br>
<code>DELETE FROM Ë°®Âêç [ WHERE Êù°‰ª∂ ];</code></p>
<h3 id="113-dqlÊï∞ÊçÆÊü•ËØ¢ËØ≠Ë®Ä"><a class="markdownIt-Anchor" href="#113-dqlÊï∞ÊçÆÊü•ËØ¢ËØ≠Ë®Ä"></a> 1.1.3: DQLÔºàÊï∞ÊçÆÊü•ËØ¢ËØ≠Ë®ÄÔºâ</h3>
<p>ËØ≠Ê≥ïÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT<br>	Â≠óÊÆµÂàóË°®<br>FROM<br>	Ë°®ÂêçÂ≠óÊÆµ<br>WHERE<br>	Êù°‰ª∂ÂàóË°®<br>GROUP BY<br>	ÂàÜÁªÑÂ≠óÊÆµÂàóË°®<br>HAVING<br>	ÂàÜÁªÑÂêéÁöÑÊù°‰ª∂ÂàóË°®<br>ORDER BY<br>	ÊéíÂ∫èÂ≠óÊÆµÂàóË°®<br>LIMIT<br>	ÂàÜÈ°µÂèÇÊï∞<br></code></pre></td></tr></tbody></table></figure>
<h4 id="1131-Âü∫Á°ÄÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1131-Âü∫Á°ÄÊü•ËØ¢"></a> 1.1.3.1: Âü∫Á°ÄÊü•ËØ¢</h4>
<p>Êü•ËØ¢Â§ö‰∏™Â≠óÊÆµÔºö<br>
<code>SELECT Â≠óÊÆµ1, Â≠óÊÆµ2, Â≠óÊÆµ3, ... FROM Ë°®Âêç;</code><br>
<code>SELECT * FROM Ë°®Âêç;</code></p>
<p>ËÆæÁΩÆÂà´ÂêçÔºö<br>
<code>SELECT Â≠óÊÆµ1 [ AS Âà´Âêç1 ], Â≠óÊÆµ2 [ AS Âà´Âêç2 ], Â≠óÊÆµ3 [ AS Âà´Âêç3 ], ... FROM Ë°®Âêç;</code><br>
<code>SELECT Â≠óÊÆµ1 [ Âà´Âêç1 ], Â≠óÊÆµ2 [ Âà´Âêç2 ], Â≠óÊÆµ3 [ Âà´Âêç3 ], ... FROM Ë°®Âêç;</code></p>
<p>ÂéªÈô§ÈáçÂ§çËÆ∞ÂΩïÔºö<br>
<code>SELECT DISTINCT Â≠óÊÆµÂàóË°® FROM Ë°®Âêç;</code></p>
<p>ËΩ¨‰πâÔºö<br>
<code>SELECT * FROM Ë°®Âêç WHERE name LIKE '/_Âº†‰∏â' ESCAPE '/'</code><br>
/ ‰πãÂêéÁöÑ_‰∏ç‰Ωú‰∏∫ÈÄöÈÖçÁ¨¶</p>
<h4 id="1132-Êù°‰ª∂Êü•ËØ¢"><a class="markdownIt-Anchor" href="#1132-Êù°‰ª∂Êü•ËØ¢"></a> 1.1.3.2: Êù°‰ª∂Êü•ËØ¢</h4>
<p>ËØ≠Ê≥ïÔºö<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®Âêç WHERE Êù°‰ª∂ÂàóË°®;</code></p>
<p>Êù°‰ª∂Ôºö</p>
<table>
<thead>
<tr>
<th>ÊØîËæÉËøêÁÆóÁ¨¶</th>
<th>ÂäüËÉΩ</th>
</tr>
</thead>
<tbody>
<tr>
<td>&gt;</td>
<td>Â§ß‰∫é</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Â§ß‰∫éÁ≠â‰∫é</td>
</tr>
<tr>
<td>&lt;</td>
<td>Â∞è‰∫é</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Â∞è‰∫éÁ≠â‰∫é</td>
</tr>
<tr>
<td>=</td>
<td>Á≠â‰∫é</td>
</tr>
<tr>
<td>&lt;&gt; Êàñ !=</td>
<td>‰∏çÁ≠â‰∫é</td>
</tr>
<tr>
<td>BETWEEN ‚Ä¶ AND ‚Ä¶</td>
<td>Âú®Êüê‰∏™ËåÉÂõ¥ÂÜÖÔºàÂê´ÊúÄÂ∞è„ÄÅÊúÄÂ§ßÂÄºÔºâ</td>
</tr>
<tr>
<td>IN (‚Ä¶)</td>
<td>Âú® in ‰πãÂêéÁöÑÂàóË°®‰∏≠ÁöÑÂÄºÔºåÂ§öÈÄâ‰∏Ä</td>
</tr>
<tr>
<td>LIKE Âç†‰ΩçÁ¨¶</td>
<td>Ê®°Á≥äÂåπÈÖçÔºà_ÂåπÈÖçÂçï‰∏™Â≠óÁ¨¶Ôºå%ÂåπÈÖç‰ªªÊÑè‰∏™Â≠óÁ¨¶Ôºâ</td>
</tr>
<tr>
<td>IS NULL</td>
<td>ÊòØ NULL</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>ÈÄªËæëËøêÁÆóÁ¨¶</th>
<th>ÂäüËÉΩ</th>
</tr>
</thead>
<tbody>
<tr>
<td>AND Êàñ &amp;&amp;</td>
<td>Âπ∂‰∏îÔºàÂ§ö‰∏™Êù°‰ª∂ÂêåÊó∂ÊàêÁ´ãÔºâ</td>
</tr>
<tr>
<td>OR Êàñ ||</td>
<td>ÊàñËÄÖÔºàÂ§ö‰∏™Êù°‰ª∂‰ªªÊÑè‰∏Ä‰∏™ÊàêÁ´ãÔºâ</td>
</tr>
<tr>
<td>NOT Êàñ !</td>
<td>ÈùûÔºå‰∏çÊòØ</td>
</tr>
</tbody>
</table>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Âπ¥ÈæÑÁ≠â‰∫é30<br>select * from employee where age = 30;<br>-- Âπ¥ÈæÑÂ∞è‰∫é30<br>select * from employee where age &lt; 30;<br>-- Â∞è‰∫éÁ≠â‰∫é<br>select * from employee where age &lt;= 30;<br>-- Ê≤°ÊúâË∫´‰ªΩËØÅ<br>select * from employee where idcard is null or idcard = '';<br>-- ÊúâË∫´‰ªΩËØÅ<br>select * from employee where idcard;<br>select * from employee where idcard is not null;<br>-- ‰∏çÁ≠â‰∫é<br>select * from employee where age != 30;<br>-- Âπ¥ÈæÑÂú®20Âà∞30‰πãÈó¥<br>select * from employee where age between 20 and 30;<br>select * from employee where age &gt;= 20 and age &lt;= 30;<br>-- ‰∏ãÈù¢ËØ≠Âè•‰∏çÊä•ÈîôÔºå‰ΩÜÊü•‰∏çÂà∞‰ªª‰Ωï‰ø°ÊÅØ<br>select * from employee where age between 30 and 20;<br>-- ÊÄßÂà´‰∏∫Â•≥‰∏îÂπ¥ÈæÑÂ∞è‰∫é30<br>select * from employee where age &lt; 30 and gender = 'Â•≥';<br>-- Âπ¥ÈæÑÁ≠â‰∫é25Êàñ30Êàñ35<br>select * from employee where age = 25 or age = 30 or age = 35;<br>select * from employee where age in (25, 30, 35);<br>-- ÂßìÂêç‰∏∫‰∏§‰∏™Â≠ó<br>select * from employee where name like '__';<br>-- Ë∫´‰ªΩËØÅÊúÄÂêé‰∏∫X<br>select * from employee where idcard like '%X';<br></code></pre></td></tr></tbody></table></figure>
<h4 id="1133-ËÅöÂêàÊü•ËØ¢ËÅöÂêàÂáΩÊï∞"><a class="markdownIt-Anchor" href="#1133-ËÅöÂêàÊü•ËØ¢ËÅöÂêàÂáΩÊï∞"></a> 1.1.3.3: ËÅöÂêàÊü•ËØ¢ÔºàËÅöÂêàÂáΩÊï∞Ôºâ</h4>
<p>Â∏∏ËßÅËÅöÂêàÂáΩÊï∞Ôºö</p>
<table>
<thead>
<tr>
<th>ÂáΩÊï∞</th>
<th>ÂäüËÉΩ</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>ÁªüËÆ°Êï∞Èáè</td>
</tr>
<tr>
<td>max</td>
<td>ÊúÄÂ§ßÂÄº</td>
</tr>
<tr>
<td>min</td>
<td>ÊúÄÂ∞èÂÄº</td>
</tr>
<tr>
<td>avg</td>
<td>Âπ≥ÂùáÂÄº</td>
</tr>
<tr>
<td>sum</td>
<td>Ê±ÇÂíå</td>
</tr>
</tbody>
</table>
<p>ËØ≠Ê≥ïÔºö<br>
<code>SELECT ËÅöÂêàÂáΩÊï∞ (Â≠óÊÆµÂàóË°®) FROM Ë°®Âêç;</code><br>
‰æãÔºö<br>
<code>SELECT count (id) from employee where workaddress = "Âπø‰∏úÁúÅ";</code></p>
<h4 id="1134-ÂàÜÁªÑÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1134-ÂàÜÁªÑÊü•ËØ¢"></a> 1.1.3.4: ÂàÜÁªÑÊü•ËØ¢</h4>
<p>ËØ≠Ê≥ïÔºö<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®Âêç [ WHERE Êù°‰ª∂ ] GROUP BY ÂàÜÁªÑÂ≠óÊÆµÂêç [ HAVING ÂàÜÁªÑÂêéÁöÑËøáÊª§Êù°‰ª∂ ];</code></p>
<p>where Âíå having ÁöÑÂå∫Âà´Ôºö</p>
<ul>
<li>ÊâßË°åÊó∂Êú∫‰∏çÂêåÔºöwhere ÊòØÂàÜÁªÑ‰πãÂâçËøõË°åËøáÊª§Ôºå‰∏çÊª°Ë∂≥ where Êù°‰ª∂‰∏çÂèÇ‰∏éÂàÜÁªÑÔºõhaving ÊòØÂàÜÁªÑÂêéÂØπÁªìÊûúËøõË°åËøáÊª§„ÄÇ</li>
<li>Âà§Êñ≠Êù°‰ª∂‰∏çÂêåÔºöwhere ‰∏çËÉΩÂØπËÅöÂêàÂáΩÊï∞ËøõË°åÂà§Êñ≠ÔºåËÄå having ÂèØ‰ª•„ÄÇ</li>
</ul>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Ê†πÊçÆÊÄßÂà´ÂàÜÁªÑÔºåÁªüËÆ°Áî∑ÊÄßÂíåÂ•≥ÊÄßÊï∞ÈáèÔºàÂè™ÊòæÁ§∫ÂàÜÁªÑÊï∞ÈáèÔºå‰∏çÊòæÁ§∫Âì™‰∏™ÊòØÁî∑Âì™‰∏™ÊòØÂ•≥Ôºâ<br>select count(*) from employee group by gender;<br>-- Ê†πÊçÆÊÄßÂà´ÂàÜÁªÑÔºåÁªüËÆ°Áî∑ÊÄßÂíåÂ•≥ÊÄßÊï∞Èáè<br>select gender, count(*) from employee group by gender;<br>-- Ê†πÊçÆÊÄßÂà´ÂàÜÁªÑÔºåÁªüËÆ°Áî∑ÊÄßÂíåÂ•≥ÊÄßÁöÑÂπ≥ÂùáÂπ¥ÈæÑ<br>select gender, avg(age) from employee group by gender;<br>-- Âπ¥ÈæÑÂ∞è‰∫é45ÔºåÂπ∂Ê†πÊçÆÂ∑•‰ΩúÂú∞ÂùÄÂàÜÁªÑ<br>select workaddress, count(*) from employee where age &lt; 45 group by workaddress;<br>-- Âπ¥ÈæÑÂ∞è‰∫é45ÔºåÂπ∂Ê†πÊçÆÂ∑•‰ΩúÂú∞ÂùÄÂàÜÁªÑÔºåËé∑ÂèñÂëòÂ∑•Êï∞ÈáèÂ§ß‰∫éÁ≠â‰∫é3ÁöÑÂ∑•‰ΩúÂú∞ÂùÄ<br>select workaddress, count(*) address_count from employee where age &lt; 45 group by workaddress having address_count &gt;= 3;<br></code></pre></td></tr></tbody></table></figure>
<h5 id="11341-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#11341-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.1.3.4.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<ul>
<li>ÊâßË°åÈ°∫Â∫èÔºöwhere &gt; ËÅöÂêàÂáΩÊï∞ &gt; having</li>
<li>ÂàÜÁªÑ‰πãÂêéÔºåÊü•ËØ¢ÁöÑÂ≠óÊÆµ‰∏ÄËà¨‰∏∫ËÅöÂêàÂáΩÊï∞ÂíåÂàÜÁªÑÂ≠óÊÆµÔºåÊü•ËØ¢ÂÖ∂‰ªñÂ≠óÊÆµÊó†‰ªª‰ΩïÊÑè‰πâ</li>
</ul>
<h4 id="1135-ÊéíÂ∫èÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1135-ÊéíÂ∫èÊü•ËØ¢"></a> 1.1.3.5: ÊéíÂ∫èÊü•ËØ¢</h4>
<p>ËØ≠Ê≥ïÔºö<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®Âêç ORDER BY Â≠óÊÆµ1 ÊéíÂ∫èÊñπÂºè1, Â≠óÊÆµ2 ÊéíÂ∫èÊñπÂºè2;</code></p>
<p>ÊéíÂ∫èÊñπÂºèÔºö</p>
<ul>
<li>ASC: ÂçáÂ∫èÔºàÈªòËÆ§Ôºâ</li>
<li>DESC: ÈôçÂ∫è</li>
</ul>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Ê†πÊçÆÂπ¥ÈæÑÂçáÂ∫èÊéíÂ∫è<br>SELECT * FROM employee ORDER BY age ASC;<br>SELECT * FROM employee ORDER BY age;<br>-- ‰∏§Â≠óÊÆµÊéíÂ∫èÔºåÊ†πÊçÆÂπ¥ÈæÑÂçáÂ∫èÊéíÂ∫èÔºåÂÖ•ËÅåÊó∂Èó¥ÈôçÂ∫èÊéíÂ∫è(Â¶ÇÊûúÂπ¥ÈæÑÁõ∏ÂêåÈÇ£‰πàÂ∞±ÊåâËøô‰∏™)<br>SELECT * FROM employee ORDER BY age ASC, entrydate DESC;<br></code></pre></td></tr></tbody></table></figure>
<h5 id="11351-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#11351-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.1.3.5.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<p>Â¶ÇÊûúÊòØÂ§öÂ≠óÊÆµÊéíÂ∫èÔºåÂΩìÁ¨¨‰∏Ä‰∏™Â≠óÊÆµÂÄºÁõ∏ÂêåÊó∂ÔºåÊâç‰ºöÊ†πÊçÆÁ¨¨‰∫å‰∏™Â≠óÊÆµËøõË°åÊéíÂ∫è</p>
<h4 id="1136-ÂàÜÈ°µÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1136-ÂàÜÈ°µÊü•ËØ¢"></a> 1.1.3.6: ÂàÜÈ°µÊü•ËØ¢</h4>
<p>ËØ≠Ê≥ïÔºö<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®Âêç LIMIT Ëµ∑ÂßãÁ¥¢Âºï, Êü•ËØ¢ËÆ∞ÂΩïÊï∞;</code></p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢Á¨¨‰∏ÄÈ°µÊï∞ÊçÆÔºåÂ±ïÁ§∫10Êù°<br>SELECT * FROM employee LIMIT 0, 10;<br>-- Êü•ËØ¢Á¨¨‰∫åÈ°µ<br>SELECT * FROM employee LIMIT 10, 10;<br></code></pre></td></tr></tbody></table></figure>
<h5 id="11361-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#11361-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.1.3.6.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<ul>
<li>Ëµ∑ÂßãÁ¥¢Âºï‰ªé 0 ÂºÄÂßãÔºåËµ∑ÂßãÁ¥¢Âºï = ÔºàÊü•ËØ¢È°µÁ†Å - 1Ôºâ * ÊØèÈ°µÊòæÁ§∫ËÆ∞ÂΩïÊï∞</li>
<li>ÂàÜÈ°µÊü•ËØ¢ÊòØÊï∞ÊçÆÂ∫ìÁöÑÊñπË®ÄÔºå‰∏çÂêåÊï∞ÊçÆÂ∫ìÊúâ‰∏çÂêåÂÆûÁé∞ÔºåMySQL ÊòØ LIMIT</li>
<li>Â¶ÇÊûúÊü•ËØ¢ÁöÑÊòØÁ¨¨‰∏ÄÈ°µÊï∞ÊçÆÔºåËµ∑ÂßãÁ¥¢ÂºïÂèØ‰ª•ÁúÅÁï•ÔºåÁõ¥Êé•ÁÆÄÂÜô LIMIT 10</li>
</ul>
<h4 id="1137-dql-ÊâßË°åÈ°∫Â∫è"><a class="markdownIt-Anchor" href="#1137-dql-ÊâßË°åÈ°∫Â∫è"></a> 1.1.3.7: DQL ÊâßË°åÈ°∫Â∫è</h4>
<p>FROM -&gt; WHERE -&gt; GROUP BY -&gt; SELECT -&gt; ORDER BY -&gt; LIMIT</p>
<h3 id="114-dcl"><a class="markdownIt-Anchor" href="#114-dcl"></a> 1.1.4: DCL</h3>
<h4 id="1141-ÁÆ°ÁêÜÁî®Êà∑"><a class="markdownIt-Anchor" href="#1141-ÁÆ°ÁêÜÁî®Êà∑"></a> 1.1.4.1: ÁÆ°ÁêÜÁî®Êà∑</h4>
<p>Êü•ËØ¢Áî®Êà∑Ôºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">USER mysql;<br>SELECT * FROM user;<br></code></pre></td></tr></tbody></table></figure>
<p>ÂàõÂª∫Áî®Êà∑:<br>
<code>CREATE USER 'Áî®Êà∑Âêç'@'‰∏ªÊú∫Âêç' IDENTIFIED BY 'ÂØÜÁ†Å';</code></p>
<p>‰øÆÊîπÁî®Êà∑ÂØÜÁ†ÅÔºö<br>
<code>ALTER USER 'Áî®Êà∑Âêç'@'‰∏ªÊú∫Âêç' IDENTIFIED WITH mysql_native_password BY 'Êñ∞ÂØÜÁ†Å';</code></p>
<p>Âà†Èô§Áî®Êà∑Ôºö<br>
<code>DROP USER 'Áî®Êà∑Âêç'@'‰∏ªÊú∫Âêç';</code></p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- ÂàõÂª∫Áî®Êà∑testÔºåÂè™ËÉΩÂú®ÂΩìÂâç‰∏ªÊú∫localhostËÆøÈóÆ<br>create user 'test'@'localhost' identified by '123456';<br>-- ÂàõÂª∫Áî®Êà∑testÔºåËÉΩÂú®‰ªªÊÑè‰∏ªÊú∫ËÆøÈóÆ<br>create user 'test'@'%' identified by '123456';<br>create user 'test' identified by '123456';<br>-- ‰øÆÊîπÂØÜÁ†Å<br>alter user 'test'@'localhost' identified with mysql_native_password by '1234';<br>-- Âà†Èô§Áî®Êà∑<br>drop user 'test'@'localhost';<br></code></pre></td></tr></tbody></table></figure>
<h5 id="11411-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#11411-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.1.4.1.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<ul>
<li>‰∏ªÊú∫ÂêçÂèØ‰ª•‰ΩøÁî® % ÈÄöÈÖç</li>
</ul>
<h4 id="1142-ÊùÉÈôêÊéßÂà∂"><a class="markdownIt-Anchor" href="#1142-ÊùÉÈôêÊéßÂà∂"></a> 1.1.4.2: ÊùÉÈôêÊéßÂà∂</h4>
<p>Â∏∏Áî®ÊùÉÈôêÔºö</p>
<table>
<thead>
<tr>
<th>ÊùÉÈôê</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>ALL, ALL PRIVILEGES</td>
<td>ÊâÄÊúâÊùÉÈôê</td>
</tr>
<tr>
<td>SELECT</td>
<td>Êü•ËØ¢Êï∞ÊçÆ</td>
</tr>
<tr>
<td>INSERT</td>
<td>ÊèíÂÖ•Êï∞ÊçÆ</td>
</tr>
<tr>
<td>UPDATE</td>
<td>‰øÆÊîπÊï∞ÊçÆ</td>
</tr>
<tr>
<td>DELETE</td>
<td>Âà†Èô§Êï∞ÊçÆ</td>
</tr>
<tr>
<td>ALTER</td>
<td>‰øÆÊîπË°®</td>
</tr>
<tr>
<td>DROP</td>
<td>Âà†Èô§Êï∞ÊçÆÂ∫ì/Ë°®/ËßÜÂõæ</td>
</tr>
<tr>
<td>CREATE</td>
<td>ÂàõÂª∫Êï∞ÊçÆÂ∫ì/Ë°®</td>
</tr>
</tbody>
</table>
<p>Êõ¥Â§öÊùÉÈôêËØ∑Áúã<a href="#%E6%9D%83%E9%99%90%E4%B8%80%E8%A7%88%E8%A1%A8" title="ÊùÉÈôê‰∏ÄËßàË°®">ÊùÉÈôê‰∏ÄËßàË°®</a></p>
<p>Êü•ËØ¢ÊùÉÈôêÔºö<br>
<code>SHOW GRANTS FOR 'Áî®Êà∑Âêç'@'‰∏ªÊú∫Âêç';</code></p>
<p>Êéà‰∫àÊùÉÈôêÔºö<br>
<code>GRANT ÊùÉÈôêÂàóË°® ON Êï∞ÊçÆÂ∫ìÂêç. Ë°®Âêç TO 'Áî®Êà∑Âêç'@'‰∏ªÊú∫Âêç';</code></p>
<p>Êí§ÈîÄÊùÉÈôêÔºö<br>
<code>REVOKE ÊùÉÈôêÂàóË°® ON Êï∞ÊçÆÂ∫ìÂêç. Ë°®Âêç FROM 'Áî®Êà∑Âêç'@'‰∏ªÊú∫Âêç';</code></p>
<h5 id="11421-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#11421-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.1.4.2.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<ul>
<li>Â§ö‰∏™ÊùÉÈôêÁî®ÈÄóÂè∑ÂàÜÈöî</li>
<li>ÊéàÊùÉÊó∂ÔºåÊï∞ÊçÆÂ∫ìÂêçÂíåË°®ÂêçÂèØ‰ª•Áî® * ËøõË°åÈÄöÈÖçÔºå‰ª£Ë°®ÊâÄÊúâ</li>
</ul>
<h2 id="12-ÂáΩÊï∞"><a class="markdownIt-Anchor" href="#12-ÂáΩÊï∞"></a> 1.2: ÂáΩÊï∞</h2>
<p>ÂáΩÊï∞ÊòØÊåá‰∏ÄÊÆµÂèØ‰ª•Áõ¥Êé•Ë¢´Âè¶Â§ñ‰∏ÄÊÆµÁ®ãÂ∫èË∞ÉÁî®ÁöÑÁ®ãÂ∫èÊàñ‰ª£Á†Å„ÄÇ</p>
<ul>
<li>Â≠óÁ¨¶‰∏≤ÂáΩÊï∞</li>
<li>Êï∞ÂÄºÂáΩÊï∞</li>
<li>Êó•ÊúüÂáΩÊï∞</li>
<li>ÊµÅÁ®ãÂáΩÊï∞</li>
</ul>
<h3 id="121-Â≠óÁ¨¶‰∏≤ÂáΩÊï∞"><a class="markdownIt-Anchor" href="#121-Â≠óÁ¨¶‰∏≤ÂáΩÊï∞"></a> 1.2.1: Â≠óÁ¨¶‰∏≤ÂáΩÊï∞</h3>
<p>Â∏∏Áî®ÂáΩÊï∞Ôºö</p>
<table>
<thead>
<tr>
<th>ÂáΩÊï∞</th>
<th>ÂäüËÉΩ</th>
</tr>
</thead>
<tbody>
<tr>
<td>CONCAT (s1, s2, ‚Ä¶, sn)</td>
<td>Â≠óÁ¨¶‰∏≤ÊãºÊé•ÔºåÂ∞Ü s1, s2, ‚Ä¶, sn ÊãºÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤</td>
</tr>
<tr>
<td>LOWER (str)</td>
<td>Â∞ÜÂ≠óÁ¨¶‰∏≤ÂÖ®ÈÉ®ËΩ¨‰∏∫Â∞èÂÜô</td>
</tr>
<tr>
<td>UPPER (str)</td>
<td>Â∞ÜÂ≠óÁ¨¶‰∏≤ÂÖ®ÈÉ®ËΩ¨‰∏∫Â§ßÂÜô</td>
</tr>
<tr>
<td>LPAD (str, n, pad)</td>
<td>Â∑¶Â°´ÂÖÖÔºåÁî®Â≠óÁ¨¶‰∏≤ pad ÂØπ str ÁöÑÂ∑¶ËæπËøõË°åÂ°´ÂÖÖÔºåËææÂà∞ n ‰∏™Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶</td>
</tr>
<tr>
<td>RPAD (str, n, pad)</td>
<td>Âè≥Â°´ÂÖÖÔºåÁî®Â≠óÁ¨¶‰∏≤ pad ÂØπ str ÁöÑÂè≥ËæπËøõË°åÂ°´ÂÖÖÔºåËææÂà∞ n ‰∏™Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶</td>
</tr>
<tr>
<td>TRIM (str)</td>
<td>ÂéªÊéâÂ≠óÁ¨¶‰∏≤Â§¥ÈÉ®ÂíåÂ∞æÈÉ®ÁöÑÁ©∫Ê†º</td>
</tr>
<tr>
<td>SUBSTRING (str, start, len)</td>
<td>ËøîÂõû‰ªéÂ≠óÁ¨¶‰∏≤ str ‰ªé start ‰ΩçÁΩÆËµ∑ÁöÑ len ‰∏™ÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤</td>
</tr>
</tbody>
</table>
<p>‰ΩøÁî®Á§∫‰æãÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- ÊãºÊé•<br>SELECT CONCAT('Hello', 'World');<br>-- Â∞èÂÜô<br>SELECT LOWER('Hello');<br>-- Â§ßÂÜô<br>SELECT UPPER('Hello');<br>-- Â∑¶Â°´ÂÖÖ<br>SELECT LPAD('01', 5, '-');<br>-- Âè≥Â°´ÂÖÖ<br>SELECT RPAD('01', 5, '-');<br>-- ÂéªÈô§Á©∫Ê†º<br>SELECT TRIM(' Hello World ');<br>-- ÂàáÁâáÔºàËµ∑ÂßãÁ¥¢Âºï‰∏∫1Ôºâ<br>SELECT SUBSTRING('Hello World', 1, 5);<br></code></pre></td></tr></tbody></table></figure>
<h3 id="122-Êï∞ÂÄºÂáΩÊï∞"><a class="markdownIt-Anchor" href="#122-Êï∞ÂÄºÂáΩÊï∞"></a> 1.2.2: Êï∞ÂÄºÂáΩÊï∞</h3>
<p>Â∏∏ËßÅÂáΩÊï∞Ôºö</p>
<table>
<thead>
<tr>
<th>ÂáΩÊï∞</th>
<th>ÂäüËÉΩ</th>
</tr>
</thead>
<tbody>
<tr>
<td>CEIL (x)</td>
<td>Âêë‰∏äÂèñÊï¥</td>
</tr>
<tr>
<td>FLOOR (x)</td>
<td>Âêë‰∏ãÂèñÊï¥</td>
</tr>
<tr>
<td>MOD (x, y)</td>
<td>ËøîÂõû x/y ÁöÑÊ®°</td>
</tr>
<tr>
<td>RAND ()</td>
<td>ËøîÂõû 0~1 ÂÜÖÁöÑÈöèÊú∫Êï∞</td>
</tr>
<tr>
<td>ROUND (x, y)</td>
<td>Ê±ÇÂèÇÊï∞ x ÁöÑÂõõËàç‰∫îÂÖ•ÂÄºÔºå‰øùÁïô y ‰ΩçÂ∞èÊï∞</td>
</tr>
</tbody>
</table>
<h3 id="123-Êó•ÊúüÂáΩÊï∞"><a class="markdownIt-Anchor" href="#123-Êó•ÊúüÂáΩÊï∞"></a> 1.2.3: Êó•ÊúüÂáΩÊï∞</h3>
<p>Â∏∏Áî®ÂáΩÊï∞Ôºö</p>
<table>
<thead>
<tr>
<th>ÂáΩÊï∞</th>
<th>ÂäüËÉΩ</th>
</tr>
</thead>
<tbody>
<tr>
<td>CURDATE ()</td>
<td>ËøîÂõûÂΩìÂâçÊó•Êúü</td>
</tr>
<tr>
<td>CURTIME ()</td>
<td>ËøîÂõûÂΩìÂâçÊó∂Èó¥</td>
</tr>
<tr>
<td>NOW ()</td>
<td>ËøîÂõûÂΩìÂâçÊó•ÊúüÂíåÊó∂Èó¥</td>
</tr>
<tr>
<td>YEAR (date)</td>
<td>Ëé∑ÂèñÊåáÂÆö date ÁöÑÂπ¥‰ªΩ</td>
</tr>
<tr>
<td>MONTH (date)</td>
<td>Ëé∑ÂèñÊåáÂÆö date ÁöÑÊúà‰ªΩ</td>
</tr>
<tr>
<td>DAY (date)</td>
<td>Ëé∑ÂèñÊåáÂÆö date ÁöÑÊó•Êúü</td>
</tr>
<tr>
<td>DATE_ADD (date, INTERVAL expr type)</td>
<td>ËøîÂõû‰∏Ä‰∏™Êó•Êúü/Êó∂Èó¥ÂÄºÂä†‰∏ä‰∏Ä‰∏™Êó∂Èó¥Èó¥Èöî expr ÂêéÁöÑÊó∂Èó¥ÂÄº</td>
</tr>
<tr>
<td>DATEDIFF (date1, date2)</td>
<td>ËøîÂõûËµ∑ÂßãÊó∂Èó¥ date1 ÂíåÁªìÊùüÊó∂Èó¥ date2 ‰πãÈó¥ÁöÑÂ§©Êï∞</td>
</tr>
</tbody>
</table>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- DATE_ADD<br>SELECT DATE_ADD(NOW(), INTERVAL 70 YEAR);<br></code></pre></td></tr></tbody></table></figure>
<h3 id="124-ÊµÅÁ®ãÂáΩÊï∞"><a class="markdownIt-Anchor" href="#124-ÊµÅÁ®ãÂáΩÊï∞"></a> 1.2.4: ÊµÅÁ®ãÂáΩÊï∞</h3>
<p>Â∏∏Áî®ÂáΩÊï∞Ôºö</p>
<table>
<thead>
<tr>
<th>ÂáΩÊï∞</th>
<th>ÂäüËÉΩ</th>
</tr>
</thead>
<tbody>
<tr>
<td>IF (value, t, f)</td>
<td>Â¶ÇÊûú value ‰∏∫ trueÔºåÂàôËøîÂõû tÔºåÂê¶ÂàôËøîÂõû f</td>
</tr>
<tr>
<td>IFNULL (value1, value2)</td>
<td>Â¶ÇÊûú value1 ‰∏ç‰∏∫Á©∫ÔºåËøîÂõû value1ÔºåÂê¶ÂàôËøîÂõû value2</td>
</tr>
<tr>
<td>CASE WHEN [ val1 ] THEN [ res1 ] ‚Ä¶ ELSE [ default ] END</td>
<td>Â¶ÇÊûú val1 ‰∏∫ trueÔºåËøîÂõû res1Ôºå‚Ä¶ Âê¶ÂàôËøîÂõû default ÈªòËÆ§ÂÄº</td>
</tr>
<tr>
<td>CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] ‚Ä¶ ELSE [ default ] END</td>
<td>Â¶ÇÊûú expr ÁöÑÂÄºÁ≠â‰∫é val1ÔºåËøîÂõû res1Ôºå‚Ä¶ Âê¶ÂàôËøîÂõû default ÈªòËÆ§ÂÄº</td>
</tr>
</tbody>
</table>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select<br>	name,<br>	(case when age &gt; 30 then '‰∏≠Âπ¥' else 'ÈùíÂπ¥' end)<br>from employee;<br>select<br>	name,<br>	(case workaddress when 'Âåó‰∫¨Â∏Ç' then '‰∏ÄÁ∫øÂüéÂ∏Ç' when '‰∏äÊµ∑Â∏Ç' then '‰∏ÄÁ∫øÂüéÂ∏Ç' else '‰∫åÁ∫øÂüéÂ∏Ç' end) as 'Â∑•‰ΩúÂú∞ÂùÄ'<br>from employee;<br></code></pre></td></tr></tbody></table></figure>
<h2 id="13-Á∫¶Êùü"><a class="markdownIt-Anchor" href="#13-Á∫¶Êùü"></a> 1.3: Á∫¶Êùü</h2>
<ol>
<li>Ê¶ÇÂøµÔºöÁ∫¶ÊùüÊòØÁî®Êù•‰ΩúÁî®‰∫éË°®‰∏≠Â≠óÊÆµ‰∏äÁöÑËßÑÂàôÔºåÁî®‰∫éÈôêÂà∂Â≠òÂÇ®Âú®Ë°®‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li>ÁõÆÁöÑÔºö‰øùËØÅÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÁöÑÊ≠£Á°Æ„ÄÅÊúâÊïàÊÄßÂíåÂÆåÊï¥ÊÄß</li>
</ol>
<p>ÂàÜÁ±ªÔºö</p>
<table>
<thead>
<tr>
<th>Á∫¶Êùü</th>
<th>ÊèèËø∞</th>
<th>ÂÖ≥ÈîÆÂ≠ó</th>
</tr>
</thead>
<tbody>
<tr>
<td>ÈùûÁ©∫Á∫¶Êùü</td>
<td>ÈôêÂà∂ËØ•Â≠óÊÆµÁöÑÊï∞ÊçÆ‰∏çËÉΩ‰∏∫ null</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>ÂîØ‰∏ÄÁ∫¶Êùü</td>
<td>‰øùËØÅËØ•Â≠óÊÆµÁöÑÊâÄÊúâÊï∞ÊçÆÈÉΩÊòØÂîØ‰∏Ä„ÄÅ‰∏çÈáçÂ§çÁöÑ</td>
<td>UNIQUE</td>
</tr>
<tr>
<td>‰∏ªÈîÆÁ∫¶Êùü</td>
<td>‰∏ªÈîÆÊòØ‰∏ÄË°åÊï∞ÊçÆÁöÑÂîØ‰∏ÄÊ†áËØÜÔºåË¶ÅÊ±ÇÈùûÁ©∫‰∏îÂîØ‰∏Ä</td>
<td>PRIMARY KEY</td>
</tr>
<tr>
<td>ÈªòËÆ§Á∫¶Êùü</td>
<td>‰øùÂ≠òÊï∞ÊçÆÊó∂ÔºåÂ¶ÇÊûúÊú™ÊåáÂÆöËØ•Â≠óÊÆµÁöÑÂÄºÔºåÂàôÈááÁî®ÈªòËÆ§ÂÄº</td>
<td>DEFAULT</td>
</tr>
<tr>
<td>Ê£ÄÊü•Á∫¶ÊùüÔºà8.0.1 ÁâàÊú¨ÂêéÔºâ</td>
<td>‰øùËØÅÂ≠óÊÆµÂÄºÊª°Ë∂≥Êüê‰∏Ä‰∏™Êù°‰ª∂</td>
<td>CHECK</td>
</tr>
<tr>
<td>Â§ñÈîÆÁ∫¶Êùü</td>
<td>Áî®Êù•ËÆ©‰∏§Âº†ÂõæÁöÑÊï∞ÊçÆ‰πãÈó¥Âª∫Á´ãËøûÊé•Ôºå‰øùËØÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÂíåÂÆåÊï¥ÊÄß</td>
<td>FOREIGN KEY</td>
</tr>
</tbody>
</table>
<p>Á∫¶ÊùüÊòØ‰ΩúÁî®‰∫éË°®‰∏≠Â≠óÊÆµ‰∏äÁöÑÔºåÂèØ‰ª•ÂÜçÂàõÂª∫Ë°®/‰øÆÊîπË°®ÁöÑÊó∂ÂÄôÊ∑ªÂä†Á∫¶Êùü„ÄÇ</p>
<h3 id="131-Â∏∏Áî®Á∫¶Êùü"><a class="markdownIt-Anchor" href="#131-Â∏∏Áî®Á∫¶Êùü"></a> 1.3.1: Â∏∏Áî®Á∫¶Êùü</h3>
<table>
<thead>
<tr>
<th>Á∫¶ÊùüÊù°‰ª∂</th>
<th>ÂÖ≥ÈîÆÂ≠ó</th>
</tr>
</thead>
<tbody>
<tr>
<td>‰∏ªÈîÆ</td>
<td>PRIMARY KEY</td>
</tr>
<tr>
<td>Ëá™Âä®Â¢ûÈïø</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>‰∏ç‰∏∫Á©∫</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>ÂîØ‰∏Ä</td>
<td>UNIQUE</td>
</tr>
<tr>
<td>ÈÄªËæëÊù°‰ª∂</td>
<td>CHECK</td>
</tr>
<tr>
<td>ÈªòËÆ§ÂÄº</td>
<td>DEFAULT</td>
</tr>
</tbody>
</table>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table user(<br>	id int primary key auto_increment,<br>	name varchar(10) not null unique,<br>	age int check(age &gt; 0 and age &lt; 120),<br>	status char(1) default '1',<br>	gender char(1)<br>);<br></code></pre></td></tr></tbody></table></figure>
<h3 id="132-Â§ñÈîÆÁ∫¶Êùü"><a class="markdownIt-Anchor" href="#132-Â§ñÈîÆÁ∫¶Êùü"></a> 1.3.2: Â§ñÈîÆÁ∫¶Êùü</h3>
<p>Â§ñÈîÆÁî®Êù•ËÆ©‰∏§Âº†Ë°®ÁöÑÊï∞ÊçÆ‰πãÈó¥Âª∫Á´ãËøûÊé•Ôºå‰ªéËÄå‰øùËØÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÂíåÂÆåÊï¥ÊÄß„ÄÇ</p>
<p>Ê∑ªÂä†Â§ñÈîÆÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE Ë°®Âêç(<br>	Â≠óÊÆµÂêç Â≠óÊÆµÁ±ªÂûã,<br>	...<br>	[CONSTRAINT] [Â§ñÈîÆÂêçÁß∞] FOREIGN KEY(Â§ñÈîÆÂ≠óÊÆµÂêç) REFERENCES ‰∏ªË°®(‰∏ªË°®ÂàóÂêç)<br>);  <br>ALTER TABLE Ë°®Âêç ADD CONSTRAINT Â§ñÈîÆÂêçÁß∞ FOREIGN KEY (Â§ñÈîÆÂ≠óÊÆµÂêç) REFERENCES ‰∏ªË°®(‰∏ªË°®ÂàóÂêç);<br><br>-- ‰æãÂ≠ê  <br>alter table emp add constraint fk_emp_dept_id foreign key(dept_id) references dept(id);  <br></code></pre></td></tr></tbody></table></figure>
<p>Âà†Èô§Â§ñÈîÆÔºö<br>
<code>ALTER TABLE Ë°®Âêç DROP FOREIGN KEY Â§ñÈîÆÂêç;</code></p>
<h4 id="1321-Âà†Èô§Êõ¥Êñ∞Ë°å‰∏∫"><a class="markdownIt-Anchor" href="#1321-Âà†Èô§Êõ¥Êñ∞Ë°å‰∏∫"></a> 1.3.2.1: Âà†Èô§/Êõ¥Êñ∞Ë°å‰∏∫</h4>
<table>
<thead>
<tr>
<th>Ë°å‰∏∫</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>NO ACTION</td>
<td>ÂΩìÂú®Áà∂Ë°®‰∏≠Âà†Èô§/Êõ¥Êñ∞ÂØπÂ∫îËÆ∞ÂΩïÊó∂ÔºåÈ¶ñÂÖàÊ£ÄÊü•ËØ•ËÆ∞ÂΩïÊòØÂê¶ÊúâÂØπÂ∫îÂ§ñÈîÆÔºåÂ¶ÇÊûúÊúâÂàô‰∏çÂÖÅËÆ∏Âà†Èô§/Êõ¥Êñ∞Ôºà‰∏é RESTRICT ‰∏ÄËá¥Ôºâ</td>
</tr>
<tr>
<td>RESTRICT</td>
<td>ÂΩìÂú®Áà∂Ë°®‰∏≠Âà†Èô§/Êõ¥Êñ∞ÂØπÂ∫îËÆ∞ÂΩïÊó∂ÔºåÈ¶ñÂÖàÊ£ÄÊü•ËØ•ËÆ∞ÂΩïÊòØÂê¶ÊúâÂØπÂ∫îÂ§ñÈîÆÔºåÂ¶ÇÊûúÊúâÂàô‰∏çÂÖÅËÆ∏Âà†Èô§/Êõ¥Êñ∞Ôºà‰∏é NO ACTION ‰∏ÄËá¥Ôºâ</td>
</tr>
<tr>
<td>CASCADE</td>
<td>ÂΩìÂú®Áà∂Ë°®‰∏≠Âà†Èô§/Êõ¥Êñ∞ÂØπÂ∫îËÆ∞ÂΩïÊó∂ÔºåÈ¶ñÂÖàÊ£ÄÊü•ËØ•ËÆ∞ÂΩïÊòØÂê¶ÊúâÂØπÂ∫îÂ§ñÈîÆÔºåÂ¶ÇÊûúÊúâÂàô‰πüÂà†Èô§/Êõ¥Êñ∞Â§ñÈîÆÂú®Â≠êË°®‰∏≠ÁöÑËÆ∞ÂΩï</td>
</tr>
<tr>
<td>SET NULL</td>
<td>ÂΩìÂú®Áà∂Ë°®‰∏≠Âà†Èô§/Êõ¥Êñ∞ÂØπÂ∫îËÆ∞ÂΩïÊó∂ÔºåÈ¶ñÂÖàÊ£ÄÊü•ËØ•ËÆ∞ÂΩïÊòØÂê¶ÊúâÂØπÂ∫îÂ§ñÈîÆÔºåÂ¶ÇÊûúÊúâÂàôËÆæÁΩÆÂ≠êË°®‰∏≠ËØ•Â§ñÈîÆÂÄº‰∏∫ nullÔºàË¶ÅÊ±ÇËØ•Â§ñÈîÆÂÖÅËÆ∏‰∏∫ nullÔºâ</td>
</tr>
<tr>
<td>SET DEFAULT</td>
<td>Áà∂Ë°®ÊúâÂèòÊõ¥Êó∂ÔºåÂ≠êË°®Â∞ÜÂ§ñÈîÆËÆæ‰∏∫‰∏Ä‰∏™ÈªòËÆ§ÂÄºÔºàInnodb ‰∏çÊîØÊåÅÔºâ</td>
</tr>
</tbody>
</table>
<p>Êõ¥ÊîπÂà†Èô§/Êõ¥Êñ∞Ë°å‰∏∫Ôºö<br>
<code>ALTER TABLE Ë°®Âêç ADD CONSTRAINT Â§ñÈîÆÂêçÁß∞ FOREIGN KEY (Â§ñÈîÆÂ≠óÊÆµ) REFERENCES ‰∏ªË°®Âêç(‰∏ªË°®Â≠óÊÆµÂêç) ON UPDATE Ë°å‰∏∫ ON DELETE Ë°å‰∏∫;</code></p>
<h2 id="14-Â§öË°®Êü•ËØ¢"><a class="markdownIt-Anchor" href="#14-Â§öË°®Êü•ËØ¢"></a> 1.4: Â§öË°®Êü•ËØ¢</h2>
<h3 id="141-Â§öË°®ÂÖ≥Á≥ª"><a class="markdownIt-Anchor" href="#141-Â§öË°®ÂÖ≥Á≥ª"></a> 1.4.1: Â§öË°®ÂÖ≥Á≥ª</h3>
<ul>
<li>‰∏ÄÂØπÂ§öÔºàÂ§öÂØπ‰∏ÄÔºâ</li>
<li>Â§öÂØπÂ§ö</li>
<li>‰∏ÄÂØπ‰∏Ä</li>
</ul>
<h4 id="1411-‰∏ÄÂØπÂ§ö"><a class="markdownIt-Anchor" href="#1411-‰∏ÄÂØπÂ§ö"></a> 1.4.1.1: ‰∏ÄÂØπÂ§ö</h4>
<p>Ê°à‰æãÔºöÈÉ®Èó®‰∏éÂëòÂ∑•</p>
<p>ÂÖ≥Á≥ªÔºö‰∏Ä‰∏™ÈÉ®Èó®ÂØπÂ∫îÂ§ö‰∏™ÂëòÂ∑•Ôºå‰∏Ä‰∏™ÂëòÂ∑•ÂØπÂ∫î‰∏Ä‰∏™ÈÉ®Èó®<br>
ÂÆûÁé∞ÔºöÂú®Â§öÁöÑ‰∏ÄÊñπÂª∫Á´ãÂ§ñÈîÆÔºåÊåáÂêë‰∏ÄÁöÑ‰∏ÄÊñπÁöÑ‰∏ªÈîÆ</p>
<h4 id="1412-Â§öÂØπÂ§ö"><a class="markdownIt-Anchor" href="#1412-Â§öÂØπÂ§ö"></a> 1.4.1.2: Â§öÂØπÂ§ö</h4>
<p>Ê°à‰æãÔºöÂ≠¶Áîü‰∏éËØæÁ®ã<br>
ÂÖ≥Á≥ªÔºö‰∏Ä‰∏™Â≠¶ÁîüÂèØ‰ª•ÈÄâÂ§öÈó®ËØæÁ®ãÔºå‰∏ÄÈó®ËØæÁ®ã‰πüÂèØ‰ª•‰æõÂ§ö‰∏™Â≠¶ÁîüÈÄâ‰øÆ<br>
ÂÆûÁé∞ÔºöÂª∫Á´ãÁ¨¨‰∏âÂº†‰∏≠Èó¥Ë°®Ôºå‰∏≠Èó¥Ë°®Ëá≥Â∞ëÂåÖÂê´‰∏§‰∏™Â§ñÈîÆÔºåÂàÜÂà´ÂÖ≥ËÅî‰∏§Êñπ‰∏ªÈîÆ</p>
<h4 id="1413-‰∏ÄÂØπ‰∏Ä"><a class="markdownIt-Anchor" href="#1413-‰∏ÄÂØπ‰∏Ä"></a> 1.4.1.3: ‰∏ÄÂØπ‰∏Ä</h4>
<p>Ê°à‰æãÔºöÁî®Êà∑‰∏éÁî®Êà∑ËØ¶ÊÉÖ<br>
ÂÖ≥Á≥ªÔºö‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ªÔºåÂ§öÁî®‰∫éÂçïË°®ÊãÜÂàÜÔºåÂ∞Ü‰∏ÄÂº†Ë°®ÁöÑÂü∫Á°ÄÂ≠óÊÆµÊîæÂú®‰∏ÄÂº†Ë°®‰∏≠ÔºåÂÖ∂‰ªñËØ¶ÊÉÖÂ≠óÊÆµÊîæÂú®Âè¶‰∏ÄÂº†Ë°®‰∏≠Ôºå‰ª•ÊèêÂçáÊìç‰ΩúÊïàÁéá<br>
ÂÆûÁé∞ÔºöÂú®‰ªªÊÑè‰∏ÄÊñπÂä†ÂÖ•Â§ñÈîÆÔºåÂÖ≥ËÅîÂè¶Â§ñ‰∏ÄÊñπÁöÑ‰∏ªÈîÆÔºåÂπ∂‰∏îËÆæÁΩÆÂ§ñÈîÆ‰∏∫ÂîØ‰∏ÄÁöÑÔºàUNIQUEÔºâ</p>
<h3 id="142-Êü•ËØ¢"><a class="markdownIt-Anchor" href="#142-Êü•ËØ¢"></a> 1.4.2: Êü•ËØ¢</h3>
<p>ÂêàÂπ∂Êü•ËØ¢ÔºàÁ¨õÂç°Â∞îÁßØÔºå‰ºöÂ±ïÁ§∫ÊâÄÊúâÁªÑÂêàÁªìÊûúÔºâÔºö<br>
<code>select * from employee, dept;</code></p>
<blockquote>
<p>Á¨õÂç°Â∞îÁßØÔºö‰∏§‰∏™ÈõÜÂêà A ÈõÜÂêàÂíå B ÈõÜÂêàÁöÑÊâÄÊúâÁªÑÂêàÊÉÖÂÜµÔºàÂú®Â§öË°®Êü•ËØ¢Êó∂ÔºåÈúÄË¶ÅÊ∂àÈô§Êó†ÊïàÁöÑÁ¨õÂç°Â∞îÁßØÔºâ</p>
</blockquote>
<p>Ê∂àÈô§Êó†ÊïàÁ¨õÂç°Â∞îÁßØÔºö<br>
<code>select * from employee, dept where employee.dept = dept.id;</code></p>
<h3 id="143-ÂÜÖËøûÊé•Êü•ËØ¢"><a class="markdownIt-Anchor" href="#143-ÂÜÖËøûÊé•Êü•ËØ¢"></a> 1.4.3: ÂÜÖËøûÊé•Êü•ËØ¢</h3>
<p>ÂÜÖËøûÊé•Êü•ËØ¢ÁöÑÊòØ‰∏§Âº†Ë°®‰∫§ÈõÜÁöÑÈÉ®ÂàÜ</p>
<p>ÈöêÂºèÂÜÖËøûÊé•Ôºö<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®1, Ë°®2 WHERE Êù°‰ª∂ ...;</code></p>
<p>ÊòæÂºèÂÜÖËøûÊé•Ôºö<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®1 [ INNER ] JOIN Ë°®2 ON ËøûÊé•Êù°‰ª∂ ...;</code></p>
<p>ÊòæÂºèÊÄßËÉΩÊØîÈöêÂºèÈ´ò</p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢ÂëòÂ∑•ÂßìÂêçÔºåÂèäÂÖ≥ËÅîÁöÑÈÉ®Èó®ÁöÑÂêçÁß∞<br>-- ÈöêÂºè<br>select e.name, d.name from employee as e, dept as d where e.dept = d.id;<br>-- ÊòæÂºè<br>select e.name, d.name from employee as e inner join dept as d on e.dept = d.id;<br></code></pre></td></tr></tbody></table></figure>
<h3 id="144-Â§ñËøûÊé•Êü•ËØ¢"><a class="markdownIt-Anchor" href="#144-Â§ñËøûÊé•Êü•ËØ¢"></a> 1.4.4: Â§ñËøûÊé•Êü•ËØ¢</h3>
<p>Â∑¶Â§ñËøûÊé•Ôºö<br>
Êü•ËØ¢Â∑¶Ë°®ÊâÄÊúâÊï∞ÊçÆÔºå‰ª•Âèä‰∏§Âº†Ë°®‰∫§ÈõÜÈÉ®ÂàÜÊï∞ÊçÆ<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°® 1 LEFT [ OUTER ] JOIN Ë°® 2 ON Êù°‰ª∂ ...;</code><br>
Áõ∏ÂΩì‰∫éÊü•ËØ¢Ë°® 1 ÁöÑÊâÄÊúâÊï∞ÊçÆÔºåÂåÖÂê´Ë°® 1 ÂíåË°® 2 ‰∫§ÈõÜÈÉ®ÂàÜÊï∞ÊçÆ</p>
<p>Âè≥Â§ñËøûÊé•Ôºö<br>
Êü•ËØ¢Âè≥Ë°®ÊâÄÊúâÊï∞ÊçÆÔºå‰ª•Âèä‰∏§Âº†Ë°®‰∫§ÈõÜÈÉ®ÂàÜÊï∞ÊçÆ<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®1 RIGHT [ OUTER ] JOIN Ë°®2 ON Êù°‰ª∂ ...;</code></p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Â∑¶<br>select e.*, d.name from employee as e left outer join dept as d on e.dept = d.id;  <br>select d.name, e.* from dept d left outer join emp e on e.dept = d.id;  -- ËøôÊù°ËØ≠Âè•‰∏é‰∏ãÈù¢ÁöÑËØ≠Âè•ÊïàÊûú‰∏ÄÊ†∑  <br>-- Âè≥<br>select d.name, e.* from employee as e right outer join dept as d on e.dept = d.id;  <br></code></pre></td></tr></tbody></table></figure>
<p>Â∑¶ËøûÊé•ÂèØ‰ª•Êü•ËØ¢Âà∞Ê≤°Êúâ dept ÁöÑ employeeÔºåÂè≥ËøûÊé•ÂèØ‰ª•Êü•ËØ¢Âà∞Ê≤°Êúâ employee ÁöÑ dept</p>
<h3 id="145-Ëá™ËøûÊé•Êü•ËØ¢"><a class="markdownIt-Anchor" href="#145-Ëá™ËøûÊé•Êü•ËØ¢"></a> 1.4.5: Ëá™ËøûÊé•Êü•ËØ¢</h3>
<p>ÂΩìÂâçË°®‰∏éËá™Ë∫´ÁöÑËøûÊé•Êü•ËØ¢ÔºåËá™ËøûÊé•ÂøÖÈ°ª‰ΩøÁî®Ë°®Âà´Âêç</p>
<p>ËØ≠Ê≥ïÔºö<br>
<code>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®A Âà´ÂêçA JOIN Ë°®A Âà´ÂêçB ON Êù°‰ª∂ ...;</code></p>
<p>Ëá™ËøûÊé•Êü•ËØ¢ÔºåÂèØ‰ª•ÊòØÂÜÖËøûÊé•Êü•ËØ¢Ôºå‰πüÂèØ‰ª•ÊòØÂ§ñËøûÊé•Êü•ËØ¢</p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢ÂëòÂ∑•ÂèäÂÖ∂ÊâÄÂ±ûÈ¢ÜÂØºÁöÑÂêçÂ≠ó  <br>select a.name, b.name from employee a, employee b where a.manager = b.id;  <br>-- Ê≤°ÊúâÈ¢ÜÂØºÁöÑ‰πüÊü•ËØ¢Âá∫Êù•  <br>select a.name, b.name from employee a left join employee b on a.manager = b.id;  <br></code></pre></td></tr></tbody></table></figure>
<h3 id="146-ËÅîÂêàÊü•ËØ¢-union-union-all"><a class="markdownIt-Anchor" href="#146-ËÅîÂêàÊü•ËØ¢-union-union-all"></a> 1.4.6: ËÅîÂêàÊü•ËØ¢ union, union all</h3>
<p>ÊääÂ§öÊ¨°Êü•ËØ¢ÁöÑÁªìÊûúÂêàÂπ∂ÔºåÂΩ¢Êàê‰∏Ä‰∏™Êñ∞ÁöÑÊü•ËØ¢ÈõÜ</p>
<p>ËØ≠Ê≥ïÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT Â≠óÊÆµÂàóË°® FROM Ë°®A ...<br>UNION [ALL]<br>SELECT Â≠óÊÆµÂàóË°® FROM Ë°®B ...<br></code></pre></td></tr></tbody></table></figure>
<h4 id="1461-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#1461-Ê≥®ÊÑè‰∫ãÈ°π"></a> 1.4.6.1: Ê≥®ÊÑè‰∫ãÈ°π</h4>
<ul>
<li>UNION ALL ‰ºöÊúâÈáçÂ§çÁªìÊûúÔºåUNION ‰∏ç‰ºö</li>
<li>ËÅîÂêàÊü•ËØ¢ÊØî‰ΩøÁî® or ÊïàÁéáÈ´òÔºå‰∏ç‰ºö‰ΩøÁ¥¢ÂºïÂ§±Êïà</li>
</ul>
<h3 id="147-Â≠êÊü•ËØ¢"><a class="markdownIt-Anchor" href="#147-Â≠êÊü•ËØ¢"></a> 1.4.7: Â≠êÊü•ËØ¢</h3>
<p>SQL ËØ≠Âè•‰∏≠ÂµåÂ•ó SELECT ËØ≠Âè•ÔºåÁß∞Ë∞ìÂµåÂ•óÊü•ËØ¢ÔºåÂèàÁß∞Â≠êÊü•ËØ¢„ÄÇ<br>
<code>SELECT * FROM t1 WHERE column1 = ( SELECT column1 FROM t2);</code><br>
<strong>Â≠êÊü•ËØ¢Â§ñÈÉ®ÁöÑËØ≠Âè•ÂèØ‰ª•ÊòØ INSERT / UPDATE / DELETE / SELECT ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™</strong></p>
<p>Ê†πÊçÆÂ≠êÊü•ËØ¢ÁªìÊûúÂèØ‰ª•ÂàÜ‰∏∫Ôºö</p>
<ul>
<li>Ê†áÈáèÂ≠êÊü•ËØ¢ÔºàÂ≠êÊü•ËØ¢ÁªìÊûú‰∏∫Âçï‰∏™ÂÄºÔºâ</li>
<li>ÂàóÂ≠êÊü•ËØ¢ÔºàÂ≠êÊü•ËØ¢ÁªìÊûú‰∏∫‰∏ÄÂàóÔºâ</li>
<li>Ë°åÂ≠êÊü•ËØ¢ÔºàÂ≠êÊü•ËØ¢ÁªìÊûú‰∏∫‰∏ÄË°åÔºâ</li>
<li>Ë°®Â≠êÊü•ËØ¢ÔºàÂ≠êÊü•ËØ¢ÁªìÊûú‰∏∫Â§öË°åÂ§öÂàóÔºâ</li>
</ul>
<p>Ê†πÊçÆÂ≠êÊü•ËØ¢‰ΩçÁΩÆÂèØÂàÜ‰∏∫Ôºö</p>
<ul>
<li>WHERE ‰πãÂêé</li>
<li>FROM ‰πãÂêé</li>
<li>SELECT ‰πãÂêé</li>
</ul>
<h4 id="1471-Ê†áÈáèÂ≠êÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1471-Ê†áÈáèÂ≠êÊü•ËØ¢"></a> 1.4.7.1: Ê†áÈáèÂ≠êÊü•ËØ¢</h4>
<p>Â≠êÊü•ËØ¢ËøîÂõûÁöÑÁªìÊûúÊòØÂçï‰∏™ÂÄºÔºàÊï∞Â≠ó„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅÊó•ÊúüÁ≠âÔºâ„ÄÇ<br>
Â∏∏Áî®Êìç‰ΩúÁ¨¶Ôºö- &lt; &gt; &gt; &gt;= &lt; &lt;=</p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢ÈîÄÂîÆÈÉ®ÊâÄÊúâÂëòÂ∑•<br>select id from dept where name = 'ÈîÄÂîÆÈÉ®';<br>-- Ê†πÊçÆÈîÄÂîÆÈÉ®ÈÉ®Èó®IDÔºåÊü•ËØ¢ÂëòÂ∑•‰ø°ÊÅØ<br>select * from employee where dept = 4;<br>-- ÂêàÂπ∂ÔºàÂ≠êÊü•ËØ¢Ôºâ  <br>select * from employee where dept = (select id from dept where name = 'ÈîÄÂîÆÈÉ®');  <br><br>-- Êü•ËØ¢xxxÂÖ•ËÅå‰πãÂêéÁöÑÂëòÂ∑•‰ø°ÊÅØ  <br>select * from employee where entrydate &gt; (select entrydate from employee where name = 'xxx');  <br></code></pre></td></tr></tbody></table></figure>
<h4 id="1472-ÂàóÂ≠êÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1472-ÂàóÂ≠êÊü•ËØ¢"></a> 1.4.7.2: ÂàóÂ≠êÊü•ËØ¢</h4>
<p>ËøîÂõûÁöÑÁªìÊûúÊòØ‰∏ÄÂàóÔºàÂèØ‰ª•ÊòØÂ§öË°åÔºâ„ÄÇ</p>
<p>Â∏∏Áî®Êìç‰ΩúÁ¨¶Ôºö</p>
<table>
<thead>
<tr>
<th>Êìç‰ΩúÁ¨¶</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>IN</td>
<td>Âú®ÊåáÂÆöÁöÑÈõÜÂêàËåÉÂõ¥ÂÜÖÔºåÂ§öÈÄâ‰∏Ä</td>
</tr>
<tr>
<td>NOT IN</td>
<td>‰∏çÂú®ÊåáÂÆöÁöÑÈõÜÂêàËåÉÂõ¥ÂÜÖ</td>
</tr>
<tr>
<td>ANY</td>
<td>Â≠êÊü•ËØ¢ËøîÂõûÂàóË°®‰∏≠ÔºåÊúâ‰ªªÊÑè‰∏Ä‰∏™Êª°Ë∂≥Âç≥ÂèØ</td>
</tr>
<tr>
<td>SOME</td>
<td>‰∏é ANY Á≠âÂêåÔºå‰ΩøÁî® SOME ÁöÑÂú∞ÊñπÈÉΩÂèØ‰ª•‰ΩøÁî® ANY</td>
</tr>
<tr>
<td>ALL</td>
<td>Â≠êÊü•ËØ¢ËøîÂõûÂàóË°®ÁöÑÊâÄÊúâÂÄºÈÉΩÂøÖÈ°ªÊª°Ë∂≥</td>
</tr>
</tbody>
</table>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢ÈîÄÂîÆÈÉ®ÂíåÂ∏ÇÂú∫ÈÉ®ÁöÑÊâÄÊúâÂëòÂ∑•‰ø°ÊÅØ  <br>select * from employee where dept in (select id from dept where name = 'ÈîÄÂîÆÈÉ®' or name = 'Â∏ÇÂú∫ÈÉ®');<br>-- Êü•ËØ¢ÊØîË¥¢Âä°ÈÉ®ÊâÄÊúâ‰∫∫Â∑•ËµÑÈÉΩÈ´òÁöÑÂëòÂ∑•‰ø°ÊÅØ<br>select * from employee where salary &gt; all(select salary from employee where dept = (select id from dept where name = 'Ë¥¢Âä°ÈÉ®'));<br>-- Êü•ËØ¢ÊØîÁ†îÂèëÈÉ®‰ªªÊÑè‰∏Ä‰∫∫Â∑•ËµÑÈ´òÁöÑÂëòÂ∑•‰ø°ÊÅØ<br>select * from employee where salary &gt; any (select salary from employee where dept = (select id from dept where name = 'Á†îÂèëÈÉ®'));<br></code></pre></td></tr></tbody></table></figure>
<h4 id="1473-Ë°åÂ≠êÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1473-Ë°åÂ≠êÊü•ËØ¢"></a> 1.4.7.3: Ë°åÂ≠êÊü•ËØ¢</h4>
<p>ËøîÂõûÁöÑÁªìÊûúÊòØ‰∏ÄË°åÔºàÂèØ‰ª•ÊòØÂ§öÂàóÔºâ„ÄÇ<br>
Â∏∏Áî®Êìç‰ΩúÁ¨¶Ôºö=, &lt;, &gt;, IN, NOT IN</p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢‰∏éxxxÁöÑËñ™ËµÑÂèäÁõ¥Â±ûÈ¢ÜÂØºÁõ∏ÂêåÁöÑÂëòÂ∑•‰ø°ÊÅØ  <br>select * from employee where (salary, manager) = (12500, 1);  <br>select * from employee where (salary, manager) = (select salary, manager from employee where name = 'xxx');  <br></code></pre></td></tr></tbody></table></figure>
<h4 id="1474-Ë°®Â≠êÊü•ËØ¢"><a class="markdownIt-Anchor" href="#1474-Ë°®Â≠êÊü•ËØ¢"></a> 1.4.7.4: Ë°®Â≠êÊü•ËØ¢</h4>
<p>ËøîÂõûÁöÑÁªìÊûúÊòØÂ§öË°åÂ§öÂàó<br>
Â∏∏Áî®Êìç‰ΩúÁ¨¶ÔºöIN</p>
<p>‰æãÂ≠êÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢‰∏éxxx1Ôºåxxx2ÁöÑËÅå‰ΩçÂíåËñ™ËµÑÁõ∏ÂêåÁöÑÂëòÂ∑•<br>select * from employee where (job, salary) in (select job, salary from employee where name = 'xxx1' or name = 'xxx2');<br>-- Êü•ËØ¢ÂÖ•ËÅåÊó•ÊúüÊòØ2006-01-01‰πãÂêéÁöÑÂëòÂ∑•ÔºåÂèäÂÖ∂ÈÉ®Èó®‰ø°ÊÅØ<br>select e.*, d.* from (select * from employee where entrydate &gt; '2006-01-01') as e left join dept as d on e.dept = d.id;<br></code></pre></td></tr></tbody></table></figure>
<h2 id="15-‰∫ãÂä°"><a class="markdownIt-Anchor" href="#15-‰∫ãÂä°"></a> 1.5: ‰∫ãÂä°</h2>
<p>‰∫ãÂä°ÊòØ‰∏ÄÁªÑÊìç‰ΩúÁöÑÈõÜÂêàÔºå‰∫ãÂä°‰ºöÊääÊâÄÊúâÊìç‰Ωú‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰Ωì‰∏ÄËµ∑ÂêëÁ≥ªÁªüÊèê‰∫§ÊàñÊí§ÈîÄÊìç‰ΩúËØ∑Ê±ÇÔºåÂç≥Ëøô‰∫õÊìç‰ΩúË¶Å‰πàÂêåÊó∂ÊàêÂäüÔºåË¶Å‰πàÂêåÊó∂Â§±Ë¥•„ÄÇ</p>
<p>Âü∫Êú¨Êìç‰ΩúÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- 1. Êü•ËØ¢Âº†‰∏âË¥¶Êà∑‰ΩôÈ¢ù<br>select * from account where name = 'Âº†‰∏â';<br>-- 2. Â∞ÜÂº†‰∏âË¥¶Êà∑‰ΩôÈ¢ù-1000<br>update account set money = money - 1000 where name = 'Âº†‰∏â';<br>-- Ê≠§ËØ≠Âè•Âá∫ÈîôÂêéÂº†‰∏âÈí±ÂáèÂ∞ë‰ΩÜÊòØÊùéÂõõÈí±Ê≤°ÊúâÂ¢ûÂä†<br>Ê®°ÊãüsqlËØ≠Âè•ÈîôËØØ<br>-- 3. Â∞ÜÊùéÂõõË¥¶Êà∑‰ΩôÈ¢ù+1000<br>update account set money = money + 1000 where name = 'ÊùéÂõõ';<br><br>-- Êü•Áúã‰∫ãÂä°Êèê‰∫§ÊñπÂºè<br>SELECT @@AUTOCOMMIT;<br>-- ËÆæÁΩÆ‰∫ãÂä°Êèê‰∫§ÊñπÂºèÔºå1‰∏∫Ëá™Âä®Êèê‰∫§Ôºå0‰∏∫ÊâãÂä®Êèê‰∫§ÔºåËØ•ËÆæÁΩÆÂè™ÂØπÂΩìÂâç‰ºöËØùÊúâÊïà<br>SET @@AUTOCOMMIT = 0;<br>-- Êèê‰∫§‰∫ãÂä°<br>COMMIT;<br>-- ÂõûÊªö‰∫ãÂä°<br>ROLLBACK;<br><br>-- ËÆæÁΩÆÊâãÂä®Êèê‰∫§Âêé‰∏äÈù¢‰ª£Á†ÅÊîπ‰∏∫Ôºö<br>select * from account where name = 'Âº†‰∏â';  <br>update account set money = money - 1000 where name = 'Âº†‰∏â';  <br>update account set money = money + 1000 where name = 'ÊùéÂõõ';  <br>commit;  <br></code></pre></td></tr></tbody></table></figure>
<p>Êìç‰ΩúÊñπÂºè‰∫åÔºö</p>
<p>ÂºÄÂêØ‰∫ãÂä°Ôºö<br>
<code>START TRANSACTION Êàñ BEGIN TRANSACTION;</code><br>
Êèê‰∫§‰∫ãÂä°Ôºö<br>
<code>COMMIT;</code><br>
ÂõûÊªö‰∫ãÂä°Ôºö<br>
<code>ROLLBACK;</code></p>
<p>Êìç‰ΩúÂÆû‰æãÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">start transaction; <br>select * from account where name = 'Âº†‰∏â';<br>update account set money = money - 1000 where name = 'Âº†‰∏â';<br>update account set money = money + 1000 where name = 'ÊùéÂõõ';<br>commit;<br></code></pre></td></tr></tbody></table></figure>
<p>ÂºÄÂêØ‰∫ãÂä°ÂêéÔºåÂè™ÊúâÊâãÂä®Êèê‰∫§Êâç‰ºöÊîπÂèòÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ</p>
<h3 id="151-ÂõõÂ§ßÁâπÊÄß-acid"><a class="markdownIt-Anchor" href="#151-ÂõõÂ§ßÁâπÊÄß-acid"></a> 1.5.1: ÂõõÂ§ßÁâπÊÄß ACID</h3>
<ul>
<li>ÂéüÂ≠êÊÄß (Atomicity)Ôºö‰∫ãÂä°ÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÊúÄÂ∞èÊìç‰Ωú‰ΩÜÊÑøÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•</li>
<li>‰∏ÄËá¥ÊÄß (Consistency)Ôºö‰∫ãÂä°ÂÆåÊàêÊó∂ÔºåÂøÖÈ°ª‰ΩøÊâÄÊúâÊï∞ÊçÆÈÉΩ‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ</li>
<li>ÈöîÁ¶ªÊÄß (Isolation)ÔºöÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÊèê‰æõÁöÑÈöîÁ¶ªÊú∫Âà∂Ôºå‰øùËØÅ‰∫ãÂä°Âú®‰∏çÂèóÂ§ñÈÉ®Âπ∂ÂèëÊìç‰ΩúÂΩ±ÂìçÁöÑÁã¨Á´ãÁéØÂ¢É‰∏ãËøêË°å</li>
<li>ÊåÅ‰πÖÊÄß (Durability)Ôºö‰∫ãÂä°‰∏ÄÊó¶Êèê‰∫§ÊàñÂõûÊªöÔºåÂÆÉÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÁöÑÊîπÂèòÂ∞±ÊòØÊ∞∏‰πÖÁöÑ</li>
</ul>
<h3 id="152-Âπ∂Âèë‰∫ãÂä°"><a class="markdownIt-Anchor" href="#152-Âπ∂Âèë‰∫ãÂä°"></a> 1.5.2: Âπ∂Âèë‰∫ãÂä°</h3>
<table>
<thead>
<tr>
<th>ÈóÆÈ¢ò</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>ËÑèËØª</td>
<td>‰∏Ä‰∏™‰∫ãÂä°ËØªÂà∞Âè¶‰∏Ä‰∏™‰∫ãÂä°ËøòÊ≤°Êèê‰∫§ÁöÑÊï∞ÊçÆ</td>
</tr>
<tr>
<td>‰∏çÂèØÈáçÂ§çËØª</td>
<td>‰∏Ä‰∏™‰∫ãÂä°ÂÖàÂêéËØªÂèñÂêå‰∏ÄÊù°ËÆ∞ÂΩïÔºå‰ΩÜ‰∏§Ê¨°ËØªÂèñÁöÑÊï∞ÊçÆ‰∏çÂêå</td>
</tr>
<tr>
<td>ÂπªËØª</td>
<td>‰∏Ä‰∏™‰∫ãÂä°ÊåâÁÖßÊù°‰ª∂Êü•ËØ¢Êï∞ÊçÆÊó∂ÔºåÊ≤°ÊúâÂØπÂ∫îÁöÑÊï∞ÊçÆË°åÔºå‰ΩÜÊòØÂÜçÊèíÂÖ•Êï∞ÊçÆÊó∂ÔºåÂèàÂèëÁé∞ËøôË°åÊï∞ÊçÆÂ∑≤ÁªèÂ≠òÂú®</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Ëøô‰∏â‰∏™ÈóÆÈ¢òÁöÑËØ¶ÁªÜÊºîÁ§∫Ôºö<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd</a></p>
</blockquote>
<p>Âπ∂Âèë‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºö</p>
<table>
<thead>
<tr>
<th>ÈöîÁ¶ªÁ∫ßÂà´</th>
<th>ËÑèËØª</th>
<th>‰∏çÂèØÈáçÂ§çËØª</th>
<th>ÂπªËØª</th>
</tr>
</thead>
<tbody>
<tr>
<td>Read uncommitted</td>
<td>‚àö</td>
<td>‚àö</td>
<td>‚àö</td>
</tr>
<tr>
<td>Read committed</td>
<td>√ó</td>
<td>‚àö</td>
<td>‚àö</td>
</tr>
<tr>
<td>Repeatable Read (ÈªòËÆ§)</td>
<td>√ó</td>
<td>√ó</td>
<td>‚àö</td>
</tr>
<tr>
<td>Serializable</td>
<td>√ó</td>
<td>√ó</td>
<td>√ó</td>
</tr>
</tbody>
</table>
<ul>
<li>‚àöË°®Á§∫Âú®ÂΩìÂâçÈöîÁ¶ªÁ∫ßÂà´‰∏ãËØ•ÈóÆÈ¢ò‰ºöÂá∫Áé∞</li>
<li>Serializable ÊÄßËÉΩÊúÄ‰ΩéÔºõRead uncommitted ÊÄßËÉΩÊúÄÈ´òÔºåÊï∞ÊçÆÂÆâÂÖ®ÊÄßÊúÄÂ∑Æ</li>
</ul>
<p>Êü•Áúã‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºö<br>
<code>SELECT @@TRANSACTION_ISOLATION;</code><br>
ËÆæÁΩÆ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºö<br>
<code>SET [ SESSION | GLOBAL ] TRANSACTION ISOLATION LEVEL {READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE };</code><br>
SESSION ÊòØ‰ºöËØùÁ∫ßÂà´ÔºåË°®Á§∫Âè™ÈíàÂØπÂΩìÂâç‰ºöËØùÊúâÊïàÔºåGLOBAL Ë°®Á§∫ÂØπÊâÄÊúâ‰ºöËØùÊúâÊïà</p>
<h1 id="2-ËøõÈò∂ÁØá"><a class="markdownIt-Anchor" href="#2-ËøõÈò∂ÁØá"></a> 2: ËøõÈò∂ÁØá</h1>
<h2 id="21-Â≠òÂÇ®ÂºïÊìé"><a class="markdownIt-Anchor" href="#21-Â≠òÂÇ®ÂºïÊìé"></a> 2.1: Â≠òÂÇ®ÂºïÊìé</h2>
<p>MySQL ‰ΩìÁ≥ªÁªìÊûÑÔºö</p>
<p>![ÁªìÊûÑÂõæ](<a target="_blank" rel="noopener" href="https://dhc.pythonanywhere.com/media/editor/MySQL">https://dhc.pythonanywhere.com/media/editor/MySQL</a> ‰ΩìÁ≥ªÁªìÊûÑ_20220315034329549927.png ‚ÄúÁªìÊûÑÂõæ‚Äù)<br>
![Â±ÇÁ∫ßÊèèËø∞](<a target="_blank" rel="noopener" href="https://dhc.pythonanywhere.com/media/editor/MySQL">https://dhc.pythonanywhere.com/media/editor/MySQL</a> ‰ΩìÁ≥ªÁªìÊûÑÂ±ÇÁ∫ßÂê´‰πâ_20220315034359342837.png ‚ÄúÂ±ÇÁ∫ßÊèèËø∞‚Äù)</p>
<p>Â≠òÂÇ®ÂºïÊìéÂ∞±ÊòØÂ≠òÂÇ®Êï∞ÊçÆ„ÄÅÂª∫Á´ãÁ¥¢Âºï„ÄÅÊõ¥Êñ∞/Êü•ËØ¢Êï∞ÊçÆÁ≠âÊäÄÊúØÁöÑÂÆûÁé∞ÊñπÂºè„ÄÇÂ≠òÂÇ®ÂºïÊìéÊòØÂü∫‰∫éË°®ËÄå‰∏çÊòØÂü∫‰∫éÂ∫ìÁöÑÔºåÊâÄ‰ª•Â≠òÂÇ®ÂºïÊìé‰πüÂèØ‰ª•Ë¢´Áß∞‰∏∫Ë°®ÂºïÊìé„ÄÇ<br>
ÈªòËÆ§Â≠òÂÇ®ÂºïÊìéÊòØ InnoDB„ÄÇ</p>
<p>Áõ∏ÂÖ≥Êìç‰ΩúÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Êü•ËØ¢Âª∫Ë°®ËØ≠Âè•<br>show create table account;  <br>-- Âª∫Ë°®Êó∂ÊåáÂÆöÂ≠òÂÇ®ÂºïÊìé<br>CREATE TABLE Ë°®Âêç(<br>	...<br>) ENGINE=INNODB;<br>-- Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÊîØÊåÅÁöÑÂ≠òÂÇ®ÂºïÊìé<br>show engines;<br></code></pre></td></tr></tbody></table></figure>
<h3 id="211-innodb"><a class="markdownIt-Anchor" href="#211-innodb"></a> 2.1.1: InnoDB</h3>
<p>InnoDB ÊòØ‰∏ÄÁßçÂÖºÈ°æÈ´òÂèØÈù†ÊÄßÂíåÈ´òÊÄßËÉΩÁöÑÈÄöÁî®Â≠òÂÇ®ÂºïÊìéÔºåÂú® MySQL 5.5 ‰πãÂêéÔºåInnoDB ÊòØÈªòËÆ§ÁöÑ MySQL ÂºïÊìé„ÄÇ</p>
<p>ÁâπÁÇπÔºö</p>
<ul>
<li>DML Êìç‰ΩúÈÅµÂæ™ ACID Ê®°ÂûãÔºåÊîØÊåÅ<strong>‰∫ãÂä°</strong></li>
<li><strong>Ë°åÁ∫ßÈîÅ</strong>ÔºåÊèêÈ´òÂπ∂ÂèëËÆøÈóÆÊÄßËÉΩ</li>
<li>ÊîØÊåÅ<strong>Â§ñÈîÆ</strong>Á∫¶ÊùüÔºå‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÂíåÊ≠£Á°ÆÊÄß</li>
</ul>
<p>Êñá‰ª∂Ôºö</p>
<ul>
<li>xxx.ibd: xxx ‰ª£Ë°®Ë°®ÂêçÔºåInnoDB ÂºïÊìéÁöÑÊØèÂº†Ë°®ÈÉΩ‰ºöÂØπÂ∫îËøôÊ†∑‰∏Ä‰∏™Ë°®Á©∫Èó¥Êñá‰ª∂ÔºåÂ≠òÂÇ®ËØ•Ë°®ÁöÑË°®ÁªìÊûÑÔºàfrm„ÄÅsdiÔºâ„ÄÅÊï∞ÊçÆÂíåÁ¥¢Âºï„ÄÇ</li>
</ul>
<p>ÂèÇÊï∞Ôºöinnodb_file_per_tableÔºåÂÜ≥ÂÆöÂ§öÂº†Ë°®ÂÖ±‰∫´‰∏Ä‰∏™Ë°®Á©∫Èó¥ËøòÊòØÊØèÂº†Ë°®ÂØπÂ∫î‰∏Ä‰∏™Ë°®Á©∫Èó¥</p>
<p>Áü•ËØÜÁÇπÔºö</p>
<p>Êü•Áúã Mysql ÂèòÈáèÔºö<br>
<code>show variables like 'innodb_file_per_table';</code></p>
<p>‰ªé idb Êñá‰ª∂ÊèêÂèñË°®ÁªìÊûÑÊï∞ÊçÆÔºö<br>
ÔºàÂú® cmd ËøêË°åÔºâ<br>
<code>ibd2sdi xxx.ibd</code></p>
<p>InnoDB ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑÔºö<br>
<img src="https://dhc.pythonanywhere.com/media/editor/%E9%80%BB%E8%BE%91%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84_20220316030616590001.png" srcset="/img/loading.gif" lazyload alt="InnoDB ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ" title="InnoDB ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ"></p>
<h3 id="212-myisam"><a class="markdownIt-Anchor" href="#212-myisam"></a> 2.1.2: MyISAM</h3>
<p>MyISAM ÊòØ MySQL Êó©ÊúüÁöÑÈªòËÆ§Â≠òÂÇ®ÂºïÊìé„ÄÇ</p>
<p>ÁâπÁÇπÔºö</p>
<ul>
<li>‰∏çÊîØÊåÅ‰∫ãÂä°Ôºå‰∏çÊîØÊåÅÂ§ñÈîÆ</li>
<li>ÊîØÊåÅË°®ÈîÅÔºå‰∏çÊîØÊåÅË°åÈîÅ</li>
<li>ËÆøÈóÆÈÄüÂ∫¶Âø´</li>
</ul>
<p>Êñá‰ª∂Ôºö</p>
<ul>
<li>xxx.sdi: Â≠òÂÇ®Ë°®ÁªìÊûÑ‰ø°ÊÅØ</li>
<li>xxx.MYD: Â≠òÂÇ®Êï∞ÊçÆ</li>
<li>xxx.MYI: Â≠òÂÇ®Á¥¢Âºï</li>
</ul>
<h3 id="213-memory"><a class="markdownIt-Anchor" href="#213-memory"></a> 2.1.3: Memory</h3>
<p>Memory ÂºïÊìéÁöÑË°®Êï∞ÊçÆÊòØÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÂèóÁ°¨‰ª∂ÈóÆÈ¢ò„ÄÅÊñ≠ÁîµÈóÆÈ¢òÁöÑÂΩ±ÂìçÔºåÂè™ËÉΩÂ∞ÜËøô‰∫õË°®‰Ωú‰∏∫‰∏¥Êó∂Ë°®ÊàñÁºìÂ≠ò‰ΩøÁî®„ÄÇ</p>
<p>ÁâπÁÇπÔºö</p>
<ul>
<li>Â≠òÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÈÄüÂ∫¶Âø´</li>
<li>hash Á¥¢ÂºïÔºàÈªòËÆ§Ôºâ</li>
</ul>
<p>Êñá‰ª∂Ôºö</p>
<ul>
<li>xxx.sdi: Â≠òÂÇ®Ë°®ÁªìÊûÑ‰ø°ÊÅØ</li>
</ul>
<h3 id="214-Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ"><a class="markdownIt-Anchor" href="#214-Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ"></a> 2.1.4: Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ</h3>
<table>
<thead>
<tr>
<th>ÁâπÁÇπ</th>
<th>InnoDB</th>
<th>MyISAM</th>
<th>Memory</th>
</tr>
</thead>
<tbody>
<tr>
<td>Â≠òÂÇ®ÈôêÂà∂</td>
<td>64TB</td>
<td>Êúâ</td>
<td>Êúâ</td>
</tr>
<tr>
<td>‰∫ãÂä°ÂÆâÂÖ®</td>
<td>ÊîØÊåÅ</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ÈîÅÊú∫Âà∂</td>
<td>Ë°åÈîÅ</td>
<td>Ë°®ÈîÅ</td>
<td>Ë°®ÈîÅ</td>
</tr>
<tr>
<td>B+tree Á¥¢Âºï</td>
<td>ÊîØÊåÅ</td>
<td>ÊîØÊåÅ</td>
<td>ÊîØÊåÅ</td>
</tr>
<tr>
<td>Hash Á¥¢Âºï</td>
<td>-</td>
<td>-</td>
<td>ÊîØÊåÅ</td>
</tr>
<tr>
<td>ÂÖ®ÊñáÁ¥¢Âºï</td>
<td>ÊîØÊåÅÔºà5.6 ÁâàÊú¨‰πãÂêéÔºâ</td>
<td>ÊîØÊåÅ</td>
<td>-</td>
</tr>
<tr>
<td>Á©∫Èó¥‰ΩøÁî®</td>
<td>È´ò</td>
<td>‰Ωé</td>
<td>N/A</td>
</tr>
<tr>
<td>ÂÜÖÂ≠ò‰ΩøÁî®</td>
<td>È´ò</td>
<td>‰Ωé</td>
<td>‰∏≠Á≠â</td>
</tr>
<tr>
<td>ÊâπÈáèÊèíÂÖ•ÈÄüÂ∫¶</td>
<td>‰Ωé</td>
<td>È´ò</td>
<td>È´ò</td>
</tr>
<tr>
<td>ÊîØÊåÅÂ§ñÈîÆ</td>
<td>ÊîØÊåÅ</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="215-Â≠òÂÇ®ÂºïÊìéÁöÑÈÄâÊã©"><a class="markdownIt-Anchor" href="#215-Â≠òÂÇ®ÂºïÊìéÁöÑÈÄâÊã©"></a> 2.1.5: Â≠òÂÇ®ÂºïÊìéÁöÑÈÄâÊã©</h3>
<p>Âú®ÈÄâÊã©Â≠òÂÇ®ÂºïÊìéÊó∂ÔºåÂ∫îËØ•Ê†πÊçÆÂ∫îÁî®Á≥ªÁªüÁöÑÁâπÁÇπÈÄâÊã©ÂêàÈÄÇÁöÑÂ≠òÂÇ®ÂºïÊìé„ÄÇÂØπ‰∫éÂ§çÊùÇÁöÑÂ∫îÁî®Á≥ªÁªüÔºåËøòÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµÈÄâÊã©Â§öÁßçÂ≠òÂÇ®ÂºïÊìéËøõË°åÁªÑÂêà„ÄÇ</p>
<ul>
<li>InnoDB: Â¶ÇÊûúÂ∫îÁî®ÂØπ‰∫ãÁâ©ÁöÑÂÆåÊï¥ÊÄßÊúâÊØîËæÉÈ´òÁöÑË¶ÅÊ±ÇÔºåÂú®Âπ∂ÂèëÊù°‰ª∂‰∏ãË¶ÅÊ±ÇÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºåÊï∞ÊçÆÊìç‰ΩúÈô§‰∫ÜÊèíÂÖ•ÂíåÊü•ËØ¢‰πãÂ§ñÔºåËøòÂåÖÂê´ÂæàÂ§öÁöÑÊõ¥Êñ∞„ÄÅÂà†Èô§Êìç‰ΩúÔºåÂàô InnoDB ÊòØÊØîËæÉÂêàÈÄÇÁöÑÈÄâÊã©</li>
<li>MyISAM: Â¶ÇÊûúÂ∫îÁî®ÊòØ‰ª•ËØªÊìç‰ΩúÂíåÊèíÂÖ•Êìç‰Ωú‰∏∫‰∏ªÔºåÂè™ÊúâÂæàÂ∞ëÁöÑÊõ¥Êñ∞ÂíåÂà†Èô§Êìç‰ΩúÔºåÂπ∂‰∏îÂØπ‰∫ãÂä°ÁöÑÂÆåÊï¥ÊÄß„ÄÅÂπ∂ÂèëÊÄßË¶ÅÊ±Ç‰∏çÈ´òÔºåÈÇ£Ëøô‰∏™Â≠òÂÇ®ÂºïÊìéÊòØÈùûÂ∏∏ÂêàÈÄÇÁöÑ„ÄÇ</li>
<li>Memory: Â∞ÜÊâÄÊúâÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËÆøÈóÆÈÄüÂ∫¶Âø´ÔºåÈÄöÂ∏∏Áî®‰∫é‰∏¥Êó∂Ë°®ÂèäÁºìÂ≠ò„ÄÇMemory ÁöÑÁº∫Èô∑ÊòØÂØπË°®ÁöÑÂ§ßÂ∞èÊúâÈôêÂà∂ÔºåÂ§™Â§ßÁöÑË°®Êó†Ê≥ïÁºìÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËÄå‰∏îÊó†Ê≥ï‰øùÈöúÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß</li>
</ul>
<p>ÁîµÂïÜ‰∏≠ÁöÑË∂≥ËøπÂíåËØÑËÆ∫ÈÄÇÂêà‰ΩøÁî® MyISAM ÂºïÊìéÔºåÁºìÂ≠òÈÄÇÂêà‰ΩøÁî® Memory ÂºïÊìé„ÄÇ</p>
<h2 id="22-ÊÄßËÉΩÂàÜÊûê"><a class="markdownIt-Anchor" href="#22-ÊÄßËÉΩÂàÜÊûê"></a> 2.2: ÊÄßËÉΩÂàÜÊûê</h2>
<h3 id="221-Êü•ÁúãÊâßË°åÈ¢ëÊ¨°"><a class="markdownIt-Anchor" href="#221-Êü•ÁúãÊâßË°åÈ¢ëÊ¨°"></a> 2.2.1: Êü•ÁúãÊâßË°åÈ¢ëÊ¨°</h3>
<p>Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑ INSERT, UPDATE, DELETE, SELECT ËÆøÈóÆÈ¢ëÊ¨°Ôºö<br>
<code>SHOW GLOBAL STATUS LIKE 'Com_______';</code> ÊàñËÄÖ <code>SHOW SESSION STATUS LIKE 'Com_______';</code><br>
‰æãÔºö<code>show global status like 'Com_______'</code></p>
<h3 id="222-ÊÖ¢Êü•ËØ¢Êó•Âøó"><a class="markdownIt-Anchor" href="#222-ÊÖ¢Êü•ËØ¢Êó•Âøó"></a> 2.2.2: ÊÖ¢Êü•ËØ¢Êó•Âøó</h3>
<p>ÊÖ¢Êü•ËØ¢Êó•ÂøóËÆ∞ÂΩï‰∫ÜÊâÄÊúâÊâßË°åÊó∂Èó¥Ë∂ÖËøáÊåáÂÆöÂèÇÊï∞Ôºàlong_query_timeÔºåÂçï‰ΩçÔºöÁßíÔºåÈªòËÆ§ 10 ÁßíÔºâÁöÑÊâÄÊúâ SQL ËØ≠Âè•ÁöÑÊó•Âøó„ÄÇ<br>
MySQL ÁöÑÊÖ¢Êü•ËØ¢Êó•ÂøóÈªòËÆ§Ê≤°ÊúâÂºÄÂêØÔºåÈúÄË¶ÅÂú® MySQL ÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºà/etc/my.cnfÔºâ‰∏≠ÈÖçÁΩÆÂ¶Ç‰∏ã‰ø°ÊÅØÔºö<br>
# ÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÂºÄÂÖ≥<br>
slow_query_log=1<br>
# ËÆæÁΩÆÊÖ¢Êü•ËØ¢Êó•ÂøóÁöÑÊó∂Èó¥‰∏∫ 2 ÁßíÔºåSQL ËØ≠Âè•ÊâßË°åÊó∂Èó¥Ë∂ÖËøá 2 ÁßíÔºåÂ∞±‰ºöËßÜ‰∏∫ÊÖ¢Êü•ËØ¢ÔºåËÆ∞ÂΩïÊÖ¢Êü•ËØ¢Êó•Âøó<br>
long_query_time=2<br>
Êõ¥ÊîπÂêéËÆ∞ÂæóÈáçÂêØ MySQL ÊúçÂä°ÔºåÊó•ÂøóÊñá‰ª∂‰ΩçÁΩÆÔºö/var/lib/mysql/localhost-slow.log</p>
<p>Êü•ÁúãÊÖ¢Êü•ËØ¢Êó•ÂøóÂºÄÂÖ≥Áä∂ÊÄÅÔºö<br>
<code>show variables like 'slow_query_log';</code></p>
<h3 id="223-profile"><a class="markdownIt-Anchor" href="#223-profile"></a> 2.2.3: profile</h3>
<p>show profile ËÉΩÂú®ÂÅö SQL ‰ºòÂåñÊó∂Â∏ÆÊàë‰ª¨‰∫ÜËß£Êó∂Èó¥ÈÉΩËÄóË¥πÂú®Âì™Èáå„ÄÇÈÄöËøá have_profiling ÂèÇÊï∞ÔºåËÉΩÁúãÂà∞ÂΩìÂâç MySQL ÊòØÂê¶ÊîØÊåÅ profile Êìç‰ΩúÔºö<br>
<code>SELECT @@have_profiling;</code><br>
profiling ÈªòËÆ§ÂÖ≥Èó≠ÔºåÂèØ‰ª•ÈÄöËøá set ËØ≠Âè•Âú® session/global Á∫ßÂà´ÂºÄÂêØ profilingÔºö<br>
<code>SET profiling = 1;</code><br>
Êü•ÁúãÊâÄÊúâËØ≠Âè•ÁöÑËÄóÊó∂Ôºö<br>
<code>show profiles;</code><br>
Êü•ÁúãÊåáÂÆö query_id ÁöÑ SQL ËØ≠Âè•ÂêÑ‰∏™Èò∂ÊÆµÁöÑËÄóÊó∂Ôºö<br>
<code>show profile for query query_id;</code><br>
Êü•ÁúãÊåáÂÆö query_id ÁöÑ SQL ËØ≠Âè• CPU ÁöÑ‰ΩøÁî®ÊÉÖÂÜµ<br>
<code>show profile cpu for query query_id;</code></p>
<h3 id="224-explain"><a class="markdownIt-Anchor" href="#224-explain"></a> 2.2.4: explain</h3>
<p>EXPLAIN ÊàñËÄÖ DESC ÂëΩ‰ª§Ëé∑Âèñ MySQL Â¶Ç‰ΩïÊâßË°å SELECT ËØ≠Âè•ÁöÑ‰ø°ÊÅØÔºåÂåÖÊã¨Âú® SELECT ËØ≠Âè•ÊâßË°åËøáÁ®ã‰∏≠Ë°®Â¶Ç‰ΩïËøûÊé•ÂíåËøûÊé•ÁöÑÈ°∫Â∫è„ÄÇ<br>
ËØ≠Ê≥ïÔºö<br>
# Áõ¥Êé•Âú® select ËØ≠Âè•‰πãÂâçÂä†‰∏äÂÖ≥ÈîÆÂ≠ó explain / desc<br>
EXPLAIN SELECT Â≠óÊÆµÂàóË°® FROM Ë°®Âêç HWERE Êù°‰ª∂;</p>
<p>EXPLAIN ÂêÑÂ≠óÊÆµÂê´‰πâÔºö</p>
<ul>
<li>idÔºöselect Êü•ËØ¢ÁöÑÂ∫èÂàóÂè∑ÔºåË°®Á§∫Êü•ËØ¢‰∏≠ÊâßË°å select Â≠êÂè•ÊàñËÄÖÊìç‰ΩúË°®ÁöÑÈ°∫Â∫èÔºàid Áõ∏ÂêåÔºåÊâßË°åÈ°∫Â∫è‰ªé‰∏äÂà∞‰∏ãÔºõid ‰∏çÂêåÔºåÂÄºË∂äÂ§ßË∂äÂÖàÊâßË°åÔºâ</li>
<li>select_typeÔºöË°®Á§∫ SELECT ÁöÑÁ±ªÂûãÔºåÂ∏∏ËßÅÂèñÂÄºÊúâ SIMPLEÔºàÁÆÄÂçïË°®ÔºåÂç≥‰∏çÈÄÇÁî®Ë°®ËøûÊé•ÊàñËÄÖÂ≠êÊü•ËØ¢Ôºâ„ÄÅPRIMARYÔºà‰∏ªÊü•ËØ¢ÔºåÂç≥Â§ñÂ±ÇÁöÑÊü•ËØ¢Ôºâ„ÄÅUNIONÔºàUNION ‰∏≠ÁöÑÁ¨¨‰∫å‰∏™ÊàñËÄÖÂêéÈù¢ÁöÑÊü•ËØ¢ËØ≠Âè•Ôºâ„ÄÅ   SUBQUERYÔºàSELECT/WHERE ‰πãÂêéÂåÖÂê´‰∫ÜÂ≠êÊü•ËØ¢ÔºâÁ≠â</li>
<li>typeÔºöË°®Á§∫ËøûÊé•Á±ªÂûãÔºåÊÄßËÉΩÁî±Â•ΩÂà∞Â∑ÆÁöÑËøûÊé•Á±ªÂûã‰∏∫ NULL„ÄÅsystem„ÄÅconst„ÄÅeq_ref„ÄÅref„ÄÅrange„ÄÅindex„ÄÅall</li>
<li>possible_keyÔºöÂèØËÉΩÂ∫îÁî®Âú®ËøôÂº†Ë°®‰∏äÁöÑÁ¥¢ÂºïÔºå‰∏Ä‰∏™ÊàñÂ§ö‰∏™</li>
<li>KeyÔºöÂÆûÈôÖ‰ΩøÁî®ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûú‰∏∫ NULLÔºåÂàôÊ≤°Êúâ‰ΩøÁî®Á¥¢Âºï</li>
<li>Key_lenÔºöË°®Á§∫Á¥¢Âºï‰∏≠‰ΩøÁî®ÁöÑÂ≠óËäÇÊï∞ÔºåËØ•ÂÄº‰∏∫Á¥¢ÂºïÂ≠óÊÆµÊúÄÂ§ßÂèØËÉΩÈïøÂ∫¶ÔºåÂπ∂ÈùûÂÆûÈôÖ‰ΩøÁî®ÈïøÂ∫¶ÔºåÂú®‰∏çÊçüÂ§±Á≤æÁ°ÆÊÄßÁöÑÂâçÊèê‰∏ãÔºåÈïøÂ∫¶Ë∂äÁü≠Ë∂äÂ•Ω</li>
<li>rowsÔºöMySQL ËÆ§‰∏∫ÂøÖÈ°ªË¶ÅÊâßË°åÁöÑË°åÊï∞ÔºåÂú® InnoDB ÂºïÊìéÁöÑË°®‰∏≠ÔºåÊòØ‰∏Ä‰∏™‰º∞ËÆ°ÂÄºÔºåÂèØËÉΩÂπ∂‰∏çÊÄªÊòØÂáÜÁ°ÆÁöÑ</li>
<li>filteredÔºöË°®Á§∫ËøîÂõûÁªìÊûúÁöÑË°åÊï∞Âç†ÈúÄËØªÂèñË°åÊï∞ÁöÑÁôæÂàÜÊØîÔºåfiltered ÁöÑÂÄºË∂äÂ§ßË∂äÂ•Ω</li>
</ul>
<h2 id="23-Á¥¢Âºï"><a class="markdownIt-Anchor" href="#23-Á¥¢Âºï"></a> 2.3: Á¥¢Âºï</h2>
<p>Á¥¢ÂºïÊòØÂ∏ÆÂä© MySQL <strong>È´òÊïàËé∑ÂèñÊï∞ÊçÆ</strong>ÁöÑ<strong>Êï∞ÊçÆÁªìÊûÑÔºàÊúâÂ∫èÔºâ</strong>„ÄÇÂú®Êï∞ÊçÆ‰πãÂ§ñÔºåÊï∞ÊçÆÂ∫ìÁ≥ªÁªüËøòÁª¥Êä§ÁùÄÊª°Ë∂≥ÁâπÂÆöÊü•ÊâæÁÆóÊ≥ïÁöÑÊï∞ÊçÆÁªìÊûÑÔºåËøô‰∫õÊï∞ÊçÆÁªìÊûÑ‰ª•ÊüêÁßçÊñπÂºèÂºïÁî®ÔºàÊåáÂêëÔºâÊï∞ÊçÆÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Âú®Ëøô‰∫õÊï∞ÊçÆÁªìÊûÑ‰∏äÂÆûÁé∞È´òÁ∫ßÊü•ËØ¢ÁÆóÊ≥ïÔºåËøôÁßçÊï∞ÊçÆÁªìÊûÑÂ∞±ÊòØÁ¥¢Âºï„ÄÇ</p>
<p>‰ºòÁº∫ÁÇπÔºö</p>
<p>‰ºòÁÇπÔºö</p>
<ul>
<li>ÊèêÈ´òÊï∞ÊçÆÊ£ÄÁ¥¢ÊïàÁéáÔºåÈôç‰ΩéÊï∞ÊçÆÂ∫ìÁöÑ IO ÊàêÊú¨</li>
<li>ÈÄöËøáÁ¥¢ÂºïÂàóÂØπÊï∞ÊçÆËøõË°åÊéíÂ∫èÔºåÈôç‰ΩéÊï∞ÊçÆÊéíÂ∫èÁöÑÊàêÊú¨ÔºåÈôç‰Ωé CPU ÁöÑÊ∂àËÄó</li>
</ul>
<p>Áº∫ÁÇπÔºö</p>
<ul>
<li>Á¥¢ÂºïÂàó‰πüÊòØË¶ÅÂç†Áî®Á©∫Èó¥ÁöÑ</li>
<li>Á¥¢ÂºïÂ§ßÂ§ßÊèêÈ´ò‰∫ÜÊü•ËØ¢ÊïàÁéáÔºå‰ΩÜÈôç‰Ωé‰∫ÜÊõ¥Êñ∞ÁöÑÈÄüÂ∫¶ÔºåÊØîÂ¶Ç INSERT„ÄÅUPDATE„ÄÅDELETE</li>
</ul>
<h3 id="231-Á¥¢ÂºïÁªìÊûÑ"><a class="markdownIt-Anchor" href="#231-Á¥¢ÂºïÁªìÊûÑ"></a> 2.3.1: Á¥¢ÂºïÁªìÊûÑ</h3>
<table>
<thead>
<tr>
<th>Á¥¢ÂºïÁªìÊûÑ</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>B+Tree</td>
<td>ÊúÄÂ∏∏ËßÅÁöÑÁ¥¢ÂºïÁ±ªÂûãÔºåÂ§ßÈÉ®ÂàÜÂºïÊìéÈÉΩÊîØÊåÅ B+Ê†ëÁ¥¢Âºï</td>
</tr>
<tr>
<td>Hash</td>
<td>Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÊòØÁî®ÂìàÂ∏åË°®ÂÆûÁé∞ÔºåÂè™ÊúâÁ≤æÁ°ÆÂåπÈÖçÁ¥¢ÂºïÂàóÁöÑÊü•ËØ¢ÊâçÊúâÊïàÔºå‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢</td>
</tr>
<tr>
<td>R-Tree (Á©∫Èó¥Á¥¢Âºï)</td>
<td>Á©∫Èó¥Á¥¢ÂºïÊòØ MyISAM ÂºïÊìéÁöÑ‰∏Ä‰∏™ÁâπÊÆäÁ¥¢ÂºïÁ±ªÂûãÔºå‰∏ªË¶ÅÁî®‰∫éÂú∞ÁêÜÁ©∫Èó¥Êï∞ÊçÆÁ±ªÂûãÔºåÈÄöÂ∏∏‰ΩøÁî®ËæÉÂ∞ë</td>
</tr>
<tr>
<td>Full-Text (ÂÖ®ÊñáÁ¥¢Âºï)</td>
<td>ÊòØ‰∏ÄÁßçÈÄöËøáÂª∫Á´ãÂÄíÊéíÁ¥¢ÂºïÔºåÂø´ÈÄüÂåπÈÖçÊñáÊ°£ÁöÑÊñπÂºèÔºåÁ±ª‰ºº‰∫é Lucene, Solr, ES</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Á¥¢Âºï</th>
<th>InnoDB</th>
<th>MyISAM</th>
<th>Memory</th>
</tr>
</thead>
<tbody>
<tr>
<td>B+Tree Á¥¢Âºï</td>
<td>ÊîØÊåÅ</td>
<td>ÊîØÊåÅ</td>
<td>ÊîØÊåÅ</td>
</tr>
<tr>
<td>Hash Á¥¢Âºï</td>
<td>‰∏çÊîØÊåÅ</td>
<td>‰∏çÊîØÊåÅ</td>
<td>ÊîØÊåÅ</td>
</tr>
<tr>
<td>R-Tree Á¥¢Âºï</td>
<td>‰∏çÊîØÊåÅ</td>
<td>ÊîØÊåÅ</td>
<td>‰∏çÊîØÊåÅ</td>
</tr>
<tr>
<td>Full-text</td>
<td>5.6 ÁâàÊú¨ÂêéÊîØÊåÅ</td>
<td>ÊîØÊåÅ</td>
<td>‰∏çÊîØÊåÅ</td>
</tr>
</tbody>
</table>
<h4 id="2311-b-tree"><a class="markdownIt-Anchor" href="#2311-b-tree"></a> 2.3.1.1: B-Tree</h4>
<p><img src="https://dhc.pythonanywhere.com/media/editor/%E4%BA%8C%E5%8F%89%E6%A0%91_20220316153214227108.png" srcset="/img/loading.gif" lazyload alt="‰∫åÂèâÊ†ë" title="‰∫åÂèâÊ†ë"></p>
<p>‰∫åÂèâÊ†ëÂΩ¢ÊàêÈìæË°®ÁöÑÁº∫ÁÇπÂèØ‰ª•Áî®Á∫¢ÈªëÊ†ëÊù•Ëß£ÂÜ≥Ôºö<br>
<img src="https://dhc.pythonanywhere.com/media/editor/%E7%BA%A2%E9%BB%91%E6%A0%91_20220316163142686602.png" srcset="/img/loading.gif" lazyload alt="Á∫¢ÈªëÊ†ë" title="Á∫¢ÈªëÊ†ë"><br>
Á∫¢ÈªëÊ†ë‰πüÂ≠òÂú®Â§ßÊï∞ÊçÆÈáèÊÉÖÂÜµ‰∏ãÔºåÂ±ÇÁ∫ßËæÉÊ∑±ÔºåÊ£ÄÁ¥¢ÈÄüÂ∫¶ÊÖ¢ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p>‰∏∫‰∫ÜËß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºåÂèØ‰ª•‰ΩøÁî® B-Tree ÁªìÊûÑ„ÄÇ<br>
B-Tree (Â§öË∑ØÂπ≥Ë°°Êü•ÊâæÊ†ë) ‰ª•‰∏ÄÊ£µÊúÄÂ§ßÂ∫¶Êï∞Ôºàmax-degreeÔºåÊåá‰∏Ä‰∏™ËäÇÁÇπÁöÑÂ≠êËäÇÁÇπ‰∏™Êï∞Ôºâ‰∏∫ 5Ôºà5 Èò∂ÔºâÁöÑ b-tree ‰∏∫‰æãÔºàÊØè‰∏™ËäÇÁÇπÊúÄÂ§öÂ≠òÂÇ® 4 ‰∏™ keyÔºå5 ‰∏™ÊåáÈíàÔºâ</p>
<p>![B-Tree ÁªìÊûÑ](<a target="_blank" rel="noopener" href="https://dhc.pythonanywhere.com/media/editor/B-Tree">https://dhc.pythonanywhere.com/media/editor/B-Tree</a> ÁªìÊûÑ_20220316163813441163.png ‚ÄúB-Tree ÁªìÊûÑ‚Äù)</p>
<blockquote>
<p>B-Tree ÁöÑÊï∞ÊçÆÊèíÂÖ•ËøáÁ®ãÂä®ÁîªÂèÇÁÖßÔºö<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68</a><br>
ÊºîÁ§∫Âú∞ÂùÄÔºö<a target="_blank" rel="noopener" href="https://www.cs.usfca.edu/~galles/visualization/BTree.html">https://www.cs.usfca.edu/~galles/visualization/BTree.html</a></p>
</blockquote>
<h4 id="2312-btree"><a class="markdownIt-Anchor" href="#2312-btree"></a> 2.3.1.2: B+Tree</h4>
<p>ÁªìÊûÑÂõæÔºö</p>
<p>![B+Tree ÁªìÊûÑÂõæ](<a target="_blank" rel="noopener" href="https://dhc.pythonanywhere.com/media/editor/B+Tree">https://dhc.pythonanywhere.com/media/editor/B+Tree</a> ÁªìÊûÑÂõæ_20220316170700591277.png ‚ÄúB+Tree ÁªìÊûÑÂõæ‚Äù)</p>
<blockquote>
<p>ÊºîÁ§∫Âú∞ÂùÄÔºö<a target="_blank" rel="noopener" href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html">https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</a></p>
</blockquote>
<p>‰∏é B-Tree ÁöÑÂå∫Âà´Ôºö</p>
<ul>
<li>ÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰ºöÂá∫Áé∞Âú®Âè∂Â≠êËäÇÁÇπ</li>
<li>Âè∂Â≠êËäÇÁÇπÂΩ¢Êàê‰∏Ä‰∏™ÂçïÂêëÈìæË°®</li>
</ul>
<p>MySQL Á¥¢ÂºïÊï∞ÊçÆÁªìÊûÑÂØπÁªèÂÖ∏ÁöÑ B+Tree ËøõË°å‰∫Ü‰ºòÂåñ„ÄÇÂú®Âéü B+Tree ÁöÑÂü∫Á°Ä‰∏äÔºåÂ¢ûÂä†‰∏Ä‰∏™ÊåáÂêëÁõ∏ÈÇªÂè∂Â≠êËäÇÁÇπÁöÑÈìæË°®ÊåáÈíàÔºåÂ∞±ÂΩ¢Êàê‰∫ÜÂ∏¶ÊúâÈ°∫Â∫èÊåáÈíàÁöÑ B+TreeÔºåÊèêÈ´òÂå∫Èó¥ËÆøÈóÆÁöÑÊÄßËÉΩ„ÄÇ</p>
<p><img src="https://dhc.pythonanywhere.com/media/editor/%E7%BB%93%E6%9E%84%E5%9B%BE_20220316171730865611.png" srcset="/img/loading.gif" lazyload alt="MySQL B+Tree ÁªìÊûÑÂõæ" title="MySQL B+Tree ÁªìÊûÑÂõæ"></p>
<h4 id="2313-hash"><a class="markdownIt-Anchor" href="#2313-hash"></a> 2.3.1.3: Hash</h4>
<p>ÂìàÂ∏åÁ¥¢ÂºïÂ∞±ÊòØÈááÁî®‰∏ÄÂÆöÁöÑ hash ÁÆóÊ≥ïÔºåÂ∞ÜÈîÆÂÄºÊç¢ÁÆóÊàêÊñ∞ÁöÑ hash ÂÄºÔºåÊò†Â∞ÑÂà∞ÂØπÂ∫îÁöÑÊßΩ‰Ωç‰∏äÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âú® hash Ë°®‰∏≠„ÄÇ<br>
Â¶ÇÊûú‰∏§‰∏™ÔºàÊàñÂ§ö‰∏™ÔºâÈîÆÂÄºÔºåÊò†Â∞ÑÂà∞‰∏Ä‰∏™Áõ∏ÂêåÁöÑÊßΩ‰Ωç‰∏äÔºå‰ªñ‰ª¨Â∞±‰∫ßÁîü‰∫Ü hash ÂÜ≤Á™ÅÔºà‰πüÁß∞‰∏∫ hash Á¢∞ÊíûÔºâÔºåÂèØ‰ª•ÈÄöËøáÈìæË°®Êù•Ëß£ÂÜ≥„ÄÇ</p>
<p>![Hash Á¥¢ÂºïÂéüÁêÜÂõæ](<a target="_blank" rel="noopener" href="https://dhc.pythonanywhere.com/media/editor/Hash">https://dhc.pythonanywhere.com/media/editor/Hash</a> Á¥¢ÂºïÂéüÁêÜÂõæ_20220317143226150679.png ‚ÄúHash Á¥¢ÂºïÂéüÁêÜÂõæ‚Äù)</p>
<p>ÁâπÁÇπÔºö</p>
<ul>
<li>Hash Á¥¢ÂºïÂè™ËÉΩÁî®‰∫éÂØπÁ≠âÊØîËæÉÔºà=„ÄÅinÔºâÔºå‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢Ôºàbetwwn„ÄÅ&gt;„ÄÅ&lt;„ÄÅ‚Ä¶Ôºâ</li>
<li>Êó†Ê≥ïÂà©Áî®Á¥¢ÂºïÂÆåÊàêÊéíÂ∫èÊìç‰Ωú</li>
<li>Êü•ËØ¢ÊïàÁéáÈ´òÔºåÈÄöÂ∏∏Âè™ÈúÄË¶Å‰∏ÄÊ¨°Ê£ÄÁ¥¢Â∞±ÂèØ‰ª•‰∫ÜÔºåÊïàÁéáÈÄöÂ∏∏Ë¶ÅÈ´ò‰∫é B+Tree Á¥¢Âºï</li>
</ul>
<p>Â≠òÂÇ®ÂºïÊìéÊîØÊåÅÔºö</p>
<ul>
<li>Memory</li>
<li>InnoDB: ÂÖ∑ÊúâËá™ÈÄÇÂ∫î hash ÂäüËÉΩÔºåhash Á¥¢ÂºïÊòØÂ≠òÂÇ®ÂºïÊìéÊ†πÊçÆ B+Tree Á¥¢ÂºïÂú®ÊåáÂÆöÊù°‰ª∂‰∏ãËá™Âä®ÊûÑÂª∫ÁöÑ</li>
</ul>
<h4 id="2314-Èù¢ËØïÈ¢ò"><a class="markdownIt-Anchor" href="#2314-Èù¢ËØïÈ¢ò"></a> 2.3.1.4: Èù¢ËØïÈ¢ò</h4>
<ol>
<li>‰∏∫‰ªÄ‰πà InnoDB Â≠òÂÇ®ÂºïÊìéÈÄâÊã©‰ΩøÁî® B+Tree Á¥¢ÂºïÁªìÊûÑÔºü</li>
</ol>
<ul>
<li>Áõ∏ÂØπ‰∫é‰∫åÂèâÊ†ëÔºåÂ±ÇÁ∫ßÊõ¥Â∞ëÔºåÊêúÁ¥¢ÊïàÁéáÈ´ò</li>
<li>ÂØπ‰∫é B-TreeÔºåÊó†ËÆ∫ÊòØÂè∂Â≠êËäÇÁÇπËøòÊòØÈùûÂè∂Â≠êËäÇÁÇπÔºåÈÉΩ‰ºö‰øùÂ≠òÊï∞ÊçÆÔºåËøôÊ†∑ÂØºËá¥‰∏ÄÈ°µ‰∏≠Â≠òÂÇ®ÁöÑÈîÆÂÄºÂáèÂ∞ëÔºåÊåáÈíà‰πüË∑üÁùÄÂáèÂ∞ëÔºåË¶ÅÂêåÊ†∑‰øùÂ≠òÂ§ßÈáèÊï∞ÊçÆÔºåÂè™ËÉΩÂ¢ûÂä†Ê†ëÁöÑÈ´òÂ∫¶ÔºåÂØºËá¥ÊÄßËÉΩÈôç‰Ωé</li>
<li>Áõ∏ÂØπ‰∫é Hash Á¥¢ÂºïÔºåB+Tree ÊîØÊåÅËåÉÂõ¥ÂåπÈÖçÂèäÊéíÂ∫èÊìç‰Ωú</li>
</ul>
<h3 id="232-Á¥¢ÂºïÂàÜÁ±ª"><a class="markdownIt-Anchor" href="#232-Á¥¢ÂºïÂàÜÁ±ª"></a> 2.3.2: Á¥¢ÂºïÂàÜÁ±ª</h3>
<table>
<thead>
<tr>
<th>ÂàÜÁ±ª</th>
<th>Âê´‰πâ</th>
<th>ÁâπÁÇπ</th>
<th>ÂÖ≥ÈîÆÂ≠ó</th>
</tr>
</thead>
<tbody>
<tr>
<td>‰∏ªÈîÆÁ¥¢Âºï</td>
<td>ÈíàÂØπ‰∫éË°®‰∏≠‰∏ªÈîÆÂàõÂª∫ÁöÑÁ¥¢Âºï</td>
<td>ÈªòËÆ§Ëá™Âä®ÂàõÂª∫ÔºåÂè™ËÉΩÊúâ‰∏Ä‰∏™</td>
<td>PRIMARY</td>
</tr>
<tr>
<td>ÂîØ‰∏ÄÁ¥¢Âºï</td>
<td>ÈÅøÂÖçÂêå‰∏Ä‰∏™Ë°®‰∏≠ÊüêÊï∞ÊçÆÂàó‰∏≠ÁöÑÂÄºÈáçÂ§ç</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td>UNIQUE</td>
</tr>
<tr>
<td>Â∏∏ËßÑÁ¥¢Âºï</td>
<td>Âø´ÈÄüÂÆö‰ΩçÁâπÂÆöÊï∞ÊçÆ</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td></td>
</tr>
<tr>
<td>ÂÖ®ÊñáÁ¥¢Âºï</td>
<td>ÂÖ®ÊñáÁ¥¢ÂºïÊü•ÊâæÁöÑÊòØÊñáÊú¨‰∏≠ÁöÑÂÖ≥ÈîÆËØçÔºåËÄå‰∏çÊòØÊØîËæÉÁ¥¢Âºï‰∏≠ÁöÑÂÄº</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td>FULLTEXT</td>
</tr>
</tbody>
</table>
<p>Âú® InnoDB Â≠òÂÇ®ÂºïÊìé‰∏≠ÔºåÊ†πÊçÆÁ¥¢ÂºïÁöÑÂ≠òÂÇ®ÂΩ¢ÂºèÔºåÂèàÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ã‰∏§ÁßçÔºö</p>
<table>
<thead>
<tr>
<th>ÂàÜÁ±ª</th>
<th>Âê´‰πâ</th>
<th>ÁâπÁÇπ</th>
</tr>
</thead>
<tbody>
<tr>
<td>ËÅöÈõÜÁ¥¢Âºï (Clustered Index)</td>
<td>Â∞ÜÊï∞ÊçÆÂ≠òÂÇ®‰∏éÁ¥¢ÂºïÊîæ‰∏ÄÂùóÔºåÁ¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπ‰øùÂ≠ò‰∫ÜË°åÊï∞ÊçÆ</td>
<td>ÂøÖÈ°ªÊúâÔºåËÄå‰∏îÂè™Êúâ‰∏Ä‰∏™</td>
</tr>
<tr>
<td>‰∫åÁ∫ßÁ¥¢Âºï (Secondary Index)</td>
<td>Â∞ÜÊï∞ÊçÆ‰∏éÁ¥¢ÂºïÂàÜÂºÄÂ≠òÂÇ®ÔºåÁ¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπÂÖ≥ËÅîÁöÑÊòØÂØπÂ∫îÁöÑ‰∏ªÈîÆ</td>
<td>ÂèØ‰ª•Â≠òÂú®Â§ö‰∏™</td>
</tr>
</tbody>
</table>
<p>ÊºîÁ§∫ÂõæÔºö</p>
<p><img src="https://dhc.pythonanywhere.com/media/editor/%E5%8E%9F%E7%90%86%E5%9B%BE_20220318194454880073.png" srcset="/img/loading.gif" lazyload alt="Â§ßËá¥ÂéüÁêÜ" title="Â§ßËá¥ÂéüÁêÜ"><br>
<img src="https://dhc.pythonanywhere.com/media/editor/%E6%BC%94%E7%A4%BA%E5%9B%BE_20220319215403721066.png" srcset="/img/loading.gif" lazyload alt="ÊºîÁ§∫Âõæ" title="ÊºîÁ§∫Âõæ"></p>
<p>ËÅöÈõÜÁ¥¢ÂºïÈÄâÂèñËßÑÂàôÔºö</p>
<ul>
<li>Â¶ÇÊûúÂ≠òÂú®‰∏ªÈîÆÔºå‰∏ªÈîÆÁ¥¢ÂºïÂ∞±ÊòØËÅöÈõÜÁ¥¢Âºï</li>
<li>Â¶ÇÊûú‰∏çÂ≠òÂú®‰∏ªÈîÆÔºåÂ∞Ü‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÂîØ‰∏Ä (UNIQUE) Á¥¢Âºï‰Ωú‰∏∫ËÅöÈõÜÁ¥¢Âºï</li>
<li>Â¶ÇÊûúË°®Ê≤°Êúâ‰∏ªÈîÆÊàñÊ≤°ÊúâÂêàÈÄÇÁöÑÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂàô InnoDB ‰ºöËá™Âä®ÁîüÊàê‰∏Ä‰∏™ rowid ‰Ωú‰∏∫ÈöêËóèÁöÑËÅöÈõÜÁ¥¢Âºï</li>
</ul>
<h4 id="2321-ÊÄùËÄÉÈ¢ò"><a class="markdownIt-Anchor" href="#2321-ÊÄùËÄÉÈ¢ò"></a> 2.3.2.1: ÊÄùËÄÉÈ¢ò</h4>
<p>1. ‰ª•‰∏ã SQL ËØ≠Âè•ÔºåÂì™‰∏™ÊâßË°åÊïàÁéáÈ´òÔºü‰∏∫‰ªÄ‰πàÔºü</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from user where id = 10;<br>select * from user where name = 'Arm';<br>-- Â§áÊ≥®Ôºöid‰∏∫‰∏ªÈîÆÔºånameÂ≠óÊÆµÂàõÂª∫ÁöÑÊúâÁ¥¢Âºï<br></code></pre></td></tr></tbody></table></figure>
<p>Á≠îÔºöÁ¨¨‰∏ÄÊù°ËØ≠Âè•ÔºåÂõ†‰∏∫Á¨¨‰∫åÊù°ÈúÄË¶ÅÂõûË°®Êü•ËØ¢ÔºåÁõ∏ÂΩì‰∫é‰∏§‰∏™Ê≠•È™§„ÄÇ</p>
<p>2. InnoDB ‰∏ªÈîÆÁ¥¢ÂºïÁöÑ B+Tree È´òÂ∫¶‰∏∫Â§öÂ∞ëÔºü</p>
<p>Á≠îÔºöÂÅáËÆæ‰∏ÄË°åÊï∞ÊçÆÂ§ßÂ∞è‰∏∫ 1kÔºå‰∏ÄÈ°µ‰∏≠ÂèØ‰ª•Â≠òÂÇ® 16 Ë°åËøôÊ†∑ÁöÑÊï∞ÊçÆ„ÄÇInnoDB ÁöÑÊåáÈíàÂç†Áî® 6 ‰∏™Â≠óËäÇÁöÑÁ©∫Èó¥Ôºå‰∏ªÈîÆÂÅáËÆæ‰∏∫ bigintÔºåÂç†Áî®Â≠óËäÇÊï∞‰∏∫ 8.<br>
ÂèØÂæóÂÖ¨ÂºèÔºö<code>n * 8 + (n + 1) * 6 = 16 * 1024</code>ÔºåÂÖ∂‰∏≠ 8 Ë°®Á§∫ bigint Âç†Áî®ÁöÑÂ≠óËäÇÊï∞Ôºån Ë°®Á§∫ÂΩìÂâçËäÇÁÇπÂ≠òÂÇ®ÁöÑ key ÁöÑÊï∞ÈáèÔºå(n + 1) Ë°®Á§∫ÊåáÈíàÊï∞ÈáèÔºàÊØî key Â§ö‰∏Ä‰∏™Ôºâ„ÄÇÁÆóÂá∫ n Á∫¶‰∏∫ 1170„ÄÇ</p>
<p>Â¶ÇÊûúÊ†ëÁöÑÈ´òÂ∫¶‰∏∫ 2ÔºåÈÇ£‰πà‰ªñËÉΩÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÈáèÂ§ßÊ¶Ç‰∏∫Ôºö<code>1171 * 16 = 18736</code>Ôºõ<br>
Â¶ÇÊûúÊ†ëÁöÑÈ´òÂ∫¶‰∏∫ 3ÔºåÈÇ£‰πà‰ªñËÉΩÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÈáèÂ§ßÊ¶Ç‰∏∫Ôºö<code>1171 * 1171 * 16 = 21939856</code>„ÄÇ</p>
<p>Âè¶Â§ñÔºåÂ¶ÇÊûúÊúâÊàêÂçÉ‰∏ä‰∏áÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàÂ∞±Ë¶ÅËÄÉËôëÂàÜË°®ÔºåÊ∂âÂèäËøêÁª¥ÁØáÁü•ËØÜ„ÄÇ</p>
<h3 id="233-ËØ≠Ê≥ï"><a class="markdownIt-Anchor" href="#233-ËØ≠Ê≥ï"></a> 2.3.3: ËØ≠Ê≥ï</h3>
<p>ÂàõÂª∫Á¥¢ÂºïÔºö<br>
<code>CREATE [ UNIQUE | FULLTEXT ] INDEX index_name ON table_name (index_col_name, ...);</code><br>
Â¶ÇÊûú‰∏çÂä† CREATE ÂêéÈù¢‰∏çÂä†Á¥¢ÂºïÁ±ªÂûãÂèÇÊï∞ÔºåÂàôÂàõÂª∫ÁöÑÊòØÂ∏∏ËßÑÁ¥¢Âºï</p>
<p>Êü•ÁúãÁ¥¢ÂºïÔºö<br>
<code>SHOW INDEX FROM table_name;</code></p>
<p>Âà†Èô§Á¥¢ÂºïÔºö<br>
<code>DROP INDEX index_name ON table_name;</code></p>
<p>Ê°à‰æãÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- nameÂ≠óÊÆµ‰∏∫ÂßìÂêçÂ≠óÊÆµÔºåËØ•Â≠óÊÆµÁöÑÂÄºÂèØËÉΩ‰ºöÈáçÂ§çÔºå‰∏∫ËØ•Â≠óÊÆµÂàõÂª∫Á¥¢Âºï<br>create index idx_user_name on tb_user(name);<br>-- phoneÊâãÊú∫Âè∑Â≠óÊÆµÁöÑÂÄºÈùûÁ©∫Ôºå‰∏îÂîØ‰∏ÄÔºå‰∏∫ËØ•Â≠óÊÆµÂàõÂª∫ÂîØ‰∏ÄÁ¥¢Âºï<br>create unique index idx_user_phone on tb_user (phone);<br>-- ‰∏∫profession, age, statusÂàõÂª∫ËÅîÂêàÁ¥¢Âºï<br>create index idx_user_pro_age_stat on tb_user(profession, age, status);<br>-- ‰∏∫emailÂª∫Á´ãÂêàÈÄÇÁöÑÁ¥¢ÂºïÊù•ÊèêÂçáÊü•ËØ¢ÊïàÁéá<br>create index idx_user_email on tb_user(email);<br><br>-- Âà†Èô§Á¥¢Âºï  <br>drop index idx_user_email on tb_user;  <br></code></pre></td></tr></tbody></table></figure>
<h3 id="234-‰ΩøÁî®ËßÑÂàô"><a class="markdownIt-Anchor" href="#234-‰ΩøÁî®ËßÑÂàô"></a> 2.3.4: ‰ΩøÁî®ËßÑÂàô</h3>
<h4 id="2341-ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô"><a class="markdownIt-Anchor" href="#2341-ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô"></a> 2.3.4.1: ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô</h4>
<p>Â¶ÇÊûúÁ¥¢ÂºïÂÖ≥ËÅî‰∫ÜÂ§öÂàóÔºàËÅîÂêàÁ¥¢ÂºïÔºâÔºåË¶ÅÈÅµÂÆàÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÔºåÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÊåáÁöÑÊòØÊü•ËØ¢‰ªéÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ÂàóÂºÄÂßãÔºåÂπ∂‰∏î‰∏çË∑≥ËøáÁ¥¢Âºï‰∏≠ÁöÑÂàó„ÄÇ<br>
Â¶ÇÊûúË∑≥Ë∑ÉÊüê‰∏ÄÂàóÔºåÁ¥¢ÂºïÂ∞ÜÈÉ®ÂàÜÂ§±ÊïàÔºàÂêéÈù¢ÁöÑÂ≠óÊÆµÁ¥¢ÂºïÂ§±ÊïàÔºâ„ÄÇË∑≥ËøáÁöÑËØùÔºåÂêéÈù¢ÁöÑÊéíÂ∫èÂ∞±Êó†‰ªéËØ¥Ëµ∑‰∫Ü„ÄÇÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÂú®Áî® select ÁöÑÊó∂ÂÄôÔºåÂíåÊîæÁöÑ‰ΩçÁΩÆÊòØÊ≤°ÊúâÂÖ≥Á≥ªÁöÑÔºåÂè™Ë¶ÅÂ≠òÂú®Â∞±Ë°å„ÄÇ</p>
<p>ËÅîÂêàÁ¥¢Âºï‰∏≠ÔºåÂá∫Áé∞ËåÉÂõ¥Êü•ËØ¢Ôºà&lt;, &gt;ÔºâÔºåËåÉÂõ¥Êü•ËØ¢Âè≥‰æßÁöÑÂàóÁ¥¢ÂºïÂ§±Êïà„ÄÇÂèØ‰ª•Áî®&gt;=ÊàñËÄÖ&lt;=Êù•ËßÑÈÅøÁ¥¢ÂºïÂ§±ÊïàÈóÆÈ¢ò„ÄÇ</p>
<h4 id="2342-Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ"><a class="markdownIt-Anchor" href="#2342-Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ"></a> 2.3.4.2: Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ</h4>
<ol>
<li>Âú®Á¥¢ÂºïÂàó‰∏äËøõË°åËøêÁÆóÊìç‰ΩúÔºåÁ¥¢ÂºïÂ∞ÜÂ§±Êïà„ÄÇÂ¶ÇÔºö<code>explain select * from tb_user where substring(phone, 10, 2) = '15';</code> Êç¢Êàê <code>explain select * from tb_user where phone = '17799990015';</code> ËøôÊòØÂèØ‰ª•ÁöÑ„ÄÇ</li>
<li>Â≠óÁ¨¶‰∏≤Á±ªÂûãÂ≠óÊÆµ‰ΩøÁî®Êó∂Ôºå‰∏çÂä†ÂºïÂè∑ÔºåÁ¥¢ÂºïÂ∞ÜÂ§±Êïà„ÄÇÂ¶ÇÔºö<code>explain select * from tb_user where phone = 17799990015;</code>ÔºåÊ≠§Â§Ñ phone ÁöÑÂÄºÊ≤°ÊúâÂä†ÂºïÂè∑</li>
<li>Ê®°Á≥äÊü•ËØ¢‰∏≠ÔºåÂ¶ÇÊûú‰ªÖ‰ªÖÊòØÂ∞æÈÉ®Ê®°Á≥äÂåπÈÖçÔºåÁ¥¢Âºï‰∏ç‰ºöÊòØÂ§±ÊïàÔºõÂ¶ÇÊûúÊòØÂ§¥ÈÉ®Ê®°Á≥äÂåπÈÖçÔºåÁ¥¢ÂºïÂ§±Êïà„ÄÇÂ¶ÇÔºö<code>explain select * from tb_user where profession like '%Â∑•Á®ã';</code>ÔºåÂâçÂêéÈÉΩÊúâ % ‰πü‰ºöÂ§±Êïà„ÄÇ<code>explain select * from tb_user where profession like 'ËΩØ‰ª∂%';</code> Ëøô‰∏™ÊòØ‰∏ç‰ºöÂ§±ÊïàÁöÑÔºåÂè™ÊúâÂâçÈù¢Âä†‰∫Ü%Êâç‰ºöÂ§±Êïà„ÄÇ</li>
<li>Áî® or ÂàÜÂâ≤ÂºÄÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûú or ÂÖ∂‰∏≠‰∏Ä‰∏™Êù°‰ª∂ÁöÑÂàóÊ≤°ÊúâÁ¥¢ÂºïÔºåÈÇ£‰πàÊ∂âÂèäÁöÑÁ¥¢ÂºïÈÉΩ‰∏ç‰ºöË¢´Áî®Âà∞„ÄÇ</li>
<li>Â¶ÇÊûú MySQL ËØÑ‰º∞‰ΩøÁî®Á¥¢ÂºïÊØîÂÖ®Ë°®Êõ¥ÊÖ¢ÔºåÂàô‰∏ç‰ΩøÁî®Á¥¢Âºï„ÄÇÂõ†‰∏∫Âè™Ë¶ÅÊúâ‰∏Ä‰∏™Ê≤°ÊúâÁ¥¢ÂºïÔºåÂè¶Â§ñ‰∏Ä‰∏™Áî®‰∏çÁî®Á¥¢ÂºïÈÉΩÊ≤°ÊúâÊÑè‰πâÔºåÈÉΩË¶ÅËøõË°åÂÖ®Ë°®Êâ´Êèè„ÄÇÊâÄ‰ª•Â∞±Êó†ÈúÄÁî®Á¥¢Âºï„ÄÇ</li>
</ol>
<h4 id="2343-sql-ÊèêÁ§∫"><a class="markdownIt-Anchor" href="#2343-sql-ÊèêÁ§∫"></a> 2.3.4.3: SQL ÊèêÁ§∫</h4>
<p>ÊòØ‰ºòÂåñÊï∞ÊçÆÂ∫ìÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÊâãÊÆµÔºåÁÆÄÂçïÊù•ËØ¥ÔºåÂ∞±ÊòØÂú® SQL ËØ≠Âè•‰∏≠Âä†ÂÖ•‰∏Ä‰∫õ‰∫∫‰∏∫ÁöÑÊèêÁ§∫Êù•ËææÂà∞‰ºòÂåñÊìç‰ΩúÁöÑÁõÆÁöÑ„ÄÇ</p>
<p>‰æãÂ¶ÇÔºå‰ΩøÁî®Á¥¢ÂºïÔºö<br>
<code>explain select * from tb_user use index(idx_user_pro) where profession="ËΩØ‰ª∂Â∑•Á®ã";</code><br>
‰∏ç‰ΩøÁî®Âì™‰∏™Á¥¢ÂºïÔºö<br>
<code>explain select * from tb_user ignore index(idx_user_pro) where profession="ËΩØ‰ª∂Â∑•Á®ã";</code><br>
ÂøÖÈ°ª‰ΩøÁî®Âì™‰∏™Á¥¢ÂºïÔºö<br>
<code>explain select * from tb_user force index(idx_user_pro) where profession="ËΩØ‰ª∂Â∑•Á®ã";</code></p>
<p>use ÊòØÂª∫ËÆÆÔºåÂÆûÈôÖ‰ΩøÁî®Âì™‰∏™Á¥¢Âºï MySQL Ëøò‰ºöËá™Â∑±ÊùÉË°°ËøêË°åÈÄüÂ∫¶ÂéªÊõ¥ÊîπÔºåforce Â∞±ÊòØÊó†ËÆ∫Â¶Ç‰ΩïÈÉΩÂº∫Âà∂‰ΩøÁî®ËØ•Á¥¢Âºï„ÄÇ</p>
<h4 id="2344-Ë¶ÜÁõñÁ¥¢ÂºïÂõûË°®Êü•ËØ¢"><a class="markdownIt-Anchor" href="#2344-Ë¶ÜÁõñÁ¥¢ÂºïÂõûË°®Êü•ËØ¢"></a> 2.3.4.4: Ë¶ÜÁõñÁ¥¢Âºï&amp;ÂõûË°®Êü•ËØ¢</h4>
<p>Â∞ΩÈáè‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÔºàÊü•ËØ¢‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºåÂπ∂‰∏îÈúÄË¶ÅËøîÂõûÁöÑÂàóÔºåÂú®ËØ•Á¥¢Âºï‰∏≠Â∑≤ÁªèÂÖ®ÈÉ®ËÉΩÊâæÂà∞ÔºâÔºåÂáèÂ∞ë select *„ÄÇ</p>
<p>explain ‰∏≠ extra Â≠óÊÆµÂê´‰πâÔºö<br>
<code>using index condition</code> ÔºöÊü•Êâæ‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºå‰ΩÜÊòØÈúÄË¶ÅÂõûË°®Êü•ËØ¢Êï∞ÊçÆ<br>
<code>using where; using index;</code> ÔºöÊü•Êâæ‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºå‰ΩÜÊòØÈúÄË¶ÅÁöÑÊï∞ÊçÆÈÉΩÂú®Á¥¢ÂºïÂàó‰∏≠ËÉΩÊâæÂà∞ÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢</p>
<p>Ë¶ÜÁõñÁ¥¢ÂºïÔºö<br>
Â¶ÇÊûúÂú®ÁîüÊàêÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÔºàËæÖÂä©Á¥¢ÂºïÔºâ‰∏≠ÂèØ‰ª•‰∏ÄÊ¨°ÊÄßËé∑Âæó select ÊâÄÈúÄË¶ÅÁöÑÂ≠óÊÆµÔºå‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢„ÄÇ</p>
<p>Â¶ÇÊûúÂú®ËÅöÈõÜÁ¥¢Âºï‰∏≠Áõ¥Êé•ËÉΩÊâæÂà∞ÂØπÂ∫îÁöÑË°åÔºåÂàôÁõ¥Êé•ËøîÂõûË°åÊï∞ÊçÆÔºåÂè™ÈúÄË¶Å‰∏ÄÊ¨°Êü•ËØ¢ÔºåÂì™ÊÄïÊòØ select *Ôºõ<br>
Â¶ÇÊûúÂú®ËæÖÂä©Á¥¢ÂºïÔºà‰∫åÁ∫ßÁ¥¢ÂºïÔºâ‰∏≠ÊâæËÅöÈõÜÁ¥¢ÂºïÔºåÂ¶Ç <code>select id, name from xxx where name='xxx';</code>Ôºå‰πüÂè™ÈúÄË¶ÅÈÄöËøáËæÖÂä©Á¥¢Âºï (name) Êü•ÊâæÂà∞ÂØπÂ∫îÁöÑ idÔºåËøîÂõû name Âíå name Á¥¢ÂºïÂØπÂ∫îÁöÑ id Âç≥ÂèØÔºåÂè™ÈúÄË¶Å‰∏ÄÊ¨°Êü•ËØ¢Ôºõ<br>
Â¶ÇÊûúÊòØÈÄöËøáËæÖÂä©Á¥¢ÂºïÊü•ÊâæÂÖ∂‰ªñÂ≠óÊÆµÔºåÂàôÈúÄË¶ÅÂõûË°®Êü•ËØ¢ÔºåÂ¶Ç <code>select id, name, gender from xxx where name='xxx';</code></p>
<p>ÊâÄ‰ª•Â∞ΩÈáè‰∏çË¶ÅÁî® <code>select *</code>ÔºåÂÆπÊòìÂá∫Áé∞ÂõûË°®Êü•ËØ¢ÔºåÈôç‰ΩéÊïàÁéáÔºåÈô§ÈùûÊúâËÅîÂêàÁ¥¢ÂºïÂåÖÂê´‰∫ÜÊâÄÊúâÂ≠óÊÆµ</p>
<p>Èù¢ËØïÈ¢òÔºö‰∏ÄÂº†Ë°®ÔºåÊúâÂõõ‰∏™Â≠óÊÆµÔºàid, username, password, statusÔºâÔºåÁî±‰∫éÊï∞ÊçÆÈáèÂ§ßÔºåÈúÄË¶ÅÂØπ‰ª•‰∏ã SQL ËØ≠Âè•ËøõË°å‰ºòÂåñÔºåËØ•Â¶Ç‰ΩïËøõË°åÊâçÊòØÊúÄ‰ºòÊñπÊ°àÔºö<br>
<code>select id, username, password from tb_user where username='itcast';</code></p>
<p>Ëß£ÔºöÁªô username Âíå password Â≠óÊÆµÂª∫Á´ãËÅîÂêàÁ¥¢ÂºïÔºåÂàô‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢ÔºåÁõ¥Êé•Ë¶ÜÁõñÁ¥¢Âºï„ÄÇ<br>
username Âíå password Â≠óÊÆµÂª∫Á´ãËÅîÂêàÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÊåÇÁöÑÂ∞±ÊòØ id ÊâÄ‰ª•‰∏çÈúÄË¶Å‰∏âËÄÖÂêåÊó∂Âª∫Á¥¢Âºï„ÄÇ</p>
<h4 id="2345-ÂâçÁºÄÁ¥¢Âºï"><a class="markdownIt-Anchor" href="#2345-ÂâçÁºÄÁ¥¢Âºï"></a> 2.3.4.5: ÂâçÁºÄÁ¥¢Âºï</h4>
<p>ÂΩìÂ≠óÊÆµÁ±ªÂûã‰∏∫Â≠óÁ¨¶‰∏≤Ôºàvarchar, text Á≠âÔºâÊó∂ÔºåÊúâÊó∂ÂÄôÈúÄË¶ÅÁ¥¢ÂºïÂæàÈïøÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËøô‰ºöËÆ©Á¥¢ÂºïÂèòÂæóÂæàÂ§ßÔºåÊü•ËØ¢Êó∂ÔºåÊµ™Ë¥πÂ§ßÈáèÁöÑÁ£ÅÁõò IOÔºåÂΩ±ÂìçÊü•ËØ¢ÊïàÁéáÔºåÊ≠§Êó∂ÂèØ‰ª•Âè™ÈôçÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏ÄÈÉ®ÂàÜÂâçÁºÄÔºåÂª∫Á´ãÁ¥¢ÂºïÔºåËøôÊ†∑ÂèØ‰ª•Â§ßÂ§ßËäÇÁ∫¶Á¥¢ÂºïÁ©∫Èó¥Ôºå‰ªéËÄåÊèêÈ´òÁ¥¢ÂºïÊïàÁéá„ÄÇ</p>
<p>ËØ≠Ê≥ïÔºö<code>create index idx_xxxx on table_name(columnn(n));</code><br>
ÂâçÁºÄÈïøÂ∫¶ÔºöÂèØ‰ª•Ê†πÊçÆÁ¥¢ÂºïÁöÑÈÄâÊã©ÊÄßÊù•ÂÜ≥ÂÆöÔºåËÄåÈÄâÊã©ÊÄßÊòØÊåá‰∏çÈáçÂ§çÁöÑÁ¥¢ÂºïÂÄºÔºàÂü∫Êï∞ÔºâÂíåÊï∞ÊçÆË°®ÁöÑËÆ∞ÂΩïÊÄªÊï∞ÁöÑÊØîÂÄºÔºåÁ¥¢ÂºïÈÄâÊã©ÊÄßË∂äÈ´òÂàôÊü•ËØ¢ÊïàÁéáË∂äÈ´òÔºåÂîØ‰∏ÄÁ¥¢ÂºïÁöÑÈÄâÊã©ÊÄßÊòØ 1ÔºåËøôÊòØÊúÄÂ•ΩÁöÑÁ¥¢ÂºïÈÄâÊã©ÊÄßÔºåÊÄßËÉΩ‰πüÊòØÊúÄÂ•ΩÁöÑ„ÄÇ</p>
<p>Ê±ÇÈÄâÊã©ÊÄßÂÖ¨ÂºèÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select count(distinct email) / count(*) from tb_user;<br>select count(distinct substring(email, 1, 5)) / count(*) from tb_user;<br></code></pre></td></tr></tbody></table></figure>
<p>ÂâçÁºÄÁ¥¢Âºï‰∏≠ÊòØÊúâÂèØËÉΩÁ¢∞Âà∞Áõ∏ÂêåÁöÑÁ¥¢ÂºïÁöÑÊÉÖÂÜµÁöÑÔºàÂõ†‰∏∫ÈÄâÊã©ÊÄßÂèØËÉΩ‰∏ç‰∏∫ 1ÔºâÔºåÊâÄ‰ª•‰ΩøÁî®ÂâçÁºÄÁ¥¢ÂºïËøõË°åÊü•ËØ¢ÁöÑÊó∂ÂÄôÔºåmysql ‰ºöÊúâ‰∏Ä‰∏™ÂõûË°®Êü•ËØ¢ÁöÑËøáÁ®ãÔºåÁ°ÆÂÆöÊòØÂê¶‰∏∫ÊâÄÈúÄÊï∞ÊçÆ„ÄÇÂ¶ÇÂõæ‰∏≠ÁöÑÊü•ËØ¢Âà∞ lvbu6 ‰πãÂêéËøòË¶ÅËøõË°åÂõûË°®ÔºåÂõûË°®ÂÆåÂÜçÊü• xiaoyÔºåÁúãÂà∞ xiaoy ÊòØ‰∏çÈúÄË¶ÅÁöÑÊï∞ÊçÆÔºåÂàôÂÅúÊ≠¢Êü•‰∏ã‰∏Ä‰∏™„ÄÇ</p>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/pre.png" srcset="/img/loading.gif" lazyload alt="images" title="Á¥¢ÂºïÊµÅÁ®ã"></p>
<p>show index ÈáåÈù¢ÁöÑ sub_part ÂèØ‰ª•ÁúãÂà∞Êé•ÂèñÁöÑÈïøÂ∫¶</p>
<h4 id="2346-ÂçïÂàóÁ¥¢ÂºïËÅîÂêàÁ¥¢Âºï"><a class="markdownIt-Anchor" href="#2346-ÂçïÂàóÁ¥¢ÂºïËÅîÂêàÁ¥¢Âºï"></a> 2.3.4.6: ÂçïÂàóÁ¥¢Âºï&amp;ËÅîÂêàÁ¥¢Âºï</h4>
<p>ÂçïÂàóÁ¥¢ÂºïÔºöÂç≥‰∏Ä‰∏™Á¥¢ÂºïÂè™ÂåÖÂê´Âçï‰∏™Âàó<br>
ËÅîÂêàÁ¥¢ÂºïÔºöÂç≥‰∏Ä‰∏™Á¥¢ÂºïÂåÖÂê´‰∫ÜÂ§ö‰∏™Âàó<br>
Âú®‰∏öÂä°Âú∫ÊôØ‰∏≠ÔºåÂ¶ÇÊûúÂ≠òÂú®Â§ö‰∏™Êü•ËØ¢Êù°‰ª∂ÔºåËÄÉËôëÈíàÂØπ‰∫éÊü•ËØ¢Â≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïÊó∂ÔºåÂª∫ËÆÆÂª∫Á´ãËÅîÂêàÁ¥¢ÂºïÔºåËÄåÈùûÂçïÂàóÁ¥¢Âºï„ÄÇ</p>
<p>ÂçïÂàóÁ¥¢ÂºïÊÉÖÂÜµÔºö</p>
<p><code>explain select id, phone, name from tb_user where phone = '17799990010' and name = 'Èü©‰ø°';</code><br>
phone Âíå name ÈÉΩÂª∫Á´ã‰∫ÜÁ¥¢ÂºïÊÉÖÂÜµ‰∏ãÔºåËøôÂè•Âè™‰ºöÁî®Âà∞ phone Á¥¢ÂºïÂ≠óÊÆµ„ÄÇ</p>
<p>ËÅîÂêàÁ¥¢ÂºïÁöÑÊï∞ÊçÆÁªÑÁªáÂõæÔºö</p>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/uion.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<h5 id="23461-Ê≥®ÊÑè‰∫ãÈ°π"><a class="markdownIt-Anchor" href="#23461-Ê≥®ÊÑè‰∫ãÈ°π"></a> 2.3.4.6.1: Ê≥®ÊÑè‰∫ãÈ°π</h5>
<ul>
<li>Â§öÊù°‰ª∂ËÅîÂêàÊü•ËØ¢Êó∂ÔºåMySQL ‰ºòÂåñÂô®‰ºöËØÑ‰º∞Âì™‰∏™Â≠óÊÆµÁöÑÁ¥¢ÂºïÊïàÁéáÊõ¥È´òÔºå‰ºöÈÄâÊã©ËØ•Á¥¢ÂºïÂÆåÊàêÊú¨Ê¨°Êü•ËØ¢„ÄÇ</li>
</ul>
<h3 id="235-ËÆæËÆ°ÂéüÂàô"><a class="markdownIt-Anchor" href="#235-ËÆæËÆ°ÂéüÂàô"></a> 2.3.5: ËÆæËÆ°ÂéüÂàô</h3>
<ol>
<li>ÈíàÂØπ‰∫éÊï∞ÊçÆÈáèËæÉÂ§ßÔºå‰∏îÊü•ËØ¢ÊØîËæÉÈ¢ëÁπÅÁöÑË°®Âª∫Á´ãÁ¥¢Âºï</li>
<li>ÈíàÂØπ‰∫éÂ∏∏‰Ωú‰∏∫Êü•ËØ¢Êù°‰ª∂ÔºàwhereÔºâ„ÄÅÊéíÂ∫èÔºàorder byÔºâ„ÄÅÂàÜÁªÑÔºàgroup byÔºâÊìç‰ΩúÁöÑÂ≠óÊÆµÂª∫Á´ãÁ¥¢Âºï</li>
<li>Â∞ΩÈáèÈÄâÊã©Âå∫ÂàÜÂ∫¶È´òÁöÑÂàó‰Ωú‰∏∫Á¥¢ÂºïÔºåÂ∞ΩÈáèÂª∫Á´ãÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂå∫ÂàÜÂ∫¶Ë∂äÈ´òÔºå‰ΩøÁî®Á¥¢ÂºïÁöÑÊïàÁéáË∂äÈ´ò</li>
<li>Â¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂ≠óÊÆµÔºåÂ≠óÊÆµÈïøÂ∫¶ËæÉÈïøÔºåÂèØ‰ª•ÈíàÂØπ‰∫éÂ≠óÊÆµÁöÑÁâπÁÇπÔºåÂª∫Á´ãÂâçÁºÄÁ¥¢Âºï</li>
<li>Â∞ΩÈáè‰ΩøÁî®ËÅîÂêàÁ¥¢ÂºïÔºåÂáèÂ∞ëÂçïÂàóÁ¥¢ÂºïÔºåÊü•ËØ¢Êó∂ÔºåËÅîÂêàÁ¥¢ÂºïÂæàÂ§öÊó∂ÂÄôÂèØ‰ª•Ë¶ÜÁõñÁ¥¢ÂºïÔºåËäÇÁúÅÂ≠òÂÇ®Á©∫Èó¥ÔºåÈÅøÂÖçÂõûË°®ÔºåÊèêÈ´òÊü•ËØ¢ÊïàÁéá</li>
<li>Ë¶ÅÊéßÂà∂Á¥¢ÂºïÁöÑÊï∞ÈáèÔºåÁ¥¢ÂºïÂπ∂‰∏çÊòØÂ§öÂ§öÁõäÂñÑÔºåÁ¥¢ÂºïË∂äÂ§öÔºåÁª¥Êä§Á¥¢ÂºïÁªìÊûÑÁöÑ‰ª£‰ª∑Â∞±Ë∂äÂ§ßÔºå‰ºöÂΩ±ÂìçÂ¢ûÂà†ÊîπÁöÑÊïàÁéá</li>
<li>Â¶ÇÊûúÁ¥¢ÂºïÂàó‰∏çËÉΩÂ≠òÂÇ® NULL ÂÄºÔºåËØ∑Âú®ÂàõÂª∫Ë°®Êó∂‰ΩøÁî® NOT NULL Á∫¶ÊùüÂÆÉ„ÄÇÂΩì‰ºòÂåñÂô®Áü•ÈÅìÊØèÂàóÊòØÂê¶ÂåÖÂê´ NULL ÂÄºÊó∂ÔºåÂÆÉÂèØ‰ª•Êõ¥Â•ΩÂú∞Á°ÆÂÆöÂì™‰∏™Á¥¢ÂºïÊúÄÊúâÊïàÂú∞Áî®‰∫éÊü•ËØ¢</li>
</ol>
<h2 id="24-sql-‰ºòÂåñ"><a class="markdownIt-Anchor" href="#24-sql-‰ºòÂåñ"></a> 2.4: SQL ‰ºòÂåñ</h2>
<h3 id="241-ÊèíÂÖ•Êï∞ÊçÆ"><a class="markdownIt-Anchor" href="#241-ÊèíÂÖ•Êï∞ÊçÆ"></a> 2.4.1: ÊèíÂÖ•Êï∞ÊçÆ</h3>
<p>ÊôÆÈÄöÊèíÂÖ•Ôºö</p>
<ol>
<li>ÈááÁî®ÊâπÈáèÊèíÂÖ•Ôºà‰∏ÄÊ¨°ÊèíÂÖ•ÁöÑÊï∞ÊçÆ‰∏çÂª∫ËÆÆË∂ÖËøá 1000 Êù°Ôºå500 - 1000 ‰∏∫ÂÆúÔºâ</li>
<li>ÊâãÂä®Êèê‰∫§‰∫ãÂä°</li>
<li>‰∏ªÈîÆÈ°∫Â∫èÊèíÂÖ•Ôºà‰∏ªÈîÆÈ°∫Â∫èÊèíÂÖ•ÁöÑÊïàÁéáÂ§ß‰∫é‰π±Â∫èÊèíÂÖ•Ôºâ</li>
</ol>
<p>Â§ßÊâπÈáèÊèíÂÖ•Ôºö<br>
Â¶ÇÊûú‰∏ÄÊ¨°ÊÄßÈúÄË¶ÅÊèíÂÖ•Â§ßÊâπÈáèÊï∞ÊçÆÔºå‰ΩøÁî® insert ËØ≠Âè•ÊèíÂÖ•ÊÄßËÉΩËæÉ‰ΩéÔºåÊ≠§Êó∂ÂèØ‰ª•‰ΩøÁî® MySQL Êï∞ÊçÆÂ∫ìÊèê‰æõÁöÑ load Êåá‰ª§ÊèíÂÖ•„ÄÇ</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># ÂÆ¢Êà∑Á´ØËøûÊé•ÊúçÂä°Á´ØÊó∂ÔºåÂä†‰∏äÂèÇÊï∞ --local-infileÔºàËøô‰∏ÄË°åÂú®bash/cmdÁïåÈù¢ËæìÂÖ•Ôºâ<br>mysql --local-infile -u root -p<br># ËÆæÁΩÆÂÖ®Â±ÄÂèÇÊï∞local_infile‰∏∫1ÔºåÂºÄÂêØ‰ªéÊú¨Âú∞Âä†ËΩΩÊñá‰ª∂ÂØºÂÖ•Êï∞ÊçÆÁöÑÂºÄÂÖ≥<br>set global local_infile = 1;<br>select @@local_infile;<br># ÊâßË°åloadÊåá‰ª§Â∞ÜÂáÜÂ§áÂ•ΩÁöÑÊï∞ÊçÆÔºåÂä†ËΩΩÂà∞Ë°®ÁªìÊûÑ‰∏≠ÔºåÂÖàË¶ÅÊääË°®Âª∫Á´ãËµ∑Êù•„ÄÇ<br>load data local infile '/root/sql1.log' into table 'tb_user' fields terminated by ',' lines terminated by '\n';<br></code></pre></td></tr></tbody></table></figure>
<h3 id="242-‰∏ªÈîÆ‰ºòÂåñ"><a class="markdownIt-Anchor" href="#242-‰∏ªÈîÆ‰ºòÂåñ"></a> 2.4.2: ‰∏ªÈîÆ‰ºòÂåñ</h3>
<p>Êï∞ÊçÆÁªÑÁªáÊñπÂºèÔºöÂú® InnoDB Â≠òÂÇ®ÂºïÊìé‰∏≠ÔºåË°®Êï∞ÊçÆÈÉΩÊòØÊ†πÊçÆ‰∏ªÈîÆÈ°∫Â∫èÁªÑÁªáÂ≠òÊîæÁöÑÔºåËøôÁßçÂ≠òÂÇ®ÊñπÂºèÁöÑË°®Áß∞‰∏∫Á¥¢ÂºïÁªÑÁªáË°®ÔºàIndex organized table, IOTÔºâ</p>
<p>‰∏ªÈîÆÁöÑÈ°∫Â∫èÁöÑÊèíÂÖ•ËøáÁ®ãÂ¶Ç‰∏ãÔºö</p>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/keySort.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<p>‰ΩÜÊòØÂ¶ÇÊûú‰∏ªÈîÆÊòØ‰π±Â∫èÊèíÂÖ•ÁöÑËØùÔºåÂ∞±‰ºöÂØºËá¥ÈúÄË¶ÅÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ‰∏∫‰∏≠Èó¥ÁöÑ‰ΩçÁΩÆÔºå‰ºöÊúâÈ°µÂàÜË£ÇÁöÑËøáÁ®ã„ÄÇ</p>
<p>È°µÂàÜË£ÇÔºöÈ°µÂèØ‰ª•‰∏∫Á©∫Ôºå‰πüÂèØ‰ª•Â°´ÂÖÖ‰∏ÄËà¨Ôºå‰πüÂèØ‰ª•Â°´ÂÖÖ 100%ÔºåÊØè‰∏™È°µÂåÖÂê´‰∫Ü 2-N Ë°åÊï∞ÊçÆÔºàÂ¶ÇÊûú‰∏ÄË°åÊï∞ÊçÆËøáÂ§ßÔºå‰ºöË°åÊ∫¢Âá∫ÔºâÔºåÊ†πÊçÆ‰∏ªÈîÆÊéíÂàó„ÄÇ</p>
<p>È°µÂêàÂπ∂ÔºöÂΩìÂà†Èô§‰∏ÄË°åËÆ∞ÂΩïÊó∂ÔºåÂÆûÈôÖ‰∏äËÆ∞ÂΩïÂπ∂Ê≤°ÊúâË¢´Áâ©ÁêÜÂà†Èô§ÔºåÂè™ÊòØËÆ∞ÂΩïË¢´Ê†áËÆ∞ÔºàflagedÔºâ‰∏∫Âà†Èô§Âπ∂‰∏îÂÆÉÁöÑÁ©∫Èó¥ÂèòÂæóÂÖÅËÆ∏Ë¢´ÂÖ∂‰ªñËÆ∞ÂΩïÂ£∞Êòé‰ΩøÁî®„ÄÇÂΩìÈ°µ‰∏≠Âà†Èô§ÁöÑËÆ∞ÂΩïÂà∞Ëææ MERGE_THRESHOLDÔºàÈªòËÆ§‰∏∫È°µÁöÑ 50%ÔºâÔºåInnoDB ‰ºöÂºÄÂßãÂØªÊâæÊúÄÈù†ËøëÁöÑÈ°µÔºàÂâçÂêéÔºâÁúãÁúãÊòØÂê¶ÂèØ‰ª•Â∞ÜËøô‰∏§‰∏™È°µÂêàÂπ∂‰ª•‰ºòÂåñÁ©∫Èó¥‰ΩøÁî®„ÄÇ</p>
<p>MERGE_THRESHOLDÔºöÂêàÂπ∂È°µÁöÑÈòàÂÄºÔºåÂèØ‰ª•Ëá™Â∑±ËÆæÁΩÆÔºåÂú®ÂàõÂª∫Ë°®ÊàñÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆö</p>
<blockquote>
<p>ÊñáÂ≠óËØ¥Êòé‰∏çÂ§üÊ∏ÖÊô∞Êòé‰∫ÜÔºåÂÖ∑‰ΩìÂèØ‰ª•ÁúãËßÜÈ¢ëÈáåÁöÑ PPT ÊºîÁ§∫ËøáÁ®ãÔºö<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90</a></p>
</blockquote>
<p>‰∏ªÈîÆËÆæËÆ°ÂéüÂàôÔºö</p>
<ul>
<li>Êª°Ë∂≥‰∏öÂä°ÈúÄÊ±ÇÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞ΩÈáèÈôç‰Ωé‰∏ªÈîÆÁöÑÈïøÂ∫¶Ôºå‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπ‰øùÂ≠òÁöÑÂ∞±ÊòØ‰∏ªÈîÆÔºåÊâÄ‰ª•‰∏ªÈîÆÂ∞èÂç†Áî®ÁöÑÁ©∫Èó¥‰πüÂ∞±‰ºöÂ∞ë„ÄÇ</li>
<li>ÊèíÂÖ•Êï∞ÊçÆÊó∂ÔºåÂ∞ΩÈáèÈÄâÊã©È°∫Â∫èÊèíÂÖ•ÔºåÈÄâÊã©‰ΩøÁî® AUTO_INCREMENT Ëá™Â¢û‰∏ªÈîÆ</li>
<li>Â∞ΩÈáè‰∏çË¶Å‰ΩøÁî® UUID ÂÅö‰∏ªÈîÆÊàñËÄÖÊòØÂÖ∂‰ªñÁöÑËá™ÁÑ∂‰∏ªÈîÆÔºåÂ¶ÇË∫´‰ªΩËØÅÂè∑ÔºåÂç†Áî®ÁöÑÁ©∫Èó¥Â§ß„ÄÇ</li>
<li>‰∏öÂä°Êìç‰ΩúÊó∂ÔºåÈÅøÂÖçÂØπ‰∏ªÈîÆÁöÑ‰øÆÊîπ</li>
</ul>
<h3 id="243-order-by-‰ºòÂåñ"><a class="markdownIt-Anchor" href="#243-order-by-‰ºòÂåñ"></a> 2.4.3: order by ‰ºòÂåñ</h3>
<ol>
<li>Using filesortÔºöÈÄöËøáË°®ÁöÑÁ¥¢ÂºïÊàñÂÖ®Ë°®Êâ´ÊèèÔºåËØªÂèñÊª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞ÊçÆË°åÔºåÁÑ∂ÂêéÂú®ÊéíÂ∫èÁºìÂÜ≤Âå∫ sort buffer ‰∏≠ÂÆåÊàêÊéíÂ∫èÊìç‰ΩúÔºåÊâÄÊúâ‰∏çÊòØÈÄöËøáÁ¥¢ÂºïÁõ¥Êé•ËøîÂõûÊéíÂ∫èÁªìÊûúÁöÑÊéíÂ∫èÈÉΩÂè´ FileSort ÊéíÂ∫è</li>
<li>Using indexÔºöÈÄöËøáÊúâÂ∫èÁ¥¢ÂºïÈ°∫Â∫èÊâ´ÊèèÁõ¥Êé•ËøîÂõûÊúâÂ∫èÊï∞ÊçÆÔºåËøôÁßçÊÉÖÂÜµÂç≥‰∏∫ using indexÔºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÊéíÂ∫èÔºåÊìç‰ΩúÊïàÁéáÈ´ò</li>
</ol>
<p>Â¶ÇÊûú order by Â≠óÊÆµÂÖ®ÈÉ®‰ΩøÁî®ÂçáÂ∫èÊéíÂ∫èÊàñËÄÖÈôçÂ∫èÊéíÂ∫èÔºåÂàôÈÉΩ‰ºöËµ∞Á¥¢ÂºïÔºå‰ΩÜÊòØÂ¶ÇÊûú‰∏Ä‰∏™Â≠óÊÆµÂçáÂ∫èÊéíÂ∫èÔºåÂè¶‰∏Ä‰∏™Â≠óÊÆµÈôçÂ∫èÊéíÂ∫èÔºåÂàô‰∏ç‰ºöËµ∞Á¥¢ÂºïÔºåexplain ÁöÑ extra ‰ø°ÊÅØÊòæÁ§∫ÁöÑÊòØ <code>Using index, Using filesort</code>ÔºåÂ¶ÇÊûúË¶Å‰ºòÂåñÊéâ Using filesortÔºåÂàôÈúÄË¶ÅÂè¶Â§ñÂÜçÂàõÂª∫‰∏Ä‰∏™Á¥¢ÂºïÔºåÂ¶ÇÔºö<code>create index idx_user_age_phone_ad on tb_user(age asc, phone desc);</code>ÔºåÊ≠§Êó∂‰ΩøÁî® <code>select id, age, phone from tb_user order by age asc, phone desc;</code> ‰ºöÂÖ®ÈÉ®Ëµ∞Á¥¢Âºï</p>
<p>ÊÄªÁªìÔºö</p>
<ul>
<li>Ê†πÊçÆÊéíÂ∫èÂ≠óÊÆµÂª∫Á´ãÂêàÈÄÇÁöÑÁ¥¢ÂºïÔºåÂ§öÂ≠óÊÆµÊéíÂ∫èÊó∂Ôºå‰πüÈÅµÂæ™ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô</li>
<li>Â∞ΩÈáè‰ΩøÁî®Ë¶ÜÁõñÁ¥¢Âºï</li>
<li>Â§öÂ≠óÊÆµÊéíÂ∫èÔºå‰∏Ä‰∏™ÂçáÂ∫è‰∏Ä‰∏™ÈôçÂ∫èÔºåÊ≠§Êó∂ÈúÄË¶ÅÊ≥®ÊÑèËÅîÂêàÁ¥¢ÂºïÂú®ÂàõÂª∫Êó∂ÁöÑËßÑÂàôÔºàASC/DESCÔºâ</li>
<li>Â¶ÇÊûú‰∏çÂèØÈÅøÂÖçÂá∫Áé∞ filesortÔºåÂ§ßÊï∞ÊçÆÈáèÊéíÂ∫èÊó∂ÔºåÂèØ‰ª•ÈÄÇÂΩìÂ¢ûÂ§ßÊéíÂ∫èÁºìÂÜ≤Âå∫Â§ßÂ∞è sort_buffer_sizeÔºàÈªòËÆ§ 256kÔºâ</li>
</ul>
<h3 id="244-group-by-‰ºòÂåñ"><a class="markdownIt-Anchor" href="#244-group-by-‰ºòÂåñ"></a> 2.4.4: group by ‰ºòÂåñ</h3>
<ul>
<li>Âú®ÂàÜÁªÑÊìç‰ΩúÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÁ¥¢ÂºïÊù•ÊèêÈ´òÊïàÁéá</li>
<li>ÂàÜÁªÑÊìç‰ΩúÊó∂ÔºåÁ¥¢ÂºïÁöÑ‰ΩøÁî®‰πüÊòØÊª°Ë∂≥ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÁöÑ</li>
</ul>
<p>Â¶ÇÁ¥¢Âºï‰∏∫ <code>idx_user_pro_age_stat</code>ÔºåÂàôÂè•ÂºèÂèØ‰ª•ÊòØ <code>select ... where profession order by age</code>ÔºåËøôÊ†∑‰πüÁ¨¶ÂêàÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô</p>
<h3 id="245-limit-‰ºòÂåñ"><a class="markdownIt-Anchor" href="#245-limit-‰ºòÂåñ"></a> 2.4.5: limit ‰ºòÂåñ</h3>
<p>Â∏∏ËßÅÁöÑÈóÆÈ¢òÂ¶Ç <code>limit 2000000, 10</code>ÔºåÊ≠§Êó∂ÈúÄË¶Å MySQL ÊéíÂ∫èÂâç 2000000 Êù°ËÆ∞ÂΩïÔºå‰ΩÜ‰ªÖ‰ªÖËøîÂõû 2000000 - 2000010 ÁöÑËÆ∞ÂΩïÔºåÂÖ∂‰ªñËÆ∞ÂΩï‰∏¢ÂºÉÔºåÊü•ËØ¢ÊéíÂ∫èÁöÑ‰ª£‰ª∑ÈùûÂ∏∏Â§ß„ÄÇ<br>
‰ºòÂåñÊñπÊ°àÔºö‰∏ÄËà¨ÂàÜÈ°µÊü•ËØ¢Êó∂ÔºåÈÄöËøáÂàõÂª∫Ë¶ÜÁõñÁ¥¢ÂºïËÉΩÂ§üÊØîËæÉÂ•ΩÂú∞ÊèêÈ´òÊÄßËÉΩÔºåÂèØ‰ª•ÈÄöËøáË¶ÜÁõñÁ¥¢ÂºïÂä†Â≠êÊü•ËØ¢ÂΩ¢ÂºèËøõË°å‰ºòÂåñ</p>
<p>‰æãÂ¶ÇÔºö</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- Ê≠§ËØ≠Âè•ËÄóÊó∂ÂæàÈïø<br>select * from tb_sku limit 9000000, 10;<br>-- ÈÄöËøáË¶ÜÁõñÁ¥¢ÂºïÂä†Âø´ÈÄüÂ∫¶ÔºåÁõ¥Êé•ÈÄöËøá‰∏ªÈîÆÁ¥¢ÂºïËøõË°åÊéíÂ∫èÂèäÊü•ËØ¢<br>select id from tb_sku order by id limit 9000000, 10;<br>-- ‰∏ãÈù¢ÁöÑËØ≠Âè•ÊòØÈîôËØØÁöÑÔºåÂõ†‰∏∫ MySQL ‰∏çÊîØÊåÅ in ÈáåÈù¢‰ΩøÁî® limit<br>-- select * from tb_sku where id in (select id from tb_sku order by id limit 9000000, 10);<br>-- ÈÄöËøáËøûË°®Êü•ËØ¢Âç≥ÂèØÂÆûÁé∞Á¨¨‰∏ÄÂè•ÁöÑÊïàÊûúÔºåÂπ∂‰∏îËÉΩËææÂà∞Á¨¨‰∫åÂè•ÁöÑÈÄüÂ∫¶<br>select * from tb_sku as s, (select id from tb_sku order by id limit 9000000, 10) as a where s.id = a.id;<br></code></pre></td></tr></tbody></table></figure>
<h3 id="246-count-‰ºòÂåñ"><a class="markdownIt-Anchor" href="#246-count-‰ºòÂåñ"></a> 2.4.6: count ‰ºòÂåñ</h3>
<p>MyISAM ÂºïÊìéÊää‰∏Ä‰∏™Ë°®ÁöÑÊÄªË°åÊï∞Â≠òÂú®‰∫ÜÁ£ÅÁõò‰∏äÔºåÂõ†Ê≠§ÊâßË°å count (*) ÁöÑÊó∂ÂÄô‰ºöÁõ¥Êé•ËøîÂõûËøô‰∏™Êï∞ÔºåÊïàÁéáÂæàÈ´òÔºàÂâçÊèêÊòØ‰∏çÈÄÇÁî® whereÔºâÔºõ<br>
InnoDB Âú®ÊâßË°å count (*) Êó∂ÔºåÈúÄË¶ÅÊääÊï∞ÊçÆ‰∏ÄË°å‰∏ÄË°åÂú∞‰ªéÂºïÊìéÈáåÈù¢ËØªÂá∫Êù•ÔºåÁÑ∂ÂêéÁ¥ØËÆ°ËÆ°Êï∞„ÄÇ<br>
‰ºòÂåñÊñπÊ°àÔºöËá™Â∑±ËÆ°Êï∞ÔºåÂ¶ÇÂàõÂª∫ key-value Ë°®Â≠òÂÇ®Âú®ÂÜÖÂ≠òÊàñÁ°¨ÁõòÔºåÊàñËÄÖÊòØÁî® redis</p>
<p>count ÁöÑÂá†ÁßçÁî®Ê≥ïÔºö</p>
<ul>
<li>Â¶ÇÊûú count ÂáΩÊï∞ÁöÑÂèÇÊï∞Ôºàcount ÈáåÈù¢ÂÜôÁöÑÈÇ£‰∏™Â≠óÊÆµÔºâ‰∏çÊòØ NULLÔºàÂ≠óÊÆµÂÄº‰∏ç‰∏∫ NULLÔºâÔºåÁ¥ØËÆ°ÂÄºÂ∞±Âä†‰∏ÄÔºåÊúÄÂêéËøîÂõûÁ¥ØËÆ°ÂÄº</li>
<li>Áî®Ê≥ïÔºöcount (*)„ÄÅcount (‰∏ªÈîÆ)„ÄÅcount (Â≠óÊÆµ)„ÄÅcount (1)</li>
<li>count (‰∏ªÈîÆ) Ë∑ü count (*) ‰∏ÄÊ†∑ÔºåÂõ†‰∏∫‰∏ªÈîÆ‰∏çËÉΩ‰∏∫Á©∫Ôºõcount (Â≠óÊÆµ) Âè™ËÆ°ÁÆóÂ≠óÊÆµÂÄº‰∏ç‰∏∫ NULL ÁöÑË°åÔºõcount (1) ÂºïÊìé‰ºö‰∏∫ÊØèË°åÊ∑ªÂä†‰∏Ä‰∏™ 1ÔºåÁÑ∂ÂêéÂ∞± count Ëøô‰∏™ 1ÔºåËøîÂõûÁªìÊûú‰πüË∑ü count (*) ‰∏ÄÊ†∑Ôºõcount (null) ËøîÂõû 0</li>
</ul>
<p>ÂêÑÁßçÁî®Ê≥ïÁöÑÊÄßËÉΩÔºö</p>
<ul>
<li>count (‰∏ªÈîÆ)ÔºöInnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÔºåÊääÊØèË°åÁöÑ‰∏ªÈîÆ id ÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±ÇÔºåÊúçÂä°Â±ÇÊãøÂà∞‰∏ªÈîÆÂêéÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†Ôºà‰∏ªÈîÆ‰∏çÂèØËÉΩ‰∏∫Á©∫Ôºâ</li>
<li>count (Â≠óÊÆµ)ÔºöÊ≤°Êúâ not null Á∫¶ÊùüÁöÑËØùÔºåInnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÊääÊØè‰∏ÄË°åÁöÑÂ≠óÊÆµÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±ÇÔºåÊúçÂä°Â±ÇÂà§Êñ≠ÊòØÂê¶‰∏∫ nullÔºå‰∏ç‰∏∫ nullÔºåËÆ°Êï∞Á¥ØÂä†ÔºõÊúâ not null Á∫¶ÊùüÁöÑËØùÔºåInnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÊääÊØè‰∏ÄË°åÁöÑÂ≠óÊÆµÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±ÇÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†</li>
<li>count (1)ÔºöInnoDB ÂºïÊìéÈÅçÂéÜÊï¥Âº†Ë°®Ôºå‰ΩÜ‰∏çÂèñÂÄº„ÄÇÊúçÂä°Â±ÇÂØπ‰∫éËøîÂõûÁöÑÊØè‰∏ÄÂ±ÇÔºåÊîæ‰∏Ä‰∏™Êï∞Â≠ó 1 ËøõÂéªÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†</li>
<li>count (*)ÔºöInnoDB ÂºïÊìéÂπ∂‰∏ç‰ºöÊääÂÖ®ÈÉ®Â≠óÊÆµÂèñÂá∫Êù•ÔºåËÄåÊòØ‰∏ìÈó®ÂÅö‰∫Ü‰ºòÂåñÔºå‰∏çÂèñÂÄºÔºåÊúçÂä°Â±ÇÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†</li>
</ul>
<p>ÊåâÊïàÁéáÊéíÂ∫èÔºöcount (Â≠óÊÆµ) &lt; count (‰∏ªÈîÆ) &lt; count (1) &lt; count (*)ÔºåÊâÄ‰ª•Â∞ΩÈáè‰ΩøÁî® count (*)</p>
<h3 id="247-update-‰ºòÂåñÈÅøÂÖçË°åÈîÅÂçáÁ∫ß‰∏∫Ë°®ÈîÅ"><a class="markdownIt-Anchor" href="#247-update-‰ºòÂåñÈÅøÂÖçË°åÈîÅÂçáÁ∫ß‰∏∫Ë°®ÈîÅ"></a> 2.4.7: update ‰ºòÂåñÔºàÈÅøÂÖçË°åÈîÅÂçáÁ∫ß‰∏∫Ë°®ÈîÅÔºâ</h3>
<p>InnoDB ÁöÑË°åÈîÅÊòØÈíàÂØπÁ¥¢ÂºïÂä†ÁöÑÈîÅÔºå‰∏çÊòØÈíàÂØπËÆ∞ÂΩïÂä†ÁöÑÈîÅÔºåÂπ∂‰∏îËØ•Á¥¢Âºï‰∏çËÉΩÂ§±ÊïàÔºåÂê¶Âàô‰ºö‰ªéË°åÈîÅÂçáÁ∫ß‰∏∫Ë°®ÈîÅ„ÄÇ</p>
<p>Â¶Ç‰ª•‰∏ã‰∏§Êù°ËØ≠Âè•Ôºö<br>
<code>update student set no = '123' where id = 1;</code>ÔºåËøôÂè•Áî±‰∫é id Êúâ‰∏ªÈîÆÁ¥¢ÂºïÔºåÊâÄ‰ª•Âè™‰ºöÈîÅËøô‰∏ÄË°åÔºõ<br>
<code>update student set no = '123' where name = 'test';</code>ÔºåËøôÂè•Áî±‰∫é name Ê≤°ÊúâÁ¥¢ÂºïÔºåÊâÄ‰ª•‰ºöÊääÊï¥Âº†Ë°®ÈÉΩÈîÅ‰ΩèËøõË°åÊï∞ÊçÆÊõ¥Êñ∞ÔºåËß£ÂÜ≥ÊñπÊ≥ïÊòØÁªô name Â≠óÊÆµÊ∑ªÂä†Á¥¢ÂºïÔºåÂ∞±ÂèØ‰ª•Áî±Ë°®ÈîÅÂèòÊàêË°åÈîÅ„ÄÇ</p>
<h2 id="25-ËßÜÂõæ"><a class="markdownIt-Anchor" href="#25-ËßÜÂõæ"></a> 2.5: ËßÜÂõæ</h2>
<p>ËßÜÂõæÔºàViewÔºâÊòØ‰∏ÄÁßçËôöÊãüÂ≠òÂú®ÁöÑË°®„ÄÇËßÜÂõæ‰∏≠ÁöÑÊï∞ÊçÆÂπ∂‰∏çÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÂÆûÈôÖÂ≠òÂú®ÔºåË°åÂíåÂàóÊï∞ÊçÆÊù•Ëá™ÂÆö‰πâËßÜÂõæÁöÑÊü•ËØ¢‰∏≠‰ΩøÁî®ÁöÑË°®ÔºåÂπ∂‰∏îÊòØÂú®‰ΩøÁî®ËßÜÂõæÊó∂Âä®ÊÄÅÁîüÊàêÁöÑ„ÄÇ<br>
ÈÄö‰øóÁöÑËÆ≤ÔºåËßÜÂõæÂè™‰øùÂ≠ò‰∫ÜÊü•ËØ¢ÁöÑ SQL ÈÄªËæëÔºå‰∏ç‰øùÂ≠òÊü•ËØ¢ÁªìÊûú„ÄÇÊâÄ‰ª•Êàë‰ª¨Âú®ÂàõÂª∫ËßÜÂõæÁöÑÊó∂ÂÄôÔºå‰∏ªË¶ÅÁöÑÂ∑•‰ΩúÂ∞±ËêΩÂú®ÂàõÂª∫ËøôÊù° SQL Êü•ËØ¢ËØ≠Âè•‰∏ä„ÄÇ</p>
<h3 id="251-ÂàõÂª∫ËßÜÂõæ"><a class="markdownIt-Anchor" href="#251-ÂàõÂª∫ËßÜÂõæ"></a> 2.5.1: ÂàõÂª∫ËßÜÂõæ</h3>
<p><code>CREATE [ OR REPLACE ] VIEW ËßÜÂõæÂêçÁß∞[ÔºàÂàóÂêçÂàóË°®Ôºâ] AS SELECT ËØ≠Âè• [ WITH [ CASCADED | LOCAL ] CHECK OPTION ]</code></p>
<blockquote>
<p>‰æãÂ≠êÔºö <code>create or replace view stu_wll as select id,name from student where id&lt;=10;</code></p>
</blockquote>
<h3 id="252-Êü•ËØ¢ËßÜÂõæ"><a class="markdownIt-Anchor" href="#252-Êü•ËØ¢ËßÜÂõæ"></a> 2.5.2: Êü•ËØ¢ËßÜÂõæ</h3>
<p>Êü•ÁúãÂàõÂª∫ËßÜÂõæËØ≠Âè•Ôºö <code>SHOW CREATE VIEW</code> ËßÜÂõæÂêçÁß∞Ôºõ</p>
<p>Êü•ÁúãËßÜÂõæÊï∞ÊçÆÔºö<code>SELECT*FROM</code> ËßÜÂõæÂêçÁß∞Ôºõ<br>
<code>show create view stu_v_1;</code></p>
<h3 id="253-‰øÆÊîπËßÜÂõæ"><a class="markdownIt-Anchor" href="#253-‰øÆÊîπËßÜÂõæ"></a> 2.5.3: ‰øÆÊîπËßÜÂõæ</h3>
<p>ÊñπÂºè‰∏ÄÔºö<code>CREATE[OR REPLACE] VIEW ËßÜÂõæÂêçÁß∞[ÔºàÂàóÂêçÂàóË°®)Ôºâ] AS SELECT ËØ≠Âè•[ WITH[ CASCADED | LOCAL ] CHECK OPTION ]</code></p>
<p>ÊñπÂºè‰∫åÔºö<code>ALTER VIEW ËßÜÂõæÂêçÁß∞ [ÔºàÂàóÂêçÂàóË°®)] AS SELECTËØ≠Âè• [WITH [CASCADED | LOCAL] CHECK OPTION]</code></p>
<h3 id="254-Âà†Èô§ËßÜÂõæ"><a class="markdownIt-Anchor" href="#254-Âà†Èô§ËßÜÂõæ"></a> 2.5.4: Âà†Èô§ËßÜÂõæ</h3>
<p><code>DROP VIEW [IF EXISTS] ËßÜÂõæÂêçÁß∞ [ËßÜÂõæÂêçÁß∞]</code></p>
<h3 id="255-ËßÜÂõæÊ£ÄÊü•ÈÄâÈ°π"><a class="markdownIt-Anchor" href="#255-ËßÜÂõæÊ£ÄÊü•ÈÄâÈ°π"></a> 2.5.5: ËßÜÂõæÊ£ÄÊü•ÈÄâÈ°π</h3>
<p>ÂΩì‰ΩøÁî® WITH CHECK QPTION Â≠êÂè•ÂàõÂª∫ËßÜÂõæÊó∂ÔºåMySQL ‰ºöÈÄöËøáËßÜÂõæÊ£ÄÊü•Ê≠£Âú®Êõ¥ÊîπÁöÑÊØè‰∏™Ë°åÔºå‰æãÂ¶ÇÊèíÂÖ•ÔºåÊõ¥Êñ∞ÔºåÂà†Èô§Ôºå‰ª•‰ΩøÂÖ∂Á¨¶ÂêàËßÜÂõæÁöÑÂÆö‰πâ„ÄÇMySQL ÂÖÅËÆ∏Âü∫‰∫éÂè¶‰∏Ä‰∏™ËßÜÂõæÂàõÂª∫ËßÜÂõæÔºåÂÆÉËøò‰ºöÊ£ÄÊü•‰æùËµñËßÜÂõæ‰∏≠ÁöÑËßÑÂàô‰ª•‰øùÊåÅ‰∏ÄËá¥ÊÄß„ÄÇ‰∏∫‰∫ÜÁ°ÆÂÆöÊ£ÄÊü•ÁöÑËåÉÂõ¥Ôºåmysql Êèê‰æõ‰∫Ü‰∏§‰∏™ÈÄâÈ°πÔºöCASCADED Âíå LOCAL ÔºåÈªòËÆ§ÂÄº‰∏∫ CASCADED„ÄÇ</p>
<p>NOTEÔºöÂ¶ÇÊûúÊ≤°ÊúâÂºÄÊ£ÄÊü•ÈÄâÈ°πÂ∞±‰∏ç‰ºöËøõË°åÊ£ÄÊü•„ÄÇ‰∏çÂêåÁâàÊú¨ÊòØ‰∏çÂêåÂê´‰πâÁöÑÔºåË¶ÅÁúãÁâàÊú¨„ÄÇ</p>
<h4 id="2551-cascaded"><a class="markdownIt-Anchor" href="#2551-cascaded"></a> 2.5.5.1: CASCADED</h4>
<p><code>Á∫ßËÅîÔºå‰∏ÄÊó¶ÈÄâÊã©‰∫ÜËøô‰∏™ÈÄâÈ°πÔºåÈô§‰∫Ü‰ºöÊ£ÄÊü•ÂàõÂª∫ËßÜÂõæÊó∂ÂÄôÁöÑÊù°‰ª∂ÔºåËøò‰ºöÊ£ÄÊü•ÊâÄ‰æùËµñËßÜÂõæÁöÑÊù°‰ª∂„ÄÇ</code></p>
<blockquote>
<p>ÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºöÂàõÂª∫ stu_V_l ËßÜÂõæÔºåid ÊòØÂ∞è‰∫éÁ≠â‰∫é 20 ÁöÑ„ÄÇ<br>
<code>create or replace view stu_V_l as select id,name from student where id &lt;=20;</code><br>
ÂÜçÂàõÂª∫ stu_v_2 ËßÜÂõæÔºå20 &gt;= id &gt;=10„ÄÇ<br>
<code>create or replace view stu_v_2 as select id,name from stu_v_1 where id &gt;=10 with cascaded check option;</code><br>
ÂÜçÂàõÂª∫ stu_v_3 ËßÜÂõæ„ÄÇ<br>
<code>create or replace view stu_v_3 as select id,name from stu_v_2 where id&lt;=15;</code><br>
ËøôÊù°Êï∞ÊçÆËÉΩÂ§üÊàêÂäüÔºåstu_v_3 Ê≤°ÊúâÂºÄÊ£ÄÊü•ÈÄâÈ°πÊâÄ‰ª•‰∏ç‰ºöÂéªÂà§Êñ≠ id ÊòØÂê¶Â∞è‰∫éÁ≠â‰∫é 15, Áõ¥Êé•Ê£ÄÊü•ÊòØÂê¶Êª°Ë∂≥ stu_v_2„ÄÇ<br>
<code>insert into stu_v_3 values(17,'Tom');</code></p>
</blockquote>
<h4 id="2552-local"><a class="markdownIt-Anchor" href="#2552-local"></a> 2.5.5.2: LOCAL</h4>
<p>Êú¨Âú∞ÁöÑÊù°‰ª∂‰πü‰ºöÊ£ÄÊü•ÔºåËøò‰ºöÂêë‰∏äÊ£ÄÊü•„ÄÇÂú®Âêë‰∏äÊâæÁöÑÊó∂ÂÄôÔºåÂ∞±Ë¶ÅÁúãÊòØÂê¶‰∏äÈù¢ÂºÄ‰∫ÜÊ£ÄÊü•ÈÄâÈ°πÔºåÂ¶ÇÊûúÊ≤°ÂºÄÂ∞±‰∏çÊ£ÄÊü•„ÄÇÂíå CASCADED ÁöÑÂå∫Âà´Â∞±ÊòØ CASCADED ‰∏çÁÆ°‰∏äÈù¢ÂºÄÊ≤°ÂºÄÊ£ÄÊü•ÈÄâÈ°πÈÉΩ‰ºöËøõË°åÊ£ÄÊü•„ÄÇ</p>
<h3 id="256-Êõ¥Êñ∞Âèä‰ΩúÁî®"><a class="markdownIt-Anchor" href="#256-Êõ¥Êñ∞Âèä‰ΩúÁî®"></a> 2.5.6: Êõ¥Êñ∞Âèä‰ΩúÁî®</h3>
<p>Ë¶Å‰ΩøËßÜÂõæÂèØÊõ¥Êñ∞ÔºåËßÜÂõæ‰∏≠ÁöÑË°å‰∏éÂü∫Á°ÄË°®‰∏≠ÁöÑË°å‰πãÈó¥ÂøÖÈ°ªÂ≠òÂú®‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥Á≥ª„ÄÇÂ¶ÇÊûúËßÜÂõæÂåÖÂê´‰ª•‰∏ã‰ªª‰Ωï‰∏ÄÈ°πÔºåÂàôËØ•ËßÜÂõæ‰∏çÂèØÊõ¥Êñ∞</p>
<ol>
<li>ËÅöÂêàÂáΩÊï∞ÊàñÁ™óÂè£ÂáΩÊï∞ ( SUM ()„ÄÅMIN ()„ÄÅMAX ()„ÄÅCOUNT () Á≠â )</li>
<li>DISTINCT</li>
<li>GROUP BY</li>
<li>HAVING</li>
<li>UNION ÊàñËÄÖ UNION ALL</li>
</ol>
<blockquote>
<p>‰æãÂ≠êÔºö ‰ΩøÁî®‰∫ÜËÅöÂêàÂáΩÊï∞ÔºåÊèíÂÖ•‰ºöÂ§±Ë¥•„ÄÇ<br>
<code>create view stu_v_count as select count(*) from student;</code><br>
<code>insert into stu_v_count values(10);</code></p>
</blockquote>
<p>‰ΩúÁî®</p>
<p>ËßÜÂõæ‰∏ç‰ªÖÂèØ‰ª•ÁÆÄÂåñÁî®Êà∑ÂØπÊï∞ÊçÆÁöÑÁêÜËß£Ôºå‰πüÂèØ‰ª•ÁÆÄÂåñ‰ªñ‰ª¨ÁöÑÊìç‰Ωú„ÄÇÈÇ£‰∫õË¢´ÁªèÂ∏∏‰ΩøÁî®ÁöÑÊü•ËØ¢ÂèØ‰ª•Ë¢´ÂÆö‰πâ‰∏∫ËßÜÂõæÔºå‰ªéËÄå‰ΩøÂæóÁî®Êà∑‰∏çÂøÖ‰∏∫‰ª•ÂêéÁöÑÊìç‰ΩúÊØèÊ¨°ÊåáÂÆöÂÖ®ÈÉ®ÁöÑÊù°‰ª∂„ÄÇ</p>
<blockquote>
<p>ÂÆâÂÖ®<br>
Êï∞ÊçÆÂ∫ìÂèØ‰ª•ÊéàÊùÉÔºå‰ΩÜ‰∏çËÉΩÊéàÊùÉÂà∞Êï∞ÊçÆÂ∫ìÁâπÂÆöË°åÂíåÁâπÂÆöÁöÑÂàó‰∏ä„ÄÇÈÄöËøáËßÜÂõæÁî®Êà∑Âè™ËÉΩÊü•ËØ¢Âíå‰øÆÊîπ‰ªñ‰ª¨ÊâÄËÉΩËßÅÂà∞ÁöÑÊï∞ÊçÆ<br>
Êï∞ÊçÆÁã¨Á´ã<br>
ËßÜÂõæÂèØÂ∏ÆÂä©Áî®Êà∑Â±èËîΩÁúüÂÆûË°®ÁªìÊûÑÂèòÂåñÂ∏¶Êù•ÁöÑÂΩ±Âìç„ÄÇ</p>
</blockquote>
<p>ÊÄªËÄåË®Ä‰πãÁ±ª‰ºº‰∫éÁªôË°®Âä†‰∏ä‰∫Ü‰∏Ä‰∏™Â§ñÂ£≥ÔºåÈÄöËøáËøô‰∏™Â§ñÂ£≥ËÆøÈóÆË°®ÁöÑÊó∂ÂÄôÔºåÂè™ËÉΩÊåâÁÖßÊâÄËÆæËÆ°ÁöÑÊñπÂºèËøõË°åËÆøÈóÆ‰∏éÊõ¥Êñ∞„ÄÇ</p>
<h2 id="26-Â≠òÂÇ®ËøáÁ®ã"><a class="markdownIt-Anchor" href="#26-Â≠òÂÇ®ËøáÁ®ã"></a> 2.6: Â≠òÂÇ®ËøáÁ®ã</h2>
<p>Â≠òÂÇ®ËøáÁ®ãÊòØ‰∫ãÂÖàÁªèËøáÁºñËØëÂπ∂Â≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏ÄÊÆµ SQL ËØ≠Âè•ÁöÑÈõÜÂêàÔºåË∞ÉÁî®Â≠òÂÇ®ËøáÁ®ãÂèØ‰ª•ÁÆÄÂåñÂ∫îÁî®ÂºÄÂèë‰∫∫ÂëòÁöÑÂæàÂ§öÂ∑•‰ΩúÔºåÂáèÂ∞ëÊï∞ÊçÆÂú®Êï∞ÊçÆÂ∫ìÂíåÂ∫îÁî®ÊúçÂä°Âô®‰πãÈó¥ÁöÑ‰º†ËæìÔºåÂØπ‰∫éÊèêÈ´òÊï∞ÊçÆÂ§ÑÁêÜÁöÑÊïàÁéáÊòØÊúâÂ•ΩÂ§ÑÁöÑ„ÄÇ<br>
Â≠òÂÇ®ËøáÁ®ãÊÄùÊÉ≥‰∏äÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÊï∞ÊçÆÂ∫ì SQL ËØ≠Ë®ÄÂ±ÇÈù¢ÁöÑ‰ª£Á†ÅÂ∞ÅË£Ö‰∏éÈáçÁî®„ÄÇ</p>
<p>ÁâπÁÇπ</p>
<ol>
<li>Â∞ÅË£Ö</li>
<li>Â§çÁî®</li>
<li>ÂèØ‰ª•Êé•Êî∂ÂèÇÊï∞Ôºå‰πüÂèØ‰ª•ËøîÂõûÊï∞ÊçÆÂáèÂ∞ëÁΩëÁªú‰∫§‰∫íÔºåÊïàÁéáÊèêÂçá</li>
</ol>
<h3 id="261-ÂàõÂª∫"><a class="markdownIt-Anchor" href="#261-ÂàõÂª∫"></a> 2.6.1: ÂàõÂª∫</h3>
<pre><code class="hljs">CREATE PROCEDURE Â≠òÂÇ®ËøáÁ®ãÂêçÁß∞( [ÂèÇÊï∞ÂàóË°®] ) 

BEGIN

	 SQL ËØ≠Âè• 

END;
</code></pre>
<p>NOTE: Âú®ÂëΩ‰ª§Ë°å‰∏≠ÔºåÊâßË°åÂàõÂª∫Â≠òÂÇ®ËøáÁ®ãÁöÑ SQL Êó∂ÔºåÈúÄË¶ÅÈÄöËøáÂÖ≥ÈîÆÂ≠ó delimiter ÊåáÂÆö SQL ËØ≠Âè•ÁöÑÁªìÊùüÁ¨¶„ÄÇÈªòËÆ§ÊòØÂàÜÂè∑‰Ωú‰∏∫ÁªìÊùüÁ¨¶„ÄÇ</p>
<p>delimiter $ ÔºåÂàô $ Á¨¶‰Ωú‰∏∫ÁªìÊùüÁ¨¶„ÄÇ</p>
<h3 id="262-Ë∞ÉÁî®"><a class="markdownIt-Anchor" href="#262-Ë∞ÉÁî®"></a> 2.6.2: Ë∞ÉÁî®</h3>
<p>CALL ÂêçÁß∞ ( [ÂèÇÊï∞])</p>
<h3 id="263-Êü•Áúã"><a class="markdownIt-Anchor" href="#263-Êü•Áúã"></a> 2.6.3: Êü•Áúã</h3>
<p>Êü•ËØ¢ÊåáÂÆöÊï∞ÊçÆÂ∫ìÁöÑÂ≠òÂÇ®ËøáÁ®ãÂèäÁä∂ÊÄÅ‰ø°ÊÅØ</p>
<p><code>SELECT* FROM INFORMATION_SCHEMA.ROUTINES WHERE ROUTINE_SCHEMA = 'xxx'</code></p>
<p>Â≠òÂÇ®ËøáÁ®ãÂêçÁß∞Ôºõ‚ÄìÊü•ËØ¢Êüê‰∏™Â≠òÂÇ®ËøáÁ®ãÁöÑÂÆö‰πâ</p>
<p><code>SHOW CREATE PROCEDURE</code></p>
<h3 id="264-Âà†Èô§"><a class="markdownIt-Anchor" href="#264-Âà†Èô§"></a> 2.6.4: Âà†Èô§</h3>
<p><code>DROP PROCEDURE [ IFEXISTS ] Â≠òÂÇ®ËøáÁ®ãÂêçÁß∞</code></p>
<h3 id="265-Ê∏∏Ê†á"><a class="markdownIt-Anchor" href="#265-Ê∏∏Ê†á"></a> 2.6.5: Ê∏∏Ê†á</h3>
<p>Ê∏∏Ê†áÔºàCURSORÔºâÊòØÁî®Êù•Â≠òÂÇ®Êü•ËØ¢ÁªìÊûúÈõÜÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÂú®Â≠òÂÇ®ËøáÁ®ãÂíåÂáΩÊï∞‰∏≠ÂèØ‰ª•‰ΩøÁî®Ê∏∏Ê†áÂØπÁªìÊûúÈõÜËøõË°åÂæ™ÁéØÁöÑÂ§ÑÁêÜ„ÄÇÊ∏∏Ê†áÁöÑ‰ΩøÁî®ÂåÖÊã¨Ê∏∏Ê†áÁöÑÂ£∞Êòé„ÄÅOPEN„ÄÅFETCH Âíå CLOSEÔºåÂÖ∂ËØ≠Ê≥ïÂàÜÂà´Â¶Ç‰∏ã„ÄÇ</p>
<blockquote>
<p>Â£∞ÊòéÊ∏∏Ê†áÔºö<br>
<code>DECLARE Ê∏∏Ê†áÂêçÁß∞ CURSOR FOR Êü•ËØ¢ËØ≠Âè•</code></p>
</blockquote>
<blockquote>
<p>ÊâìÂºÄÊ∏∏Ê†áÔºö<br>
<code>OPEN Ê∏∏Ê†áÂêçÁß∞</code></p>
</blockquote>
<blockquote>
<p>Ëé∑ÂèñÊ∏∏Ê†áËÆ∞ÂΩïÔºö<br>
<code>FETCH Ê∏∏Ê†áÂêçÁß∞INTOÂèòÈáè[ÂèòÈáè]</code></p>
</blockquote>
<p>Êù°‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºö<br>
Êù°‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºàHandlerÔºâÂèØ‰ª•Áî®Êù•ÂÆö‰πâÂú®ÊµÅÁ®ãÊéßÂà∂ÁªìÊûÑÊâßË°åËøáÁ®ã‰∏≠ÈÅáÂà∞ÈóÆÈ¢òÊó∂Áõ∏Â∫îÁöÑÂ§ÑÁêÜÊ≠•È™§„ÄÇÂÖ∑‰ΩìËØ≠Ê≥ï‰∏∫Ôºö</p>
<blockquote>
<p>DECLARE handler action HANDLER FOR condition value L condition value]‚Ä¶statement</p>
</blockquote>
<p>handler_action CONTINUEÔºöÁªßÁª≠ÊâßË°åÂΩìÂâçÁ®ãÂ∫è</p>
<p>EXITÔºöÁªàÊ≠¢ÊâßË°åÂΩìÂâçÁ®ãÂ∫è</p>
<p>condition_value :</p>
<p><code>SQLSTATE sqlstate_valueÔºöÁä∂ÊÄÅÁ†ÅÔºåÂ¶Ç02000</code></p>
<p><code>SQLWARNINGÔºöÊâÄÊúâ‰ª•01ÂºÄÂ§¥ÁöÑSQLSTATE‰ª£Á†ÅÁöÑÁÆÄÂÜô</code></p>
<p><code>NOT FOUNDÔºöÊâÄÊúâ‰ª•02ÂºÄÂ§¥ÁöÑSQLSTATE‰ª£Á†ÅÁöÑÁÆÄÂÜô</code></p>
<p><code>SQLEXCEPTIONÔºöÊâÄÊúâÊ≤°ÊúâË¢´SQLWARNINGÊàñNOT FOUNDÊçïËé∑ÁöÑSQLSTATE‰ª£Á†ÅÁöÑÁÆÄÂÜô</code></p>
<p>‰æãÂ≠êÔºö</p>
<p>NOTEÔºöË¶ÅÂÖàÂ£∞ÊòéÊôÆÈÄöÂèòÈáèÔºåÂÜçÁî≥ËØ∑Ê∏∏Ê†á„ÄÇ</p>
<p>Ë¶ÅÊ±ÇÔºö<br>
<code>Ê†πÊçÆ‰º†ÂÖ•ÁöÑÂèÇÊï∞uageÔºåÊù•Êü•ËØ¢Áî®Êà∑Ë°®tb_user‰∏≠ÔºåÊâÄÊúâÁöÑÁî®Êà∑Âπ¥ÈæÑÂ∞è‰∫éÁ≠â‰∫éuageÁöÑÁî®Êà∑ÂßìÂêçÔºànameÔºâÂíå‰∏ì‰∏öÔºàprofessionÔºâÔºåÂπ∂Â∞ÜÁî®Êà∑ÁöÑÂßìÂêçÂíå‰∏ì‰∏öÊèíÂÖ•Âà∞ÊâÄÂàõÂª∫ÁöÑ‰∏ÄÂº†Êñ∞Ë°®ÔºàidÔºånameÔºåprofessionÔºâ‰∏≠„ÄÇ</code></p>
<pre><code class="hljs">create procedure p1l (in uage int)

	begin

		declare uname varchar(100); 

		decLare upro varchar(100);

		declare u_cursor cursor for select name,profession from tb_user where age &lt;= uage; 

		ÂΩì Êù°‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑÂ§ÑÁêÜÁöÑÁä∂ÊÄÅÁ†Å‰∏∫02000ÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöÈÄÄÂá∫„ÄÇ
		declare exit handler for SQLSTATE '02000'close u_cursor;

		drop table if exists tb_user_pro; 

		create table if not exists tb_user_pro(

		id int primary key auto_increment, 

		name varchar (100), 

		profession varchar(100)

		);

		open u_cursor; 

		while true do 

		fetch u_cursor into uname,Upro; 

		insert into tb_user_pro values(null,uname,Upro); 

		end while;

		close u_cursor; 

	end;
</code></pre>
<h2 id="27-Ëß¶ÂèëÂô®"><a class="markdownIt-Anchor" href="#27-Ëß¶ÂèëÂô®"></a> 2.7: Ëß¶ÂèëÂô®</h2>
<p>‰ªãÁªç<br>
Ëß¶ÂèëÂô®ÊòØ‰∏éË°®ÊúâÂÖ≥ÁöÑÊï∞ÊçÆÂ∫ìÂØπË±°ÔºåÊåáÂú® insert/update/delete ‰πãÂâçÊàñ‰πãÂêéÔºåËß¶ÂèëÂπ∂ÊâßË°åËß¶ÂèëÂô®‰∏≠ÂÆö‰πâÁöÑ SQL ËØ≠Âè•ÈõÜÂêà„ÄÇËß¶ÂèëÂô®ÁöÑËøôÁßçÁâπÊÄßÂèØ‰ª•ÂçèÂä©Â∫îÁî®Âú®Êï∞ÊçÆÂ∫ìÁ´ØÁ°Æ‰øùÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÊó•ÂøóËÆ∞ÂΩïÔºåÊï∞ÊçÆÊ†°È™åÁ≠âÊìç‰Ωú„ÄÇ<br>
‰ΩøÁî®Âà´Âêç OLD Âíå NEW Êù•ÂºïÁî®Ëß¶ÂèëÂô®‰∏≠ÂèëÁîüÂèòÂåñÁöÑËÆ∞ÂΩïÂÜÖÂÆπÔºåËøô‰∏éÂÖ∂‰ªñÁöÑÊï∞ÊçÆÂ∫ìÊòØÁõ∏‰ººÁöÑ„ÄÇÁé∞Âú®Ëß¶ÂèëÂô®ËøòÂè™ÊîØÊåÅË°åÁ∫ßËß¶ÂèëÔºàÊØîÂ¶ÇËØ¥‰∏ÄÊù°ËØ≠Âè•ÂΩ±Âìç‰∫Ü 5 Ë°åÂàô‰ºöË¢´Ëß¶Âèë 5 Ê¨°ÔºâÔºå‰∏çÊîØÊåÅËØ≠Âè•Á∫ßËß¶ÂèëÔºàÊØîÂ¶ÇËØ¥‰∏ÄÊù°ËØ≠Âè•ÂΩ±Âìç‰∫Ü 5 Ë°åÂàô‰ºöË¢´Ëß¶Âèë 1 Ê¨°Ôºâ„ÄÇ</p>
<table>
<thead>
<tr>
<th>Ëß¶ÂèëÂô®Á±ªÂûã</th>
<th>NEW Âíå OLD</th>
</tr>
</thead>
<tbody>
<tr>
<td>INSERT</td>
<td>NEW Ë°®Á§∫Â∞ÜË¶ÅÊàñËÄÖÂ∑≤ÁªèÊñ∞Â¢ûÁöÑÊï∞ÊçÆ</td>
</tr>
<tr>
<td>UPDATE</td>
<td>OLD Ë°®Á§∫‰øÆÊîπ‰πãÂâçÁöÑÊï∞ÊçÆÔºåNEW Ë°®Á§∫Â∞ÜË¶ÅÊàñÂ∑≤Áªè‰øÆÊîπÂêéÁöÑÊï∞ÊçÆ</td>
</tr>
<tr>
<td>DELETE</td>
<td>OLD Ë°®Á§∫Â∞ÜË¶ÅÊàñËÄÖÂ∑≤ÁªèÂà†Èô§ÁöÑÊï∞ÊçÆ</td>
</tr>
</tbody>
</table>
<h2 id="28-ÈîÅ"><a class="markdownIt-Anchor" href="#28-ÈîÅ"></a> 2.8: ÈîÅ</h2>
<p>ÈîÅÊòØËÆ°ÁÆóÊú∫ÂçèË∞ÉÂ§ö‰∏™ËøõÁ®ãÊàñÁ∫øÁ®ãÂπ∂ÂèëËÆøÈóÆÊüê‰∏ÄËµÑÊ∫êÁöÑÊú∫Âà∂„ÄÇÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÈô§‰º†ÁªüÁöÑËÆ°ÁÆóËµÑÊ∫êÔºàCPU„ÄÅRAM„ÄÅI/OÔºâÁöÑ‰∫âÁî®‰ª•Â§ñÔºåÊï∞ÊçÆ‰πüÊòØ‰∏ÄÁßç‰æõËÆ∏Â§öÁî®Êà∑ÂÖ±‰∫´ÁöÑËµÑÊ∫ê„ÄÇÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆÂπ∂ÂèëËÆøÈóÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÅÊúâÊïàÊÄßÊòØÊâÄÊúâÊï∞ÊçÆÂ∫ìÂøÖÈ°ªËß£ÂÜ≥ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÈîÅÂÜ≤Á™Å‰πüÊòØÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÂπ∂ÂèëËÆøÈóÆÊÄßËÉΩÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂõ†Á¥†„ÄÇ‰ªéËøô‰∏™ËßíÂ∫¶Êù•ËØ¥ÔºåÈîÅÂØπÊï∞ÊçÆÂ∫ìËÄåË®ÄÊòæÂæóÂ∞§ÂÖ∂ÈáçË¶ÅÔºå‰πüÊõ¥Âä†Â§çÊùÇ„ÄÇ</p>
<p>NOTE : ÈíàÂØπ‰∫ãÁâ©ÊâçÊúâÂä†ÈîÅÁöÑÊÑè‰πâ„ÄÇ</p>
<p>ÂàÜÁ±ªÔºöMySQL ‰∏≠ÁöÑÈîÅÔºåÊåâÁÖßÈîÅÁöÑÁ≤íÂ∫¶ÂàÜÔºåÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ol>
<li>ÂÖ®Â±ÄÈîÅÔºöÈîÅÂÆöÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊâÄÊúâË°®„ÄÇ</li>
<li>Ë°®Á∫ßÈîÅÔºöÊØèÊ¨°Êìç‰ΩúÈîÅ‰ΩèÊï¥Âº†Ë°®„ÄÇ</li>
<li>Ë°åÁ∫ßÈîÅÔºöÊØèÊ¨°Êìç‰ΩúÈîÅ‰ΩèÂØπÂ∫îÁöÑË°åÊï∞ÊçÆ„ÄÇ</li>
</ol>
<p>ÂÖ®Â±ÄÈîÅÔºö</p>
<p>ÂÖ®Â±ÄÈîÅÂ∞±ÊòØÂØπÊï¥‰∏™Êï∞ÊçÆÂ∫ìÂÆû‰æãÂä†ÈîÅÔºåÂä†ÈîÅÂêéÊï¥‰∏™ÂÆû‰æãÂ∞±Â§Ñ‰∫éÂè™ËØªÁä∂ÊÄÅÔºåÂêéÁª≠ÁöÑ DML ÁöÑÂÜôËØ≠Âè•ÔºåDDL ËØ≠Âè•ÔºåÂ∑≤ÁªèÊõ¥Êñ∞Êìç‰ΩúÁöÑ‰∫ãÂä°Êèê‰∫§ËØ≠Âè•ÈÉΩÂ∞ÜË¢´ÈòªÂ°û„ÄÇ<br>
ÂÖ∂ÂÖ∏ÂûãÁöÑ‰ΩøÁî®Âú∫ÊôØÊòØÂÅöÂÖ®Â∫ìÁöÑÈÄªËæëÂ§á‰ªΩÔºåÂØπÊâÄÊúâÁöÑË°®ËøõË°åÈîÅÂÆöÔºå‰ªéËÄåËé∑Âèñ‰∏ÄËá¥ÊÄßËßÜÂõæÔºå‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß„ÄÇ</p>
<p>Ë°®ÈîÅÔºö</p>
<p>Ë°®Á∫ßÈîÅÔºåÊØèÊ¨°Êìç‰ΩúÈîÅ‰ΩèÊï¥Âº†Ë°®„ÄÇÈîÅÂÆöÁ≤íÂ∫¶Â§ßÔºåÂèëÁîüÈîÅÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÊúÄÈ´òÔºåÂπ∂ÂèëÂ∫¶ÊúÄ‰Ωé„ÄÇÂ∫îÁî®Âú® MyISAM„ÄÅInnoDB„ÄÅBDB Á≠âÂ≠òÂÇ®ÂºïÊìé‰∏≠„ÄÇ</p>
<p>ÂØπ‰∫éË°®Á∫ßÈîÅÔºå‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ol>
<li>
<p>Ë°®ÈîÅÔºöÂØπ‰∫éË°®ÈîÅÔºåÂàÜ‰∏∫‰∏§Á±ªÔºö1. Ë°®ÂÖ±‰∫´ËØªÈîÅÔºàread lockÔºâÊâÄÊúâÁöÑ‰∫ãÁâ©ÈÉΩÂè™ËÉΩËØªÔºàÂΩìÂâçÂä†ÈîÅÁöÑÂÆ¢Êà∑Á´Ø‰πüÂè™ËÉΩËØªÔºå‰∏çËÉΩÂÜôÔºâÔºå‰∏çËÉΩÂÜô 2. Ë°®Áã¨Âç†ÂÜôÈîÅÔºàwrite lockÔºâÔºåÂØπÂΩìÂâçÂä†ÈîÅÁöÑÂÆ¢Êà∑Á´ØÔºåÂèØËØªÂèØÂÜôÔºåÂØπ‰∫éÂÖ∂‰ªñÁöÑÂÆ¢Êà∑Á´ØÔºå‰∏çÂèØËØª‰πü‰∏çÂèØÂÜô„ÄÇ<br>
ËØªÈîÅ‰∏ç‰ºöÈòªÂ°ûÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÁöÑËØªÔºå‰ΩÜÊòØ‰ºöÈòªÂ°ûÂÜô„ÄÇÂÜôÈîÅÊó¢‰ºöÈòªÂ°ûÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÁöÑËØªÔºåÂèà‰ºöÈòªÂ°ûÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÁöÑÂÜô„ÄÇ</p>
</li>
<li>
<p>ÂÖÉÊï∞ÊçÆÈîÅÔºàmeta data lockÔºåMDLÔºâÔºåMDL Âä†ÈîÅËøáÁ®ãÊòØÁ≥ªÁªüËá™Âä®ÊéßÂà∂ÔºåÊó†ÈúÄÊòæÂºè‰ΩøÁî®ÔºåÂú®ËÆøÈóÆ‰∏ÄÂº†Ë°®ÁöÑÊó∂ÂÄô‰ºöËá™Âä®Âä†‰∏ä„ÄÇMDL ÈîÅ‰∏ªË¶Å‰ΩúÁî®ÊòØÁª¥Êä§Ë°®ÂÖÉÊï∞ÊçÆÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåÂú®Ë°®‰∏äÊúâÊ¥ªÂä®‰∫ãÂä°ÁöÑÊó∂ÂÄôÔºå‰∏çÂèØ‰ª•ÂØπÂÖÉÊï∞ÊçÆËøõË°åÂÜôÂÖ•Êìç‰Ωú„ÄÇÂú® MySQL5.5 ‰∏≠ÂºïÂÖ•‰∫Ü MDLÔºåÂΩìÂØπ‰∏ÄÂº†Ë°®ËøõË°åÂ¢ûÂà†ÊîπÊü•ÁöÑÊó∂ÂÄôÔºåÂä† MDL ËØªÈîÅÔºàÂÖ±‰∫´Ôºâ; ÂΩìÂØπË°®ÁªìÊûÑËøõË°åÂèòÊõ¥Êìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂä† MDL ÂÜôÈîÅÔºàÊéí‰ªñÔºâ„ÄÇ</p>
</li>
<li>
<p>ÊÑèÂêëÈîÅ: ‰∏∫‰∫ÜÈÅøÂÖç DML Âú®ÊâßË°åÊó∂ÔºåÂä†ÁöÑË°åÈîÅ‰∏éË°®ÈîÅÁöÑÂÜ≤Á™ÅÔºåÂú® InnoDB ‰∏≠ÂºïÂÖ•‰∫ÜÊÑèÂêëÈîÅÔºå‰ΩøÂæóË°®ÈîÅ‰∏çÁî®Ê£ÄÊü•ÊØèË°åÊï∞ÊçÆÊòØÂê¶Âä†ÈîÅÔºå‰ΩøÁî®ÊÑèÂêëÈîÅÊù•ÂáèÂ∞ëË°®ÈîÅÁöÑÊ£ÄÊü•„ÄÇ<br>
‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂØπÊüê‰∏ÄË°åÂä†‰∏ä‰∫ÜË°åÈîÅÔºåÈÇ£‰πàÁ≥ªÁªü‰πü‰ºöÂØπÂÖ∂Âä†‰∏ä‰∏Ä‰∏™ÊÑèÂêëÈîÅÔºåÂΩìÂà´ÁöÑÂÆ¢Êà∑Á´ØÊù•ÊÉ≥Ë¶ÅÂØπÂÖ∂Âä†‰∏äË°®ÈîÅÊó∂Ôºå‰æø‰ºöÊ£ÄÊü•ÊÑèÂêëÈîÅÊòØÂê¶ÂÖºÂÆπÔºåËã•ÊòØ‰∏çÂÖºÂÆπÔºå‰æø‰ºöÈòªÂ°ûÁõ¥Âà∞ÊÑèÂêëÈîÅÈáäÊîæ„ÄÇ</p>
</li>
</ol>
<p>ÊÑèÂêëÈîÅÂÖºÂÆπÊÄßÔºö</p>
<ol>
<li>ÊÑèÂêëÂÖ±‰∫´ÈîÅÔºàISÔºâÔºö‰∏éË°®ÈîÅÂÖ±‰∫´ÈîÅÔºàreadÔºâÂÖºÂÆπÔºå‰∏éË°®ÈîÅÊéíÂÆÉÈîÅÔºàwriteÔºâ‰∫íÊñ•„ÄÇ</li>
<li>ÊÑèÂêëÊéí‰ªñÈîÅÔºàlXÔºâÔºö‰∏éË°®ÈîÅÂÖ±‰∫´ÈîÅÔºàreadÔºâÂèäÊéíÂÆÉÈîÅÔºàwriteÔºâÈÉΩ‰∫íÊñ•„ÄÇÊÑèÂêëÈîÅ‰πãÈó¥‰∏ç‰ºö‰∫íÊñ•„ÄÇ</li>
</ol>
<p>Ë°åÈîÅÔºö</p>
<p>Ë°åÁ∫ßÈîÅÔºåÊØèÊ¨°Êìç‰ΩúÈîÅ‰ΩèÂØπÂ∫îÁöÑË°åÊï∞ÊçÆ„ÄÇÈîÅÂÆöÁ≤íÂ∫¶ÊúÄÂ∞èÔºåÂèëÁîüÈîÅÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÊúÄ‰ΩéÔºåÂπ∂ÂèëÂ∫¶ÊúÄÈ´ò„ÄÇÂ∫îÁî®Âú® InnoDB Â≠òÂÇ®ÂºïÊìé‰∏≠„ÄÇ<br>
InnoDB ÁöÑÊï∞ÊçÆÊòØÂü∫‰∫éÁ¥¢ÂºïÁªÑÁªáÁöÑÔºåË°åÈîÅÊòØÈÄöËøáÂØπÁ¥¢Âºï‰∏äÁöÑÁ¥¢ÂºïÈ°πÂä†ÈîÅÊù•ÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÂØπËÆ∞ÂΩïÂä†ÁöÑÈîÅ„ÄÇÂØπ‰∫éË°åÁ∫ßÈîÅÔºå‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ol>
<li>Ë°åÈîÅÔºàRecord LockÔºâÔºöÈîÅÂÆöÂçï‰∏™Ë°åËÆ∞ÂΩïÁöÑÈîÅÔºåÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°ÂØπÊ≠§Ë°åËøõË°å update Âíå delete„ÄÇÂú® RCÔºàread commit Ôºâ„ÄÅRRÔºàrepeat readÔºâÈöîÁ¶ªÁ∫ßÂà´‰∏ãÈÉΩÊîØÊåÅ„ÄÇ</li>
<li>Èó¥ÈöôÈîÅÔºàGapLockÔºâÔºöÈîÅÂÆöÁ¥¢ÂºïËÆ∞ÂΩïÈó¥ÈöôÔºà‰∏çÂê´ËØ•ËÆ∞ÂΩïÔºâÔºåÁ°Æ‰øùÁ¥¢ÂºïËÆ∞ÂΩïÈó¥Èöô‰∏çÂèòÔºåÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°Âú®Ëøô‰∏™Èó¥ÈöôËøõË°å insertÔºå‰∫ßÁîüÂπªËØª„ÄÇÂú® RR ÈöîÁ¶ªÁ∫ßÂà´‰∏ãÈÉΩÊîØÊåÅ„ÄÇÊØîÂ¶ÇËØ¥‰∏§‰∏™‰∏¥ËøëÂè∂Â≠êËäÇÁÇπ‰∏∫ 15 23ÔºåÈÇ£‰πàÈó¥ÈöôÂ∞±ÊòØÊåá [15 , 23], ÈîÅÁöÑÊòØËøô‰∏™Èó¥Èöô„ÄÇ</li>
<li>‰∏¥ÈîÆÈîÅÔºàNext-Key LockÔºâÔºöË°åÈîÅÂíåÈó¥ÈöôÈîÅÁªÑÂêàÔºåÂêåÊó∂ÈîÅ‰ΩèÊï∞ÊçÆÔºåÂπ∂ÈîÅ‰ΩèÊï∞ÊçÆÂâçÈù¢ÁöÑÈó¥Èöô Gap„ÄÇÂú® RR ÈöîÁ¶ªÁ∫ßÂà´‰∏ãÊîØÊåÅ„ÄÇ</li>
</ol>
<p>InnoDB ÂÆûÁé∞‰∫Ü‰ª•‰∏ã‰∏§ÁßçÁ±ªÂûãÁöÑË°åÈîÅÔºö</p>
<ol>
<li>ÂÖ±‰∫´ÈîÅÔºàSÔºâÔºöÂÖÅËÆ∏‰∏Ä‰∏™‰∫ãÂä°ÂéªËØª‰∏ÄË°åÔºåÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Ëé∑ÂæóÁõ∏ÂêåÊï∞ÊçÆÈõÜÁöÑÊéíÂÆÉÈîÅ„ÄÇ</li>
<li>Êéí‰ªñÈîÅÔºàXÔºâÔºöÂÖÅËÆ∏Ëé∑ÂèñÊéí‰ªñÈîÅÁöÑ‰∫ãÂä°Êõ¥Êñ∞Êï∞ÊçÆÔºåÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Ëé∑ÂæóÁõ∏ÂêåÊï∞ÊçÆÈõÜÁöÑÂÖ±‰∫´ÈîÅÂíåÊéí‰ªñÈîÅ„ÄÇ</li>
</ol>
<table>
<thead>
<tr>
<th>SQL</th>
<th>Ë°åÈîÅÁ±ªÂûã</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>insert</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>update</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>delete</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>select</td>
<td>‰∏çÂä†‰ªª‰ΩïÈîÅ</td>
<td></td>
</tr>
<tr>
<td>select„ÄÄlock„ÄÄin„ÄÄshare mode</td>
<td>Êéí‰ªñÈîÅ</td>
<td>ÈúÄË¶ÅÊâãÂä®Âú® SELECT ‰πãÂêéÂä† LOCK IN SHARE MODE</td>
</tr>
<tr>
<td>select„ÄÄfor„ÄÄupdate</td>
<td>Êéí‰ªñÈîÅ</td>
<td>ÈúÄË¶ÅÊâãÂä®Âú® SELECT ‰πãÂêéÂä† FOR UPDATE</td>
</tr>
</tbody>
</table>
<p>Ë°åÈîÅ - ÊºîÁ§∫</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåInnoDB Âú® REPEATABLE READ ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ËøêË°åÔºåInnoDB ‰ΩøÁî® next-key ÈîÅËøõË°åÊêúÁ¥¢ÂíåÁ¥¢ÂºïÊâ´ÊèèÔºå‰ª•Èò≤Ê≠¢ÂπªËØª„ÄÇ</p>
<ol>
<li>ÈíàÂØπÂîØ‰∏ÄÁ¥¢ÂºïËøõË°åÊ£ÄÁ¥¢Êó∂ÔºåÂØπÂ∑≤Â≠òÂú®ÁöÑËÆ∞ÂΩïËøõË°åÁ≠âÂÄºÂåπÈÖçÊó∂ÔºåÂ∞Ü‰ºöËá™Âä®‰ºòÂåñ‰∏∫Ë°åÈîÅ„ÄÇ</li>
<li>InnoDB ÁöÑË°åÈîÅÊòØÈíàÂØπ‰∫éÁ¥¢ÂºïÂä†ÁöÑÈîÅÔºå‰∏çÈÄöËøáÁ¥¢ÂºïÊù°‰ª∂Ê£ÄÁ¥¢Êï∞ÊçÆÔºåÈÇ£‰πà InnoDB Â∞ÜÂØπË°®‰∏≠ÁöÑÊâÄÊúâËÆ∞ÂΩïÂä†ÈîÅÔºåÊ≠§Êó∂Â∞±‰ºöÂçáÁ∫ß‰∏∫Ë°®ÈîÅ„ÄÇ</li>
</ol>
<p>Èó¥ÈöôÈîÅ/‰∏¥ÈîÆÈîÅ-ÊºîÁ§∫</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåInnoDB Âú® REPEATABLE READ ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ËøêË°åÔºåInnoDB ‰ΩøÁî® next-key ÈîÅËøõË°åÊêúÁ¥¢ÂíåÁ¥¢ÂºïÊâ´ÊèèÔºå‰ª•Èò≤Ê≠¢ÂπªËØª„ÄÇ</p>
<ol>
<li>Á¥¢Âºï‰∏äÁöÑÁ≠âÂÄºÊü•ËØ¢ÔºàÂîØ‰∏ÄÁ¥¢ÂºïÔºâÔºåÁªô‰∏çÂ≠òÂú®ÁöÑËÆ∞ÂΩïÂä†ÈîÅÊó∂Ôºå‰ºòÂåñ‰∏∫Èó¥ÈöôÈîÅ„ÄÇ</li>
<li>Á¥¢Âºï‰∏äÁöÑÁ≠âÂÄºÊü•ËØ¢ÔºàÊôÆÈÄöÁ¥¢ÂºïÔºâÔºåÂêëÂè≥ÈÅçÂéÜÊó∂ÊúÄÂêé‰∏Ä‰∏™ÂÄº‰∏çÊª°Ë∂≥Êü•ËØ¢ÈúÄÊ±ÇÊó∂Ôºånext-key lock ÈÄÄÂåñ‰∏∫Èó¥ÈöôÈîÅ„ÄÇ</li>
<li>Á¥¢Âºï‰∏äÁöÑËåÉÂõ¥Êü•ËØ¢ÔºàÂîØ‰∏ÄÁ¥¢ÂºïÔºâ‚Äì‰ºöËÆøÈóÆÂà∞‰∏çÊª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº‰∏∫Ê≠¢„ÄÇ</li>
</ol>
<p>Ê≥®ÊÑèÔºöÈó¥ÈöôÈîÅÂîØ‰∏ÄÁõÆÁöÑÊòØÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°ÊèíÂÖ•Èó¥Èöô„ÄÇÈó¥ÈöôÈîÅÂèØ‰ª•ÂÖ±Â≠òÔºå‰∏Ä‰∏™‰∫ãÂä°ÈááÁî®ÁöÑÈó¥ÈöôÈîÅ‰∏ç‰ºöÈòªÊ≠¢Âè¶‰∏Ä‰∏™‰∫ãÂä°Âú®Âêå‰∏ÄÈó¥Èöô‰∏äÈááÁî®Èó¥ÈöôÈîÅ„ÄÇ</p>
<h2 id="29-innodb-ÂºïÊìé"><a class="markdownIt-Anchor" href="#29-innodb-ÂºïÊìé"></a> 2.9: InnoDB ÂºïÊìé</h2>
<h3 id="291-ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ"><a class="markdownIt-Anchor" href="#291-ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ"></a> 2.9.1: ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ</h3>
<p>Ë°®Á©∫Èó¥Ôºàibd Êñá‰ª∂ÔºâÔºå‰∏Ä‰∏™ mysql ÂÆû‰æãÂèØ‰ª•ÂØπÂ∫îÂ§ö‰∏™Ë°®Á©∫Èó¥ÔºåÁî®‰∫éÂ≠òÂÇ®ËÆ∞ÂΩï„ÄÅÁ¥¢ÂºïÁ≠âÊï∞ÊçÆ„ÄÇ</p>
<p>ÊÆµÔºåÂàÜ‰∏∫Êï∞ÊçÆÊÆµÔºàLeaf node segmentÔºâ„ÄÅÁ¥¢ÂºïÊÆµÔºàNon-leaf node segmentÔºâ„ÄÅÂõûÊªöÊÆµÔºàRollback segmentÔºâÔºåInnoDB ÊòØÁ¥¢ÂºïÁªÑÁªáË°®ÔºåÊï∞ÊçÆÊÆµÂ∞±ÊòØ B+Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÔºåÁ¥¢ÂºïÊÆµÂç≥‰∏∫ B+Ê†ëÁöÑÈùûÂè∂Â≠êËäÇÁÇπ„ÄÇÊÆµÁî®Êù•ÁÆ°ÁêÜÂ§ö‰∏™ ExtentÔºàÂå∫Ôºâ„ÄÇ</p>
<p>Âå∫ÔºåË°®Á©∫Èó¥ÁöÑÂçïÂÖÉÁªìÊûÑÔºåÊØè‰∏™Âå∫ÁöÑÂ§ßÂ∞è‰∏∫ 1M„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåInnoDB Â≠òÂÇ®ÂºïÊìéÈ°µÂ§ßÂ∞è‰∏∫ 16KÔºåÂç≥‰∏Ä‰∏™Âå∫‰∏≠‰∏ÄÂÖ±Êúâ 64 ‰∏™ËøûÁª≠ÁöÑÈ°µ„ÄÇ</p>
<p>È°µÔºåÊòØ InnoDB Â≠òÂÇ®ÂºïÊìéÁ£ÅÁõòÁÆ°ÁêÜÁöÑÊúÄÂ∞èÂçïÂÖÉÔºåÊØè‰∏™È°µÁöÑÂ§ßÂ∞èÈªòËÆ§‰∏∫ 16KB„ÄÇ‰∏∫‰∫Ü‰øùËØÅÈ°µÁöÑËøûÁª≠ÊÄßÔºåInnoDB Â≠òÂÇ®ÂºïÊìéÊØè‰ªéÁ£ÅÁõòÁî≥ËØ∑ 4-5 ‰∏™Âå∫„ÄÇ‰∏ÄÈ°µÂåÖÂê´Ëã•Âπ≤Ë°å„ÄÇ</p>
<p>Ë°åÔºåInnoDB Â≠òÂÇ®ÂºïÊìéÊï∞ÊçÆÊòØÊåâËøõË°åÂ≠òÊîæÁöÑ„ÄÇ</p>
<h3 id="292-Êû∂ÊûÑ"><a class="markdownIt-Anchor" href="#292-Êû∂ÊûÑ"></a> 2.9.2: Êû∂ÊûÑ</h3>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<p>Buffer PoolÔºöÁºìÂÜ≤Ê±†ÊòØ‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™Âå∫ÂüüÔºåÈáåÈù¢ÂèØ‰ª•ÁºìÂ≠òÁ£ÅÁõò‰∏äÁªèÂ∏∏Êìç‰ΩúÁöÑÁúüÂÆûÊï∞ÊçÆÔºåÂú®ÊâßË°åÂ¢ûÂà†ÊîπÊü•Êìç‰ΩúÊó∂ÔºåÂÖàÊìç‰ΩúÁºìÂÜ≤Ê±†‰∏≠ÁöÑÊï∞ÊçÆÔºàËã•ÁºìÂÜ≤Ê±†Ê≤°ÊúâÊï∞ÊçÆÔºåÂàô‰ªéÁ£ÅÁõòÂä†ËΩΩÂπ∂ÁºìÂ≠òÔºâÔºåÁÑ∂ÂêéÂÜç‰ª•‰∏ÄÂÆöÈ¢ëÁéáÂà∑Êñ∞Âà∞Á£ÅÁõòÔºå‰ªéËÄåÂáèÂ∞ëÁ£ÅÁõò I0ÔºåÂä†Âø´Â§ÑÁêÜÈÄüÂ∫¶„ÄÇ</p>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic2.png" srcset="/img/loading.gif" lazyload alt="images"><br>
<img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic3.png" srcset="/img/loading.gif" lazyload alt="images"><br>
<img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic4.png" srcset="/img/loading.gif" lazyload alt="images"><br>
<img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic5.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<p>Á£ÅÁõòÊû∂ÊûÑÔºö<br>
<img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic6.png" srcset="/img/loading.gif" lazyload alt="images"><br>
<img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic7.png" srcset="/img/loading.gif" lazyload alt="images"><br>
<img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/artic8.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<p>InnoDB ÁöÑÊï¥‰∏™‰ΩìÁ≥ªÁªìÊûÑ‰∏∫Ôºö</p>
<p>ÂΩì‰∏öÂä°Êìç‰ΩúÁöÑÊó∂ÂÄôÁõ¥Êé•Êìç‰ΩúÁöÑÊòØÂÜÖÂ≠òÁºìÂÜ≤Âå∫ÔºåÂ¶ÇÊûúÁºìÂÜ≤Âå∫ÂΩì‰∏≠Ê≤°ÊúâÊï∞ÊçÆÔºåÂàô‰ºö‰ªéÁ£ÅÁõò‰∏≠Âä†ËΩΩÂà∞ÁºìÂÜ≤Âå∫ÔºåÂ¢ûÂà†ÊîπÊü•ÈÉΩÊòØÂú®ÁºìÂÜ≤Âå∫ÁöÑÔºåÂêéÂè∞Á∫øÁ®ã‰ª•‰∏ÄÂÆöÁöÑÈÄüÁéáÂà∑Êñ∞Âà∞Á£ÅÁõò„ÄÇ</p>
<h2 id="210-‰∫ãÂä°ÂéüÁêÜ"><a class="markdownIt-Anchor" href="#210-‰∫ãÂä°ÂéüÁêÜ"></a> 2.10: ‰∫ãÂä°ÂéüÁêÜ</h2>
<p>‰∫ãÂä°ÊòØ‰∏ÄÁªÑÊìç‰ΩúÁöÑÈõÜÂêàÔºåÂÆÉÊòØ‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÂ∑•‰ΩúÂçï‰ΩçÔºå‰∫ãÂä°‰ºöÊääÊâÄÊúâÁöÑÊìç‰Ωú‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰Ωì‰∏ÄËµ∑ÂêëÁ≥ªÁªüÊèê‰∫§ÊàñÊí§ÈîÄÊìç‰ΩúËØ∑Ê±ÇÔºåÂç≥Ëøô‰∫õÊìç‰ΩúË¶Å‰πàÂêåÊó∂ÊàêÂäüÔºåË¶Å‰πàÂêåÊó∂Ë¥•„ÄÇÂÖ∑Êúâ ACID ÂõõÂ§ßÁâπÂæÅ„ÄÇ</p>
<p>ÂéüÂ≠êÊÄßÔºå‰∏ÄËá¥ÊÄßÔºåÊåÅ‰πÖÊÄßËøô‰∏âÂ§ßÁâπÊÄßÁî± redo log Âíå undo log Êó•ÂøóÊù•‰øùËØÅÁöÑ„ÄÇ<br>
ÈöîÁ¶ªÊÄßÊòØÁî±ÈîÅÊú∫Âà∂Âíå MVCC ‰øùËØÅÁöÑ„ÄÇ</p>
<p>redo log:</p>
<p>ÈáçÂÅöÊó•ÂøóÔºåËÆ∞ÂΩïÁöÑÊòØ‰∫ãÂä°Êèê‰∫§Êó∂Êï∞ÊçÆÈ°µÁöÑÁâ©ÁêÜ‰øÆÊîπÔºåÊòØÁî®Êù•ÂÆûÁé∞‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄß„ÄÇ<br>
ËØ•Êó•ÂøóÊñá‰ª∂Áî±‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºöÈáçÂÅöÊó•ÂøóÁºìÂÜ≤Ôºàredo log bufferÔºâ‰ª•ÂèäÈáçÂÅöÊó•ÂøóÊñá‰ª∂Ôºàredo log fileÔºâÔºåÂâçËÄÖÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂêéËÄÖÂú®Á£ÅÁõò‰∏≠„ÄÇÂΩì‰∫ãÂä°Êèê‰∫§‰πãÂêé‰ºöÊääÊâÄÊúâ‰øÆÊîπ‰ø°ÊÅØÈÉΩÂ≠òÂà∞ËØ•Êó•ÂøóÊñá‰ª∂‰∏≠ÔºåÁî®‰∫éÂú®Âà∑Êñ∞ËÑèÈ°µÂà∞Á£ÅÁõòÔºåÂèëÁîüÈîôËØØÊó∂ÔºåËøõË°åÊï∞ÊçÆÊÅ¢Â§ç‰ΩøÁî®„ÄÇ</p>
<blockquote>
<p>‰∏™‰∫∫ÁêÜËß£Ôºö ‰∫ãÁâ©ÊØèÊ¨°Êèê‰∫§ÁöÑÊó∂ÂÄôÈÉΩ‰ºöÂ∞ÜÊï∞ÊçÆÂà∑Âà∞ redo log ‰∏≠ËÄå‰∏çÊòØÁõ¥Êé•Â∞Ü buffer pool ‰∏≠ÁöÑÊï∞ÊçÆÁõ¥Êé•Âà∑Âà∞Á£ÅÁõò‰∏≠Ôºàibd Êñá‰ª∂‰∏≠ÔºâÔºåÊòØÂõ†‰∏∫ redo log ÊòØÈ°∫Â∫èÂÜôÔºåÊÄßËÉΩÂ§ÑÁêÜÁöÑÂ§üÂø´ÔºåÁõ¥Êé•Âà∑Âà∞ ibd ‰∏≠ÔºåÊòØÈöèÊú∫ÂÜôÔºåÊÄßËÉΩÊÖ¢„ÄÇÊâÄ‰ª•ËÑèÈ°µÊòØÂú®‰∏ã‰∏ÄÊ¨°ËØªÁöÑÊó∂ÂÄôÔºåÊàñËÄÖÂêéÂè∞Á∫øÁ®ãÈááÁî®‰∏ÄÂÆöÁöÑÊú∫Âà∂ËøõË°åÂà∑ÁõòÂà∞ ibd ‰∏≠„ÄÇ</p>
</blockquote>
<p>undo log:<br>
ÂõûÊªöÊó•ÂøóÔºåÁî®‰∫éËÆ∞ÂΩïÊï∞ÊçÆË¢´‰øÆÊîπÂâçÁöÑ‰ø°ÊÅØÔºå‰ΩúÁî®ÂåÖÂê´‰∏§‰∏™ÔºöÊèê‰æõÂõûÊªöÂíå MVCCÔºàÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Ôºâ„ÄÇ<br>
undo log Âíå redo log ËÆ∞ÂΩïÁâ©ÁêÜÊó•Âøó‰∏ç‰∏ÄÊ†∑ÔºåÂÆÉÊòØÈÄªËæëÊó•Âøó„ÄÇÂèØ‰ª•ËÆ§‰∏∫ÂΩì delete ‰∏ÄÊù°ËÆ∞ÂΩïÔºåundo log ‰∏≠‰ºöËÆ∞ÂΩï‰∏ÄÊù°ÂØπÂ∫îÁöÑ insert ËÆ∞ÂΩïÔºåÂèç‰πã‰∫¶ÁÑ∂ÔºåÂΩì update ‰∏ÄÊù°ËÆ∞ÂΩïÊó∂ÔºåÂÆÉËÆ∞ÂΩï‰∏ÄÊù°ÂØπÂ∫îÁõ∏ÂèçÁöÑ update ËÆ∞ÂΩï„ÄÇÂΩìÊâßË°å rollback Êó∂ÔºåÂ∞±ÂèØ‰ª•‰ªé undo log ‰∏≠ÁöÑÈÄªËæëËÆ∞ÂΩïËØªÂèñÂà∞Áõ∏Â∫îÁöÑÂÜÖÂÆπÂπ∂ËøõË°åÂõûÊªö„ÄÇ</p>
<blockquote>
<p>Undo log ÈîÄÊØÅÔºöundo log Âú®‰∫ãÂä°ÊâßË°åÊó∂‰∫ßÁîüÔºå‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÂπ∂‰∏ç‰ºöÁ´ãÂç≥Âà†Èô§ undo logÔºåÂõ†‰∏∫Ëøô‰∫õÊó•ÂøóÂèØËÉΩËøòÁî®‰∫é MVCC„ÄÇ<br>
Undo log Â≠òÂÇ®Ôºöundo log ÈááÁî®ÊÆµÁöÑÊñπÂºèËøõË°åÁÆ°ÁêÜÂíåËÆ∞ÂΩïÔºåÂ≠òÊîæÂú®ÂâçÈù¢‰ªãÁªçÁöÑ rollback segment ÂõûÊªöÊÆµ‰∏≠ÔºåÂÜÖÈÉ®ÂåÖÂê´ 1024 ‰∏™ undo log segment„ÄÇ</p>
</blockquote>
<h2 id="211-mvcc"><a class="markdownIt-Anchor" href="#211-mvcc"></a> 2.11: MVCC</h2>
<h3 id="2111-ÂΩìÂâçËØª"><a class="markdownIt-Anchor" href="#2111-ÂΩìÂâçËØª"></a> 2.11.1: ÂΩìÂâçËØª:</h3>
<p>ËØªÂèñÁöÑÊòØËÆ∞ÂΩïÁöÑÊúÄÊñ∞ÁâàÊú¨ÔºåËØªÂèñÊó∂ËøòË¶Å‰øùËØÅÂÖ∂‰ªñÂπ∂Âèë‰∫ãÂä°‰∏çËÉΩ‰øÆÊîπÂΩìÂâçËÆ∞ÂΩïÔºå‰ºöÂØπËØªÂèñÁöÑËÆ∞ÂΩïËøõË°åÂä†ÈîÅ„ÄÇÂØπ‰∫éÊàë‰ª¨Êó•Â∏∏ÁöÑÊìç‰ΩúÔºåÂ¶ÇÔºö</p>
<ul>
<li>select‚Ä¶lock in share modeÔºàÂÖ±‰∫´ÈîÅÔºâ„ÄÇ</li>
<li>select‚Ä¶‚Ä¶for update„ÄÅupdate„ÄÅinsert„ÄÅdeleteÔºàÊéí‰ªñÈîÅÔºâÈÉΩÊòØ‰∏ÄÁßçÂΩìÂâçËØª„ÄÇ</li>
</ul>
<h3 id="2112-Âø´ÁÖßËØª"><a class="markdownIt-Anchor" href="#2112-Âø´ÁÖßËØª"></a> 2.11.2: Âø´ÁÖßËØª:</h3>
<p>ÁÆÄÂçïÁöÑ selectÔºà‰∏çÂä†ÈîÅÔºâÂ∞±ÊòØÂø´ÁÖßËØªÔºåÂø´ÁÖßËØªÔºåËØªÂèñÁöÑÊòØËÆ∞ÂΩïÊï∞ÊçÆÁöÑÂèØËßÅÁâàÊú¨ÔºåÊúâÂèØËÉΩÊòØÂéÜÂè≤Êï∞ÊçÆÔºå‰∏çÂä†ÈîÅÔºåÊòØÈùûÈòªÂ°ûËØª„ÄÇ</p>
<ul>
<li>Read CommittedÔºöÊØèÊ¨° selectÔºåÈÉΩÁîüÊàê‰∏Ä‰∏™Âø´ÁÖßËØª„ÄÇ</li>
<li>Repeatable ReadÔºöÂºÄÂêØ‰∫ãÂä°ÂêéÁ¨¨‰∏Ä‰∏™ select ËØ≠Âè•ÊâçÊòØÂø´ÁÖßËØªÁöÑÂú∞Êñπ„ÄÇ</li>
<li>SerializableÔºöÂø´ÁÖßËØª‰ºöÈÄÄÂåñ‰∏∫ÂΩìÂâçËØª„ÄÇ</li>
</ul>
<h3 id="2113-mvcc"><a class="markdownIt-Anchor" href="#2113-mvcc"></a> 2.11.3: MVCC:</h3>
<p>ÂÖ®Áß∞ Multi-Version Concurrency ControlÔºåÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂„ÄÇÊåáÁª¥Êä§‰∏Ä‰∏™Êï∞ÊçÆÁöÑÂ§ö‰∏™ÁâàÊú¨Ôºå‰ΩøÂæóËØªÂÜôÊìç‰ΩúÊ≤°ÊúâÂÜ≤Á™ÅÔºåÂø´ÁÖßËØª‰∏∫ MySQL ÂÆûÁé∞ MVCC Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÈùûÈòªÂ°ûËØªÂäüËÉΩ„ÄÇMVCC ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåËøòÈúÄË¶Å‰æùËµñ‰∫éÊï∞ÊçÆÂ∫ìËÆ∞ÂΩï‰∏≠ÁöÑ‰∏â‰∏™ÈöêÂºèÂ≠óÊÆµ„ÄÅundo log Êó•Âøó„ÄÅreadView„ÄÇ</p>
<h4 id="21131-mvcc-ÂÆûÁé∞ÂéüÁêÜ"><a class="markdownIt-Anchor" href="#21131-mvcc-ÂÆûÁé∞ÂéüÁêÜ"></a> 2.11.3.1: MVCC ÂÆûÁé∞ÂéüÁêÜ:</h4>
<p>Êúâ‰∏â‰∏™ÈöêËóèÁöÑÂ≠óÊÆµ:</p>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/MVCC.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<blockquote>
<p>undo log ÂõûÊªöÊó•ÂøóÔºåÂú® insert„ÄÅupdate„ÄÅdelete ÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑ‰æø‰∫éÊï∞ÊçÆÂõûÊªöÁöÑÊó•Âøó„ÄÇ<br>
ÂΩì insert ÁöÑÊó∂ÂÄôÔºå‰∫ßÁîüÁöÑ undo log Êó•ÂøóÂè™Âú®ÂõûÊªöÊó∂ÈúÄË¶ÅÔºåÂú®‰∫ãÂä°Êèê‰∫§ÂêéÔºåÂèØË¢´Á´ãÂç≥Âà†Èô§„ÄÇ<br>
ËÄå update„ÄÅdelete ÁöÑÊó∂ÂÄôÔºå‰∫ßÁîüÁöÑ undo log Êó•Âøó‰∏ç‰ªÖÂú®ÂõûÊªöÊó∂ÈúÄË¶ÅÔºåÂú®Âø´ÁÖßËØªÊó∂‰πüÈúÄË¶ÅÔºå‰∏ç‰ºöÁ´ãÂç≥Ë¢´Âà†Èô§„ÄÇ</p>
</blockquote>
<p>undo log ÁâàÊú¨ÈìæÔºö ^935630</p>
<p>undo log Êó•Âøó‰ºöËÆ∞ÂΩïÂéüÊù•ÁöÑÁâàÊú¨ÁöÑÊï∞ÊçÆÔºåÂõ†‰∏∫ÊòØÈÄöËøá undo log Êó•ÂøóËøõË°åÂõûÊªöÁöÑ„ÄÇ</p>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/MVCCList.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<p>Â¶Ç‰ΩïÁ°ÆÂÆöËøîÂõûÂì™‰∏Ä‰∏™ÁâàÊú¨ËøôÊòØÁî± read view ÂÜ≥ÂÆöËøîÂõû undo log ‰∏≠ÁöÑÂì™‰∏Ä‰∏™ÁâàÊú¨„ÄÇ</p>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/readview0.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<blockquote>
<p>RC ÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂú®‰∫ãÂä°‰∏≠ÊØè‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàê ReadView„ÄÇ<br>
RR ÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂú®‰∫ãÂä°‰∏≠Á¨¨‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàê ReadViewÔºåÂêéÁª≠‰ºöÂ§çÁî®„ÄÇ</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=145&amp;spm_id_from=pageDriver&amp;vd_source=bbc04b831b54029788a178a7c2e9ae20">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=145&amp;spm_id_from=pageDriver&amp;vd_source=bbc04b831b54029788a178a7c2e9ae20</a></p>
</blockquote>
<p>MVCC Èù†ÈöêËóèÂ≠óÊÆµ , undo log ÁâàÊú¨Èìæ , read view ÂÆûÁé∞ÁöÑ„ÄÇ</p>
<ul>
<li>ÂéüÂ≠êÊÄß-undo log</li>
<li>ÊåÅ‰πÖÊÄß-redo log</li>
<li>‰∏ÄËá¥ÊÄß-undo log + redo log</li>
<li>ÈöîÁ¶ªÊÄß-ÈîÅ + MVCC</li>
</ul>
<p><img src="https://github.com/Buildings-Lei/mysql_note/blob/main/images/readview.png" srcset="/img/loading.gif" lazyload alt="images"></p>
<h1 id="3-Êï∞ÊçÆÁ±ªÂûã"><a class="markdownIt-Anchor" href="#3-Êï∞ÊçÆÁ±ªÂûã"></a> 3: Êï∞ÊçÆÁ±ªÂûã</h1>
<h2 id="31-Êï¥Âûã"><a class="markdownIt-Anchor" href="#31-Êï¥Âûã"></a> 3.1: Êï¥Âûã</h2>
<table>
<thead>
<tr>
<th>Á±ªÂûãÂêçÁß∞</th>
<th>ÂèñÂÄºËåÉÂõ¥</th>
<th>Â§ßÂ∞è</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYINT</td>
<td>-128„Äú127</td>
<td>1 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>-32768„Äú32767</td>
<td>2 ‰∏™ÂÆáËäÇ</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>-8388608„Äú8388607</td>
<td>3 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>INT (INTEGHR)</td>
<td>-2147483648„Äú2147483647</td>
<td>4 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>BIGINT</td>
<td>-9223372036854775808„Äú9223372036854775807</td>
<td>8 ‰∏™Â≠óËäÇ</td>
</tr>
</tbody>
</table>
<p>Êó†Á¨¶Âè∑Âú®Êï∞ÊçÆÁ±ªÂûãÂêéÂä† unsigned ÂÖ≥ÈîÆÂ≠ó„ÄÇ</p>
<h2 id="32-ÊµÆÁÇπÂûã"><a class="markdownIt-Anchor" href="#32-ÊµÆÁÇπÂûã"></a> 3.2: ÊµÆÁÇπÂûã</h2>
<table>
<thead>
<tr>
<th>Á±ªÂûãÂêçÁß∞</th>
<th>ËØ¥Êòé</th>
<th>Â≠òÂÇ®ÈúÄÊ±Ç</th>
</tr>
</thead>
<tbody>
<tr>
<td>FLOAT</td>
<td>ÂçïÁ≤æÂ∫¶ÊµÆÁÇπÊï∞</td>
<td>4 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>ÂèåÁ≤æÂ∫¶ÊµÆÁÇπÊï∞</td>
<td>8 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>DECIMAL (M, D)ÔºåDEC</td>
<td>ÂéãÁº©ÁöÑ‚Äú‰∏•Ê†º‚ÄùÂÆöÁÇπÊï∞</td>
<td>M+2 ‰∏™Â≠óËäÇ</td>
</tr>
</tbody>
</table>
<h2 id="33-Êó•ÊúüÂíåÊó∂Èó¥"><a class="markdownIt-Anchor" href="#33-Êó•ÊúüÂíåÊó∂Èó¥"></a> 3.3: Êó•ÊúüÂíåÊó∂Èó¥</h2>
<table>
<thead>
<tr>
<th>Á±ªÂûãÂêçÁß∞</th>
<th>Êó•ÊúüÊ†ºÂºè</th>
<th>Êó•ÊúüËåÉÂõ¥</th>
<th>Â≠òÂÇ®ÈúÄÊ±Ç</th>
</tr>
</thead>
<tbody>
<tr>
<td>YEAR</td>
<td>YYYY</td>
<td>1901 ~ 2155</td>
<td>1 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>TIME</td>
<td>HH:MM: SS</td>
<td>-838:59: 59 ~ 838:59: 59</td>
<td>3 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>DATE</td>
<td>YYYY-MM-DD</td>
<td>1000-01-01 ~ 9999-12-3</td>
<td>3 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>DATETIME</td>
<td>YYYY-MM-DD HH:MM: SS</td>
<td>1000-01-01 00:00: 00 ~ 9999-12-31 23:59: 59</td>
<td>8 ‰∏™Â≠óËäÇ</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>YYYY-MM-DD HH:MM: SS</td>
<td>1980-01-01 00:00: 01 UTC ~ 2040-01-19 03:14: 07 UTC</td>
<td>4 ‰∏™Â≠óËäÇ</td>
</tr>
</tbody>
</table>
<h2 id="34-Â≠óÁ¨¶‰∏≤"><a class="markdownIt-Anchor" href="#34-Â≠óÁ¨¶‰∏≤"></a> 3.4: Â≠óÁ¨¶‰∏≤</h2>
<table>
<thead>
<tr>
<th>Á±ªÂûãÂêçÁß∞</th>
<th>ËØ¥Êòé</th>
<th>Â≠òÂÇ®ÈúÄÊ±Ç</th>
</tr>
</thead>
<tbody>
<tr>
<td>CHAR (M)</td>
<td>Âõ∫ÂÆöÈïøÂ∫¶Èùû‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>M Â≠óËäÇÔºå1&lt;=M&lt;=255</td>
</tr>
<tr>
<td>VARCHAR (M)</td>
<td>ÂèòÈïøÈùû‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>L+1 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt; = M Âíå 1&lt;=M&lt;=255</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>ÈùûÂ∏∏Â∞èÁöÑÈùû‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>L+1 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^8</td>
</tr>
<tr>
<td>TEXT</td>
<td>Â∞èÁöÑÈùû‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>L+2 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^16</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>‰∏≠Á≠âÂ§ßÂ∞èÁöÑÈùû‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>L+3 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^24</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>Â§ßÁöÑÈùû‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>L+4 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^32</td>
</tr>
<tr>
<td>ENUM</td>
<td>Êûö‰∏æÁ±ªÂûãÔºåÂè™ËÉΩÊúâ‰∏Ä‰∏™Êûö‰∏æÂ≠óÁ¨¶‰∏≤ÂÄº</td>
<td>1 Êàñ 2 ‰∏™Â≠óËäÇÔºåÂèñÂÜ≥‰∫éÊûö‰∏æÂÄºÁöÑÊï∞ÁõÆ (ÊúÄÂ§ßÂÄº‰∏∫ 65535)</td>
</tr>
<tr>
<td>SET</td>
<td>‰∏Ä‰∏™ËÆæÁΩÆÔºåÂ≠óÁ¨¶‰∏≤ÂØπË±°ÂèØ‰ª•ÊúâÈõ∂‰∏™ÊàñÂ§ö‰∏™ SET ÊàêÂëò</td>
<td>1„ÄÅ2„ÄÅ3„ÄÅ4 Êàñ 8 ‰∏™Â≠óËäÇÔºåÂèñÂÜ≥‰∫éÈõÜÂêàÊàêÂëòÁöÑÊï∞ÈáèÔºàÊúÄÂ§ö 64 ‰∏™ÊàêÂëòÔºâ</td>
</tr>
</tbody>
</table>
<h2 id="35-‰∫åËøõÂà∂Á±ªÂûã"><a class="markdownIt-Anchor" href="#35-‰∫åËøõÂà∂Á±ªÂûã"></a> 3.5: ‰∫åËøõÂà∂Á±ªÂûã</h2>
<table>
<thead>
<tr>
<th>Á±ªÂûãÂêçÁß∞</th>
<th>ËØ¥Êòé</th>
<th>Â≠òÂÇ®ÈúÄÊ±Ç</th>
</tr>
</thead>
<tbody>
<tr>
<td>BIT (M)</td>
<td>‰ΩçÂ≠óÊÆµÁ±ªÂûã</td>
<td>Â§ßÁ∫¶ (M+7)/8 Â≠óËäÇ</td>
</tr>
<tr>
<td>BINARY (M)</td>
<td>Âõ∫ÂÆöÈïøÂ∫¶‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>M Â≠óËäÇ</td>
</tr>
<tr>
<td>VARBINARY (M)</td>
<td>ÂèØÂèòÈïøÂ∫¶‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤</td>
<td>M+1 Â≠óËäÇ</td>
</tr>
<tr>
<td>TINYBLOB (M)</td>
<td>ÈùûÂ∏∏Â∞èÁöÑ BLOB</td>
<td>L+1 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^8</td>
</tr>
<tr>
<td>BLOB (M)</td>
<td>Â∞è BLOB</td>
<td>L+2 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^16</td>
</tr>
<tr>
<td>MEDIUMBLOB (M)</td>
<td>‰∏≠Á≠âÂ§ßÂ∞èÁöÑ BLOB</td>
<td>L+3 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^24</td>
</tr>
<tr>
<td>LONGBLOB (M)</td>
<td>ÈùûÂ∏∏Â§ßÁöÑ BLOB</td>
<td>L+4 Â≠óËäÇÔºåÂú®Ê≠§ÔºåL&lt;2^32</td>
</tr>
</tbody>
</table>
<h1 id="4-ÊùÉÈôê‰∏ÄËßàË°®"><a class="markdownIt-Anchor" href="#4-ÊùÉÈôê‰∏ÄËßàË°®"></a> 4: ÊùÉÈôê‰∏ÄËßàË°®</h1>
<blockquote>
<p>ÂÖ∑‰ΩìÊùÉÈôêÁöÑ‰ΩúÁî®ËØ¶ËßÅ<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html" title="ÂÆòÊñπÊñáÊ°£">ÂÆòÊñπÊñáÊ°£</a></p>
</blockquote>
<p>GRANT Âíå REVOKE ÂÖÅËÆ∏ÁöÑÈùôÊÄÅÊùÉÈôê</p>
<table>
<thead>
<tr>
<th style="text-align:left">Privilege</th>
<th style="text-align:left">Grant Table Column</th>
<th style="text-align:left">Context</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_all"><code>ALL [PRIVILEGES]</code></a></td>
<td style="text-align:left">Synonym for ‚Äúall privileges‚Äù</td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter"><code>ALTER</code></a></td>
<td style="text-align:left"><code>Alter_priv</code></td>
<td style="text-align:left">Tables</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter-routine"><code>ALTER ROUTINE</code></a></td>
<td style="text-align:left"><code>Alter_routine_priv</code></td>
<td style="text-align:left">Stored routines</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create"><code>CREATE</code></a></td>
<td style="text-align:left"><code>Create_priv</code></td>
<td style="text-align:left">Databases, tables, or indexes</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-role"><code>CREATE ROLE</code></a></td>
<td style="text-align:left"><code>Create_role_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-routine"><code>CREATE ROUTINE</code></a></td>
<td style="text-align:left"><code>Create_routine_priv</code></td>
<td style="text-align:left">Stored routines</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-tablespace"><code>CREATE TABLESPACE</code></a></td>
<td style="text-align:left"><code>Create_tablespace_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-temporary-tables"><code>CREATE TEMPORARY TABLES</code></a></td>
<td style="text-align:left"><code>Create_tmp_table_priv</code></td>
<td style="text-align:left">Tables</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-user"><code>CREATE USER</code></a></td>
<td style="text-align:left"><code>Create_user_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-view"><code>CREATE VIEW</code></a></td>
<td style="text-align:left"><code>Create_view_priv</code></td>
<td style="text-align:left">Views</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_delete"><code>DELETE</code></a></td>
<td style="text-align:left"><code>Delete_priv</code></td>
<td style="text-align:left">Tables</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop"><code>DROP</code></a></td>
<td style="text-align:left"><code>Drop_priv</code></td>
<td style="text-align:left">Databases, tables, or views</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop-role"><code>DROP ROLE</code></a></td>
<td style="text-align:left"><code>Drop_role_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_event"><code>EVENT</code></a></td>
<td style="text-align:left"><code>Event_priv</code></td>
<td style="text-align:left">Databases</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_execute"><code>EXECUTE</code></a></td>
<td style="text-align:left"><code>Execute_priv</code></td>
<td style="text-align:left">Stored routines</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_file"><code>FILE</code></a></td>
<td style="text-align:left"><code>File_priv</code></td>
<td style="text-align:left">File access on server host</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_grant-option"><code>GRANT OPTION</code></a></td>
<td style="text-align:left"><code>Grant_priv</code></td>
<td style="text-align:left">Databases, tables, or stored routines</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_index"><code>INDEX</code></a></td>
<td style="text-align:left"><code>Index_priv</code></td>
<td style="text-align:left">Tables</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_insert"><code>INSERT</code></a></td>
<td style="text-align:left"><code>Insert_priv</code></td>
<td style="text-align:left">Tables or columns</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_lock-tables"><code>LOCK TABLES</code></a></td>
<td style="text-align:left"><code>Lock_tables_priv</code></td>
<td style="text-align:left">Databases</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_process"><code>PROCESS</code></a></td>
<td style="text-align:left"><code>Process_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_proxy"><code>PROXY</code></a></td>
<td style="text-align:left">See <code>proxies_priv</code> table</td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_references"><code>REFERENCES</code></a></td>
<td style="text-align:left"><code>References_priv</code></td>
<td style="text-align:left">Databases or tables</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_reload"><code>RELOAD</code></a></td>
<td style="text-align:left"><code>Reload_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-client"><code>REPLICATION CLIENT</code></a></td>
<td style="text-align:left"><code>Repl_client_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave"><code>REPLICATION SLAVE</code></a></td>
<td style="text-align:left"><code>Repl_slave_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_select"><code>SELECT</code></a></td>
<td style="text-align:left"><code>Select_priv</code></td>
<td style="text-align:left">Tables or columns</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-databases"><code>SHOW DATABASES</code></a></td>
<td style="text-align:left"><code>Show_db_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-view"><code>SHOW VIEW</code></a></td>
<td style="text-align:left"><code>Show_view_priv</code></td>
<td style="text-align:left">Views</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_shutdown"><code>SHUTDOWN</code></a></td>
<td style="text-align:left"><code>Shutdown_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_super"><code>SUPER</code></a></td>
<td style="text-align:left"><code>Super_priv</code></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_trigger"><code>TRIGGER</code></a></td>
<td style="text-align:left"><code>Trigger_priv</code></td>
<td style="text-align:left">Tables</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_update"><code>UPDATE</code></a></td>
<td style="text-align:left"><code>Update_priv</code></td>
<td style="text-align:left">Tables or columns</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_usage"><code>USAGE</code></a></td>
<td style="text-align:left">Synonym for ‚Äúno privileges‚Äù</td>
<td style="text-align:left">Server administration</td>
</tr>
</tbody>
</table>
<p>GRANT Âíå REVOKE ÂÖÅËÆ∏ÁöÑÂä®ÊÄÅÊùÉÈôê</p>
<table>
<thead>
<tr>
<th style="text-align:left">Privilege</th>
<th style="text-align:left">Context</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin"><code>APPLICATION_PASSWORD_ADMIN</code></a></td>
<td style="text-align:left">Dual password administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-abort-exempt"><code>AUDIT_ABORT_EXEMPT</code></a></td>
<td style="text-align:left">Allow queries blocked by audit log filter</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-admin"><code>AUDIT_ADMIN</code></a></td>
<td style="text-align:left">Audit log administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin"><code>AUTHENTICATION_POLICY_ADMIN</code></a></td>
<td style="text-align:left">Authentication administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_backup-admin"><code>BACKUP_ADMIN</code></a></td>
<td style="text-align:left">Backup administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-admin"><code>BINLOG_ADMIN</code></a></td>
<td style="text-align:left">Backup and Replication administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-encryption-admin"><code>BINLOG_ENCRYPTION_ADMIN</code></a></td>
<td style="text-align:left">Backup and Replication administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_clone-admin"><code>CLONE_ADMIN</code></a></td>
<td style="text-align:left">Clone administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin"><code>CONNECTION_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_encryption-key-admin"><code>ENCRYPTION_KEY_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-admin"><code>FIREWALL_ADMIN</code></a></td>
<td style="text-align:left">Firewall administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-exempt"><code>FIREWALL_EXEMPT</code></a></td>
<td style="text-align:left">Firewall administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-user"><code>FIREWALL_USER</code></a></td>
<td style="text-align:left">Firewall administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs"><code>FLUSH_OPTIMIZER_COSTS</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status"><code>FLUSH_STATUS</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables"><code>FLUSH_TABLES</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources"><code>FLUSH_USER_RESOURCES</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-admin"><code>GROUP_REPLICATION_ADMIN</code></a></td>
<td style="text-align:left">Replication administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream"><code>GROUP_REPLICATION_STREAM</code></a></td>
<td style="text-align:left">Replication administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-archive"><code>INNODB_REDO_LOG_ARCHIVE</code></a></td>
<td style="text-align:left">Redo log archiving administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_ndb-stored-user"><code>NDB_STORED_USER</code></a></td>
<td style="text-align:left">NDB Cluster</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin"><code>PASSWORDLESS_USER_ADMIN</code></a></td>
<td style="text-align:left">Authentication administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_persist-ro-variables-admin"><code>PERSIST_RO_VARIABLES_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-applier"><code>REPLICATION_APPLIER</code></a></td>
<td style="text-align:left"><code>PRIVILEGE_CHECKS_USER</code> for a replication channel</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave-admin"><code>REPLICATION_SLAVE_ADMIN</code></a></td>
<td style="text-align:left">Replication administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-admin"><code>RESOURCE_GROUP_ADMIN</code></a></td>
<td style="text-align:left">Resource group administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-user"><code>RESOURCE_GROUP_USER</code></a></td>
<td style="text-align:left">Resource group administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin"><code>ROLE_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_session-variables-admin"><code>SESSION_VARIABLES_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id"><code>SET_USER_ID</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine"><code>SHOW_ROUTINE</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user"><code>SYSTEM_USER</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-variables-admin"><code>SYSTEM_VARIABLES_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_table-encryption-admin"><code>TABLE_ENCRYPTION_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_version-token-admin"><code>VERSION_TOKEN_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin"><code>XA_RECOVER_ADMIN</code></a></td>
<td style="text-align:left">Server administration</td>
</tr>
</tbody>
</table>
<h1 id="5-ÂõæÂΩ¢ÂåñÁïåÈù¢Â∑•ÂÖ∑"><a class="markdownIt-Anchor" href="#5-ÂõæÂΩ¢ÂåñÁïåÈù¢Â∑•ÂÖ∑"></a> 5: ÂõæÂΩ¢ÂåñÁïåÈù¢Â∑•ÂÖ∑</h1>
<ul>
<li>Workbench (ÂÖçË¥π): <a target="_blank" rel="noopener" href="http://dev.mysql.com/downloads/workbench/">http://dev.mysql.com/downloads/workbench/</a></li>
<li>navicat (Êî∂Ë¥πÔºåËØïÁî®Áâà 30 Â§©): <a target="_blank" rel="noopener" href="https://www.navicat.com/en/download/navicat-for-mysql">https://www.navicat.com/en/download/navicat-for-mysql</a></li>
<li>Sequel Pro (ÂºÄÊ∫êÂÖçË¥πÔºå‰ªÖÊîØÊåÅ Mac OS): <a target="_blank" rel="noopener" href="http://www.sequelpro.com/">http://www.sequelpro.com/</a></li>
<li>HeidiSQL (ÂÖçË¥π): <a target="_blank" rel="noopener" href="http://www.heidisql.com/">http://www.heidisql.com/</a></li>
<li>phpMyAdmin (ÂÖçË¥π): <a target="_blank" rel="noopener" href="https://www.phpmyadmin.net/">https://www.phpmyadmin.net/</a></li>
<li>SQLyog: <a target="_blank" rel="noopener" href="https://sqlyog.en.softonic.com/">https://sqlyog.en.softonic.com/</a></li>
</ul>
<h1 id="6-ÂÆâË£Ö"><a class="markdownIt-Anchor" href="#6-ÂÆâË£Ö"></a> 6: ÂÆâË£Ö</h1>
<h1 id="7-Â∞èÊäÄÂ∑ß"><a class="markdownIt-Anchor" href="#7-Â∞èÊäÄÂ∑ß"></a> 7: Â∞èÊäÄÂ∑ß</h1>
<ol>
<li>Âú® SQL ËØ≠Âè•‰πãÂêéÂä†‰∏ä <code>\G</code> ‰ºöÂ∞ÜÁªìÊûúÁöÑË°®Ê†ºÂΩ¢ÂºèËΩ¨Êç¢ÊàêË°åÊñáÊú¨ÂΩ¢Âºè</li>
<li>Êü•Áúã Mysql Êï∞ÊçÆÂ∫ìÂç†Áî®Á©∫Èó¥Ôºö</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT table_schema "Database Name"<br>     , SUM(data_length + index_length) / (1024 * 1024) "Database Size in MB"<br>FROM information_schema.TABLES<br>GROUP BY table_schema;<br></code></pre></td></tr></tbody></table></figure>
<h1 id="8-ÂèÇËÄÉÊñáÁåÆ"><a class="markdownIt-Anchor" href="#8-ÂèÇËÄÉÊñáÁåÆ"></a> 8: ÂèÇËÄÉÊñáÁåÆ</h1>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://dhc.pythonanywhere.com/entry/share/?key=3ad29aad765a2b98b2b2a745d71bef715507ee9db8adbec98257bac0ad84cbe4#h1-u6743u9650u4E00u89C8u8868">https://dhc.pythonanywhere.com/entry/share/?key=3ad29aad765a2b98b2b2a745d71bef715507ee9db8adbec98257bac0ad84cbe4#h1-u6743u9650u4E00u89C8u8868</a><br>
ËøôÁØáÁ¨îËÆ∞ÊòØÂú®Âà´‰∫∫ÁöÑÂü∫Á°Ä‰∏äÂÆåÂñÑËÄåÊù•ÔºåÊÑüË∞¢ B Á´ôÁöÑÈªëÈ©¨Á®ãÂ∫èÂëò up ‰∏ªÔºå‰πüÊÑüË∞¢Ë∑ØÈÄîÂçöÂÆ¢„ÄÇ</p>
</blockquote>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%F0%9F%91%A8%F0%9F%8F%BB%E2%80%8D%F0%9F%92%BBcode/" class="category-chain-item">üë®üèª‚Äçüíªcode</a>
  
  
    <span>></span>
    
  <a href="/categories/%F0%9F%91%A8%F0%9F%8F%BB%E2%80%8D%F0%9F%92%BBcode/MySQL/" class="category-chain-item">MySQL</a>
  
  
    <span>></span>
    
  <a href="/categories/%F0%9F%91%A8%F0%9F%8F%BB%E2%80%8D%F0%9F%92%BBcode/MySQL/%E8%BF%9B%E9%98%B6%E7%AF%87/" class="category-chain-item">ËøõÈò∂ÁØá</a>
  
  

  

  

      </span>
    
  
</span>

    </div>
  
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/47660/" title="ÂÖ®Â±ÄÈîÅ">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ÂÖ®Â±ÄÈîÅ</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/21632/" title="ÈîÅ">
                        <span class="hidden-mobile">ÈîÅ</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ÁõÆÂΩï</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  




  
  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
</body>
</html>
